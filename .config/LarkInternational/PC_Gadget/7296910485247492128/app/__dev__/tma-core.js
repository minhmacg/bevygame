!function(e){var t=function(t){"use strict";e.__JSSDK_VERSION__={SDKVersion:"1.9.97",SDKUpdateVersion:"1.9.97.1",CommitHash:"3bbad169649f7511ff53ef53d4f8da88dfa114cc"};var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var o=function(e){return e&&e.Math==Math&&e},a=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n&&n)||function(){return this}()||Function("return this")(),s=function(e){try{return!!e()}catch(e){return!0}},c=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),u={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,f={f:l&&!u.call({1:2},1)?function(e){var t=l(this,e);return!!t&&t.enumerable}:u},d=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},h={}.toString,p=function(e){return h.call(e).slice(8,-1)},v="".split,g=s((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==p(e)?v.call(e,""):Object(e)}:Object,m=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},y=function(e){return g(m(e))},b=function(e){return"object"==typeof e?null!==e:"function"==typeof e},k=function(e,t){if(!b(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!b(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!b(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!b(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},w={}.hasOwnProperty,_=function(e,t){return w.call(e,t)},S=a.document,C=b(S)&&b(S.createElement),I=function(e){return C?S.createElement(e):{}},T=!c&&!s((function(){return 7!=Object.defineProperty(I("div"),"a",{get:function(){return 7}}).a})),A=Object.getOwnPropertyDescriptor,E={f:c?A:function(e,t){if(e=y(e),t=k(t,!0),T)try{return A(e,t)}catch(e){}if(_(e,t))return d(!f.f.call(e,t),e[t])}},M=function(e){if(!b(e))throw TypeError(String(e)+" is not an object");return e},x=Object.defineProperty,P={f:c?x:function(e,t,n){if(M(e),t=k(t,!0),M(n),T)try{return x(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},O=c?function(e,t,n){return P.f(e,t,d(1,n))}:function(e,t,n){return e[t]=n,e},R=function(e,t){try{O(a,e,t)}catch(n){a[e]=t}return t},N="__core-js_shared__",j=a[N]||R(N,{}),D=Function.toString;"function"!=typeof j.inspectSource&&(j.inspectSource=function(e){return D.call(e)});var L,F,B,U=j.inspectSource,q=a.WeakMap,W="function"==typeof q&&/native code/.test(U(q)),V=!1,z=i((function(e){(e.exports=function(e,t){return j[e]||(j[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.7.0",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),H=0,G=Math.random(),J=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++H+G).toString(36)},K=z("keys"),$=function(e){return K[e]||(K[e]=J(e))},Y={},Q=a.WeakMap;if(W){var X=j.state||(j.state=new Q),Z=X.get,ee=X.has,te=X.set;L=function(e,t){return t.facade=e,te.call(X,e,t),t},F=function(e){return Z.call(X,e)||{}},B=function(e){return ee.call(X,e)}}else{var ne=$("state");Y[ne]=!0,L=function(e,t){return t.facade=e,O(e,ne,t),t},F=function(e){return _(e,ne)?e[ne]:{}},B=function(e){return _(e,ne)}}var re={set:L,get:F,has:B,enforce:function(e){return B(e)?F(e):L(e,{})},getterFor:function(e){return function(t){var n;if(!b(t)||(n=F(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},ie=i((function(e){var t=re.get,n=re.enforce,r=String(String).split("String");(e.exports=function(e,t,i,o){var s,c=!!o&&!!o.unsafe,u=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||_(i,"name")||O(i,"name",t),(s=n(i)).source||(s.source=r.join("string"==typeof t?t:""))),e!==a?(c?!l&&e[t]&&(u=!0):delete e[t],u?e[t]=i:O(e,t,i)):u?e[t]=i:R(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||U(this)}))})),oe=a,ae=function(e){return"function"==typeof e?e:void 0},se=function(e,t){return arguments.length<2?ae(oe[e])||ae(a[e]):oe[e]&&oe[e][t]||a[e]&&a[e][t]},ce=Math.ceil,ue=Math.floor,le=function(e){return isNaN(e=+e)?0:(e>0?ue:ce)(e)},fe=Math.min,de=function(e){return e>0?fe(le(e),9007199254740991):0},he=Math.max,pe=Math.min,ve=function(e,t){var n=le(e);return n<0?he(n+t,0):pe(n,t)},ge=function(e){return function(t,n,r){var i,o=y(t),a=de(o.length),s=ve(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},me={includes:ge(!0),indexOf:ge(!1)},ye=me.indexOf,be=function(e,t){var n,r=y(e),i=0,o=[];for(n in r)!_(Y,n)&&_(r,n)&&o.push(n);for(;t.length>i;)_(r,n=t[i++])&&(~ye(o,n)||o.push(n));return o},ke=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],we=ke.concat("length","prototype"),_e={f:Object.getOwnPropertyNames||function(e){return be(e,we)}},Se={f:Object.getOwnPropertySymbols},Ce=se("Reflect","ownKeys")||function(e){var t=_e.f(M(e)),n=Se.f;return n?t.concat(n(e)):t},Ie=function(e,t){for(var n=Ce(t),r=P.f,i=E.f,o=0;o<n.length;o++){var a=n[o];_(e,a)||r(e,a,i(t,a))}},Te=/#|\.prototype\./,Ae=function(e,t){var n=Me[Ee(e)];return n==Pe||n!=xe&&("function"==typeof t?s(t):!!t)},Ee=Ae.normalize=function(e){return String(e).replace(Te,".").toLowerCase()},Me=Ae.data={},xe=Ae.NATIVE="N",Pe=Ae.POLYFILL="P",Oe=Ae,Re=E.f,Ne=function(e,t){var n,r,i,o,s,c=e.target,u=e.global,l=e.stat;if(n=u?a:l?a[c]||R(c,{}):(a[c]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(s=Re(n,r))&&s.value:n[r],!Oe(u?r:c+(l?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;Ie(o,i)}(e.sham||i&&i.sham)&&O(o,"sham",!0),ie(n,r,o,e)}},je=!s((function(){return Object.isExtensible(Object.preventExtensions({}))})),De=i((function(e){var t=P.f,n=J("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!b(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!_(e,n)){if(!i(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!_(e,n)){if(!i(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return je&&a.REQUIRED&&i(e)&&!_(e,n)&&o(e),e}};Y[n]=!0})),Le=!!Object.getOwnPropertySymbols&&!s((function(){return!String(Symbol())})),Fe=Le&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Be=z("wks"),Ue=a.Symbol,qe=Fe?Ue:Ue&&Ue.withoutSetter||J,We=function(e){return _(Be,e)||(Le&&_(Ue,e)?Be[e]=Ue[e]:Be[e]=qe("Symbol."+e)),Be[e]},Ve={},ze=We("iterator"),He=Array.prototype,Ge=function(e){return void 0!==e&&(Ve.Array===e||He[ze]===e)},Je=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Ke=function(e,t,n){if(Je(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},$e={};$e[We("toStringTag")]="z";var Ye="[object z]"===String($e),Qe=We("toStringTag"),Xe="Arguments"==p(function(){return arguments}()),Ze=Ye?p:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Qe))?n:Xe?p(t):"Object"==(r=p(t))&&"function"==typeof t.callee?"Arguments":r},et=We("iterator"),nt=function(e){if(null!=e)return e[et]||e["@@iterator"]||Ve[Ze(e)]},rt=function(e){var t=e.return;if(void 0!==t)return M(t.call(e)).value},it=function(e,t){this.stopped=e,this.result=t},ot=function(e,t,n){var r,i,o,a,s,c,u,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),p=Ke(t,l,1+f+h),v=function(e){return r&&rt(r),new it(!0,e)},g=function(e){return f?(M(e),h?p(e[0],e[1],v):p(e[0],e[1])):h?p(e,v):p(e)};if(d)r=e;else{if("function"!=typeof(i=nt(e)))throw TypeError("Target is not iterable");if(Ge(i)){for(o=0,a=de(e.length);a>o;o++)if((s=g(e[o]))&&s instanceof it)return s;return new it(!1)}r=i.call(e)}for(c=r.next;!(u=c.call(r)).done;){try{s=g(u.value)}catch(e){throw rt(r),e}if("object"==typeof s&&s&&s instanceof it)return s}return new it(!1)},at=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},st=We("iterator"),ct=!1;try{var ut=0,lt={next:function(){return{done:!!ut++}},return:function(){ct=!0}};lt[st]=function(){return this},Array.from(lt,(function(){throw 2}))}catch(e){}var ft,dt=function(e,t){if(!t&&!ct)return!1;var n=!1;try{var r={};r[st]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},ht=P.f,pt=We("toStringTag"),vt=function(e,t,n){e&&!_(e=n?e:e.prototype,pt)&&ht(e,pt,{configurable:!0,value:t})},gt=function(e){if(!b(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e},mt=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return M(n),gt(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),yt=function(e,t,n){var r,i;return mt&&"function"==typeof(r=t.constructor)&&r!==n&&b(i=r.prototype)&&i!==n.prototype&&mt(e,i),e},bt=function(e,t,n){var r=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),o=r?"set":"add",c=a[e],u=c&&c.prototype,l=c,f={},d=function(e){var t=u[e];ie(u,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!b(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!b(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!b(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Oe(e,"function"!=typeof c||!(i||u.forEach&&!s((function(){(new c).entries().next()})))))l=n.getConstructor(t,e,r,o),De.REQUIRED=!0;else if(Oe(e,!0)){var h=new l,p=h[o](i?{}:-0,1)!=h,v=s((function(){h.has(1)})),g=dt((function(e){new c(e)})),m=!i&&s((function(){for(var e=new c,t=5;t--;)e[o](t,t);return!e.has(-0)}));g||((l=t((function(t,n){at(t,l,e);var i=yt(new c,t,l);return null!=n&&ot(n,i[o],{that:i,AS_ENTRIES:r}),i}))).prototype=u,u.constructor=l),(v||m)&&(d("delete"),d("has"),r&&d("get")),(m||p)&&d(o),i&&u.clear&&delete u.clear}return f[e]=l,Ne({global:!0,forced:l!=c},f),vt(l,e),i||n.setStrong(l,e,r),l},kt=Object.keys||function(e){return be(e,ke)},wt=c?Object.defineProperties:function(e,t){M(e);for(var n,r=kt(t),i=r.length,o=0;i>o;)P.f(e,n=r[o++],t[n]);return e},_t=se("document","documentElement"),St=$("IE_PROTO"),Ct=function(){},It=function(e){return"<script>"+e+"</"+"script>"},Tt=function(){try{ft=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Tt=ft?function(e){e.write(It("")),e.close();var t=e.parentWindow.Object;return e=null,t}(ft):((t=I("iframe")).style.display="none",_t.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(It("document.F=Object")),e.close(),e.F);for(var n=ke.length;n--;)delete Tt.prototype[ke[n]];return Tt()};Y[St]=!0;var At,Et,Mt,xt=Object.create||function(e,t){var n;return null!==e?(Ct.prototype=M(e),n=new Ct,Ct.prototype=null,n[St]=e):n=Tt(),void 0===t?n:wt(n,t)},Pt=function(e,t,n){for(var r in t)ie(e,r,t[r],n);return e},Ot=function(e){return Object(m(e))},Rt=!s((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Nt=$("IE_PROTO"),jt=Object.prototype,Dt=Rt?Object.getPrototypeOf:function(e){return e=Ot(e),_(e,Nt)?e[Nt]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?jt:null},Lt=We("iterator"),Ft=!1;[].keys&&("next"in(Mt=[].keys())?(Et=Dt(Dt(Mt)))!==Object.prototype&&(At=Et):Ft=!0),null==At&&(At={}),_(At,Lt)||O(At,Lt,(function(){return this}));var Bt={IteratorPrototype:At,BUGGY_SAFARI_ITERATORS:Ft},Ut=Bt.IteratorPrototype,qt=function(){return this},Wt=function(e,t,n){var r=t+" Iterator";return e.prototype=xt(Ut,{next:d(1,n)}),vt(e,r,!1),Ve[r]=qt,e},Vt=Bt.IteratorPrototype,zt=Bt.BUGGY_SAFARI_ITERATORS,Ht=We("iterator"),Gt="keys",Jt="values",Kt="entries",$t=function(){return this},Yt=function(e,t,n,r,i,o,a){Wt(n,t,r);var s,c,u,l=function(e){if(e===i&&v)return v;if(!zt&&e in h)return h[e];switch(e){case Gt:case Jt:case Kt:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",d=!1,h=e.prototype,p=h[Ht]||h["@@iterator"]||i&&h[i],v=!zt&&p||l(i),g="Array"==t&&h.entries||p;if(g&&(s=Dt(g.call(new e)),Vt!==Object.prototype&&s.next&&(Dt(s)!==Vt&&(mt?mt(s,Vt):"function"!=typeof s[Ht]&&O(s,Ht,$t)),vt(s,f,!0))),i==Jt&&p&&p.name!==Jt&&(d=!0,v=function(){return p.call(this)}),h[Ht]!==v&&O(h,Ht,v),Ve[t]=v,i)if(c={values:l(Jt),keys:o?v:l(Gt),entries:l(Kt)},a)for(u in c)(zt||d||!(u in h))&&ie(h,u,c[u]);else Ne({target:t,proto:!0,forced:zt||d},c);return c},Qt=We("species"),Xt=function(e){var t=se(e),n=P.f;c&&t&&!t[Qt]&&n(t,Qt,{configurable:!0,get:function(){return this}})},Zt=P.f,en=De.fastKey,tn=re.set,nn=re.getterFor,rn={getConstructor:function(e,t,n,r){var i=e((function(e,o){at(e,i,t),tn(e,{type:t,index:xt(null),first:void 0,last:void 0,size:0}),c||(e.size=0),null!=o&&ot(o,e[r],{that:e,AS_ENTRIES:n})})),o=nn(t),a=function(e,t,n){var r,i,a=o(e),u=s(e,t);return u?u.value=n:(a.last=u={index:i=en(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=u),r&&(r.next=u),c?a.size++:e.size++,"F"!==i&&(a.index[i]=u)),e},s=function(e,t){var n,r=o(e),i=en(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return Pt(i.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,c?e.size=0:this.size=0},delete:function(e){var t=this,n=o(t),r=s(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),c?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=o(this),r=Ke(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),Pt(i.prototype,n?{get:function(e){var t=s(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),c&&Zt(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=nn(t),o=nn(r);Yt(e,t,(function(e,t){tn(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),Xt(t)}},on=bt("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),rn),an=function(e,t){var n=this;if(!(n instanceof an))return new an(e,t);mt&&(n=mt(new Error(void 0),Dt(n))),void 0!==t&&O(n,"message",String(t));var r=[];return ot(e,r.push,{that:r}),O(n,"errors",r),n};an.prototype=xt(Error.prototype,{constructor:d(5,an),message:d(5,""),name:d(5,"AggregateError")}),Ne({global:!0},{AggregateError:an});var sn=We("unscopables"),cn=Array.prototype;null==cn[sn]&&P.f(cn,sn,{configurable:!0,value:xt(null)});var un=function(e){cn[sn][e]=!0},ln=P.f;c&&!("lastIndex"in[])&&(ln(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=Ot(this),t=de(e.length);return 0==t?0:t-1}}),un("lastIndex"));var fn=P.f;c&&!("lastItem"in[])&&(fn(Array.prototype,"lastItem",{configurable:!0,get:function(){var e=Ot(this),t=de(e.length);return 0==t?void 0:e[t-1]},set:function(e){var t=Ot(this),n=de(t.length);return t[0==n?0:n-1]=e}}),un("lastItem"));var dn=Array.isArray||function(e){return"Array"==p(e)},hn=We("species"),pn=function(e,t){var n;return dn(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!dn(n.prototype)?b(n)&&null===(n=n[hn])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},vn=[].push,gn=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=5==e||o;return function(s,c,u,l){for(var f,d,h=Ot(s),p=g(h),v=Ke(c,u,3),m=de(p.length),y=0,b=l||pn,k=t?b(s,m):n?b(s,0):void 0;m>y;y++)if((a||y in p)&&(d=v(f=p[y],y,h),e))if(t)k[y]=d;else if(d)switch(e){case 3:return!0;case 5:return f;case 6:return y;case 2:vn.call(k,f)}else if(i)return!1;return o?-1:r||i?i:k}},mn={forEach:gn(0),map:gn(1),filter:gn(2),some:gn(3),every:gn(4),find:gn(5),findIndex:gn(6)},yn=De.getWeakData,bn=re.set,kn=re.getterFor,wn=mn.find,_n=mn.findIndex,Sn=0,Cn=function(e){return e.frozen||(e.frozen=new In)},In=function(){this.entries=[]},Tn=function(e,t){return wn(e.entries,(function(e){return e[0]===t}))};In.prototype={get:function(e){var t=Tn(this,e);if(t)return t[1]},has:function(e){return!!Tn(this,e)},set:function(e,t){var n=Tn(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=_n(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}};var An={getConstructor:function(e,t,n,r){var i=e((function(e,o){at(e,i,t),bn(e,{type:t,id:Sn++,frozen:void 0}),null!=o&&ot(o,e[r],{that:e,AS_ENTRIES:n})})),o=kn(t),a=function(e,t,n){var r=o(e),i=yn(M(t),!0);return!0===i?Cn(r).set(t,n):i[r.id]=n,e};return Pt(i.prototype,{delete:function(e){var t=o(this);if(!b(e))return!1;var n=yn(e);return!0===n?Cn(t).delete(e):n&&_(n,t.id)&&delete n[t.id]},has:function(e){var t=o(this);if(!b(e))return!1;var n=yn(e);return!0===n?Cn(t).has(e):n&&_(n,t.id)}}),Pt(i.prototype,n?{get:function(e){var t=o(this);if(b(e)){var n=yn(e);return!0===n?Cn(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return a(this,e,t)}}:{add:function(e){return a(this,e,!0)}}),i}},En=i((function(e){var t,n=re.enforce,r=!a.ActiveXObject&&"ActiveXObject"in a,i=Object.isExtensible,o=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},s=e.exports=bt("WeakMap",o,An);if(W&&r){t=An.getConstructor(o,"WeakMap",!0),De.REQUIRED=!0;var c=s.prototype,u=c.delete,l=c.has,f=c.get,d=c.set;Pt(c,{delete:function(e){if(b(e)&&!i(e)){var r=n(this);return r.frozen||(r.frozen=new t),u.call(this,e)||r.frozen.delete(e)}return u.call(this,e)},has:function(e){if(b(e)&&!i(e)){var r=n(this);return r.frozen||(r.frozen=new t),l.call(this,e)||r.frozen.has(e)}return l.call(this,e)},get:function(e){if(b(e)&&!i(e)){var r=n(this);return r.frozen||(r.frozen=new t),l.call(this,e)?f.call(this,e):r.frozen.get(e)}return f.call(this,e)},set:function(e,r){if(b(e)&&!i(e)){var o=n(this);o.frozen||(o.frozen=new t),l.call(this,e)?d.call(this,e,r):o.frozen.set(e,r)}else d.call(this,e,r);return this}})}})),Mn=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=xt(null)};Mn.prototype.get=function(e,t){return this[e]||(this[e]=t())},Mn.prototype.next=function(e,t,n){var r=n?this.objectsByIndex[e]||(this.objectsByIndex[e]=new En):this.primitives||(this.primitives=new on),i=r.get(t);return i||r.set(t,i=new Mn),i};var xn=new Mn,Pn=function(){var e,t,n=xn,r=arguments.length;for(e=0;e<r;e++)b(t=arguments[e])&&(n=n.next(e,t,!0));if(this===Object&&n===xn)throw TypeError("Composite keys must contain a non-primitive component");for(e=0;e<r;e++)b(t=arguments[e])||(n=n.next(e,t,!1));return n},On=function(){var e=se("Object","freeze");return e?e(xt(null)):xt(null)};Ne({global:!0},{compositeKey:function(){return Pn.apply(Object,arguments).get("object",On)}}),Ne({global:!0},{compositeSymbol:function(){return 1===arguments.length&&"string"==typeof arguments[0]?se("Symbol").for(arguments[0]):Pn.apply(null,arguments).get("symbol",se("Symbol"))}}),Ne({global:!0},{globalThis:a});var Rn=function(){for(var e,t=M(this),n=Je(t.delete),r=!0,i=0,o=arguments.length;i<o;i++)e=n.call(t,arguments[i]),r=r&&e;return!!r};Ne({target:"Map",proto:!0,real:!0,forced:V},{deleteAll:function(){return Rn.apply(this,arguments)}});var Nn=function(e){var t=nt(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return M(t.call(e))},jn=function(e){return Map.prototype.entries.call(e)};Ne({target:"Map",proto:!0,real:!0,forced:V},{every:function(e){var t=M(this),n=jn(t),r=Ke(e,arguments.length>1?arguments[1]:void 0,3);return!ot(n,(function(e,n,i){if(!r(n,e,t))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var Dn=We("species"),Ln=function(e,t){var n,r=M(e).constructor;return void 0===r||null==(n=M(r)[Dn])?t:Je(n)};Ne({target:"Map",proto:!0,real:!0,forced:V},{filter:function(e){var t=M(this),n=jn(t),r=Ke(e,arguments.length>1?arguments[1]:void 0,3),i=new(Ln(t,se("Map"))),o=Je(i.set);return ot(n,(function(e,n){r(n,e,t)&&o.call(i,e,n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),Ne({target:"Map",proto:!0,real:!0,forced:V},{find:function(e){var t=M(this),n=jn(t),r=Ke(e,arguments.length>1?arguments[1]:void 0,3);return ot(n,(function(e,n,i){if(r(n,e,t))return i(n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Ne({target:"Map",proto:!0,real:!0,forced:V},{findKey:function(e){var t=M(this),n=jn(t),r=Ke(e,arguments.length>1?arguments[1]:void 0,3);return ot(n,(function(e,n,i){if(r(n,e,t))return i(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var Fn=function(e){var t,n,r,i,o=arguments.length,a=o>1?arguments[1]:void 0;return Je(this),(t=void 0!==a)&&Je(a),null==e?new this:(n=[],t?(r=0,i=Ke(a,o>2?arguments[2]:void 0,2),ot(e,(function(e){n.push(i(e,r++))}))):ot(e,n.push,{that:n}),new this(n))};Ne({target:"Map",stat:!0},{from:Fn}),Ne({target:"Map",stat:!0},{groupBy:function(e,t){var n=new this;Je(t);var r=Je(n.has),i=Je(n.get),o=Je(n.set);return ot(e,(function(e){var a=t(e);r.call(n,a)?i.call(n,a).push(e):o.call(n,a,[e])})),n}});Ne({target:"Map",proto:!0,real:!0,forced:V},{includes:function(e){return ot(jn(M(this)),(function(t,n,r){if(function(e,t){return e===t||e!=e&&t!=t}(n,e))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Ne({target:"Map",stat:!0},{keyBy:function(e,t){var n=new this;Je(t);var r=Je(n.set);return ot(e,(function(e){r.call(n,t(e),e)})),n}}),Ne({target:"Map",proto:!0,real:!0,forced:V},{keyOf:function(e){return ot(jn(M(this)),(function(t,n,r){if(n===e)return r(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Ne({target:"Map",proto:!0,real:!0,forced:V},{mapKeys:function(e){var t=M(this),n=jn(t),r=Ke(e,arguments.length>1?arguments[1]:void 0,3),i=new(Ln(t,se("Map"))),o=Je(i.set);return ot(n,(function(e,n){o.call(i,r(n,e,t),n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),Ne({target:"Map",proto:!0,real:!0,forced:V},{mapValues:function(e){var t=M(this),n=jn(t),r=Ke(e,arguments.length>1?arguments[1]:void 0,3),i=new(Ln(t,se("Map"))),o=Je(i.set);return ot(n,(function(e,n){o.call(i,e,r(n,e,t))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),Ne({target:"Map",proto:!0,real:!0,forced:V},{merge:function(e){for(var t=M(this),n=Je(t.set),r=0;r<arguments.length;)ot(arguments[r++],n,{that:t,AS_ENTRIES:!0});return t}});var Bn=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)};Ne({target:"Map",stat:!0},{of:Bn}),Ne({target:"Map",proto:!0,real:!0,forced:V},{reduce:function(e){var t=M(this),n=jn(t),r=arguments.length<2,i=r?void 0:arguments[1];if(Je(e),ot(n,(function(n,o){r?(r=!1,i=o):i=e(i,o,n,t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty map with no initial value");return i}}),Ne({target:"Map",proto:!0,real:!0,forced:V},{some:function(e){var t=M(this),n=jn(t),r=Ke(e,arguments.length>1?arguments[1]:void 0,3);return ot(n,(function(e,n,i){if(r(n,e,t))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Ne({target:"Map",proto:!0,real:!0,forced:V},{update:function(e,t){var n=M(this),r=arguments.length;Je(t);var i=n.has(e);if(!i&&r<3)throw TypeError("Updating absent value");var o=i?n.get(e):Je(r>2?arguments[2]:void 0)(e,n);return n.set(e,t(o,e,n)),n}});var Un=Math.min,qn=Math.max;Ne({target:"Math",stat:!0},{clamp:function(e,t,n){return Un(n,qn(t,e))}}),Ne({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180});var Wn=180/Math.PI;Ne({target:"Math",stat:!0},{degrees:function(e){return e*Wn}});var Vn=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r},zn=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1},Hn=Math.abs,Gn=Math.pow,Jn=Gn(2,-52),Kn=Gn(2,-23),$n=Gn(2,127)*(2-Kn),Yn=Gn(2,-126),Qn=Math.fround||function(e){var t,n,r=Hn(e),i=zn(e);return r<Yn?i*(r/Yn/Kn+1/Jn-1/Jn)*Yn*Kn:(n=(t=(1+Kn/Jn)*r)-(t-r))>$n||n!=n?i*(1/0):i*n};Ne({target:"Math",stat:!0},{fscale:function(e,t,n,r,i){return Qn(Vn(e,t,n,r,i))}}),Ne({target:"Math",stat:!0},{iaddh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}}),Ne({target:"Math",stat:!0},{imulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>16,c=i>>16,u=(s*a>>>0)+(o*a>>>16);return s*c+(u>>16)+((o*c>>>0)+(u&n)>>16)}}),Ne({target:"Math",stat:!0},{isubh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}}),Ne({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI});var Xn=Math.PI/180;Ne({target:"Math",stat:!0},{radians:function(e){return e*Xn}}),Ne({target:"Math",stat:!0},{scale:Vn});var Zn=a.isFinite,er=Number.isFinite||function(e){return"number"==typeof e&&Zn(e)},tr="Seeded Random",nr="Seeded Random Generator",rr=re.set,ir=re.getterFor(nr),or=Wt((function(e){rr(this,{type:nr,seed:e%2147483647})}),tr,(function(){var e=ir(this);return{value:(1073741823&(e.seed=(1103515245*e.seed+12345)%2147483647))/1073741823,done:!1}}));Ne({target:"Math",stat:!0,forced:!0},{seededPRNG:function(e){var t=M(e).seed;if(!er(t))throw TypeError('Math.seededPRNG() argument should have a "seed" field with a finite value.');return new or(t)}}),Ne({target:"Math",stat:!0},{signbit:function(e){return(e=+e)==e&&0==e?1/e==-1/0:e<0}}),Ne({target:"Math",stat:!0},{umulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>>16,c=i>>>16,u=(s*a>>>0)+(o*a>>>16);return s*c+(u>>>16)+((o*c>>>0)+(u&n)>>>16)}});var ar="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",sr="["+ar+"]",cr=RegExp("^"+sr+sr+"*"),ur=RegExp(sr+sr+"*$"),lr=function(e){return function(t){var n=String(m(t));return 1&e&&(n=n.replace(cr,"")),2&e&&(n=n.replace(ur,"")),n}},fr={start:lr(1),end:lr(2),trim:lr(3)},dr=fr.trim,hr=a.parseInt,pr=/^[+-]?0[Xx]/,vr=8!==hr(ar+"08")||22!==hr(ar+"0x16")?function(e,t){var n=dr(String(e));return hr(n,t>>>0||(pr.test(n)?16:10))}:hr,gr="Invalid number representation",mr=/^[\da-z]+$/;Ne({target:"Number",stat:!0},{fromString:function(e,t){var n,r,i=1;if("string"!=typeof e)throw TypeError(gr);if(!e.length)throw SyntaxError(gr);if("-"==e.charAt(0)&&(i=-1,!(e=e.slice(1)).length))throw SyntaxError(gr);if((n=void 0===t?10:le(t))<2||n>36)throw RangeError("Invalid radix");if(!mr.test(e)||(r=vr(e,n)).toString(n)!==e)throw SyntaxError(gr);return i*r}});var yr=function(e,t){var n=a.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))},br=P.f,kr=We("observable"),wr=re.get,_r=re.set,Sr=function(e){return null==e?void 0:Je(e)},Cr=function(e){var t=e.cleanup;if(t){e.cleanup=void 0;try{t()}catch(e){yr(e)}}},Ir=function(e){return void 0===e.observer},Tr=function(e,t){if(!c){e.closed=!0;var n=t.subscriptionObserver;n&&(n.closed=!0)}t.observer=void 0},Ar=function(e,t){var n,r=_r(this,{cleanup:void 0,observer:M(e),subscriptionObserver:void 0});c||(this.closed=!1);try{(n=Sr(e.start))&&n.call(e,this)}catch(e){yr(e)}if(!Ir(r)){var i=r.subscriptionObserver=new Er(this);try{var o=t(i),a=o;null!=o&&(r.cleanup="function"==typeof o.unsubscribe?function(){a.unsubscribe()}:Je(o))}catch(e){return void i.error(e)}Ir(r)&&Cr(r)}};Ar.prototype=Pt({},{unsubscribe:function(){var e=wr(this);Ir(e)||(Tr(this,e),Cr(e))}}),c&&br(Ar.prototype,"closed",{configurable:!0,get:function(){return Ir(wr(this))}});var Er=function(e){_r(this,{subscription:e}),c||(this.closed=!1)};Er.prototype=Pt({},{next:function(e){var t=wr(wr(this).subscription);if(!Ir(t)){var n=t.observer;try{var r=Sr(n.next);r&&r.call(n,e)}catch(e){yr(e)}}},error:function(e){var t=wr(this).subscription,n=wr(t);if(!Ir(n)){var r=n.observer;Tr(t,n);try{var i=Sr(r.error);i?i.call(r,e):yr(e)}catch(e){yr(e)}Cr(n)}},complete:function(){var e=wr(this).subscription,t=wr(e);if(!Ir(t)){var n=t.observer;Tr(e,t);try{var r=Sr(n.complete);r&&r.call(n)}catch(e){yr(e)}Cr(t)}}}),c&&br(Er.prototype,"closed",{configurable:!0,get:function(){return Ir(wr(wr(this).subscription))}});var Mr=function(e){at(this,Mr,"Observable"),_r(this,{subscriber:Je(e)})};Pt(Mr.prototype,{subscribe:function(e){var t=arguments.length;return new Ar("function"==typeof e?{next:e,error:t>1?arguments[1]:void 0,complete:t>2?arguments[2]:void 0}:b(e)?e:{},wr(this).subscriber)}}),Pt(Mr,{from:function(e){var t="function"==typeof this?this:Mr,n=Sr(M(e)[kr]);if(n){var r=M(n.call(e));return r.constructor===t?r:new t((function(e){return r.subscribe(e)}))}var i=Nn(e);return new t((function(e){ot(i,(function(t,n){if(e.next(t),e.closed)return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}),e.complete()}))},of:function(){for(var e="function"==typeof this?this:Mr,t=arguments.length,n=new Array(t),r=0;r<t;)n[r]=arguments[r++];return new e((function(e){for(var r=0;r<t;r++)if(e.next(n[r]),e.closed)return;e.complete()}))}}),O(Mr.prototype,kr,(function(){return this})),Ne({global:!0},{Observable:Mr}),Xt("Observable");var xr=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=Je(t),this.reject=Je(n)},Pr={f:function(e){return new xr(e)}},Or=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}};Ne({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=Pr.f(t),r=n.resolve,i=n.reject,o=Or((function(){var n=Je(t.resolve),i=[],o=0,a=1;ot(e,(function(e){var s=o++,c=!1;i.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,i[s]={status:"fulfilled",value:e},--a||r(i))}),(function(e){c||(c=!0,i[s]={status:"rejected",reason:e},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var Rr="No one promise resolved";Ne({target:"Promise",stat:!0},{any:function(e){var t=this,n=Pr.f(t),r=n.resolve,i=n.reject,o=Or((function(){var n=Je(t.resolve),o=[],a=0,s=1,c=!1;ot(e,(function(e){var u=a++,l=!1;o.push(void 0),s++,n.call(t,e).then((function(e){l||c||(c=!0,r(e))}),(function(e){l||c||(l=!0,o[u]=e,--s||i(new(se("AggregateError"))(o,Rr)))}))})),--s||i(new(se("AggregateError"))(o,Rr))}));return o.error&&i(o.value),n.promise}}),Ne({target:"Promise",stat:!0},{try:function(e){var t=Pr.f(this),n=Or(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}});var Nr=z("metadata"),jr=Nr.store||(Nr.store=new En),Dr=function(e,t,n){var r=jr.get(e);if(!r){if(!n)return;jr.set(e,r=new on)}var i=r.get(t);if(!i){if(!n)return;r.set(t,i=new on)}return i},Lr={store:jr,getMap:Dr,has:function(e,t,n){var r=Dr(t,n,!1);return void 0!==r&&r.has(e)},get:function(e,t,n){var r=Dr(t,n,!1);return void 0===r?void 0:r.get(e)},set:function(e,t,n,r){Dr(n,r,!0).set(e,t)},keys:function(e,t){var n=Dr(e,t,!1),r=[];return n&&n.forEach((function(e,t){r.push(t)})),r},toKey:function(e){return void 0===e||"symbol"==typeof e?e:String(e)}},Fr=Lr.toKey,Br=Lr.set;Ne({target:"Reflect",stat:!0},{defineMetadata:function(e,t,n){var r=arguments.length<4?void 0:Fr(arguments[3]);Br(e,t,M(n),r)}});var Ur=Lr.toKey,qr=Lr.getMap,Wr=Lr.store;Ne({target:"Reflect",stat:!0},{deleteMetadata:function(e,t){var n=arguments.length<3?void 0:Ur(arguments[2]),r=qr(M(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var i=Wr.get(t);return i.delete(n),!!i.size||Wr.delete(t)}});var Vr=Lr.has,zr=Lr.get,Hr=Lr.toKey,Gr=function(e,t,n){if(Vr(e,t,n))return zr(e,t,n);var r=Dt(t);return null!==r?Gr(e,r,n):void 0};Ne({target:"Reflect",stat:!0},{getMetadata:function(e,t){var n=arguments.length<3?void 0:Hr(arguments[2]);return Gr(e,M(t),n)}});var Jr=bt("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),rn),Kr=Lr.keys,$r=Lr.toKey,Yr=function(e,t){var n=Kr(e,t),r=Dt(e);if(null===r)return n;var i,o,a=Yr(r,t);return a.length?n.length?(i=new Jr(n.concat(a)),ot(i,(o=[]).push,{that:o}),o):a:n};Ne({target:"Reflect",stat:!0},{getMetadataKeys:function(e){var t=arguments.length<2?void 0:$r(arguments[1]);return Yr(M(e),t)}});var Qr=Lr.get,Xr=Lr.toKey;Ne({target:"Reflect",stat:!0},{getOwnMetadata:function(e,t){var n=arguments.length<3?void 0:Xr(arguments[2]);return Qr(e,M(t),n)}});var Zr=Lr.keys,ei=Lr.toKey;Ne({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(e){var t=arguments.length<2?void 0:ei(arguments[1]);return Zr(M(e),t)}});var ti=Lr.has,ni=Lr.toKey,ri=function(e,t,n){if(ti(e,t,n))return!0;var r=Dt(t);return null!==r&&ri(e,r,n)};Ne({target:"Reflect",stat:!0},{hasMetadata:function(e,t){var n=arguments.length<3?void 0:ni(arguments[2]);return ri(e,M(t),n)}});var ii=Lr.has,oi=Lr.toKey;Ne({target:"Reflect",stat:!0},{hasOwnMetadata:function(e,t){var n=arguments.length<3?void 0:oi(arguments[2]);return ii(e,M(t),n)}});var ai=Lr.toKey,si=Lr.set;Ne({target:"Reflect",stat:!0},{metadata:function(e,t){return function(n,r){si(e,t,M(n),ai(r))}}});var ci=function(){for(var e=M(this),t=Je(e.add),n=0,r=arguments.length;n<r;n++)t.call(e,arguments[n]);return e};Ne({target:"Set",proto:!0,real:!0,forced:V},{addAll:function(){return ci.apply(this,arguments)}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{deleteAll:function(){return Rn.apply(this,arguments)}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{difference:function(e){var t=M(this),n=new(Ln(t,se("Set")))(t),r=Je(n.delete);return ot(e,(function(e){r.call(n,e)})),n}});var ui=function(e){return Set.prototype.values.call(e)};Ne({target:"Set",proto:!0,real:!0,forced:V},{every:function(e){var t=M(this),n=ui(t),r=Ke(e,arguments.length>1?arguments[1]:void 0,3);return!ot(n,(function(e,n){if(!r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{filter:function(e){var t=M(this),n=ui(t),r=Ke(e,arguments.length>1?arguments[1]:void 0,3),i=new(Ln(t,se("Set"))),o=Je(i.add);return ot(n,(function(e){r(e,e,t)&&o.call(i,e)}),{IS_ITERATOR:!0}),i}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{find:function(e){var t=M(this),n=ui(t),r=Ke(e,arguments.length>1?arguments[1]:void 0,3);return ot(n,(function(e,n){if(r(e,e,t))return n(e)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Ne({target:"Set",stat:!0},{from:Fn}),Ne({target:"Set",proto:!0,real:!0,forced:V},{intersection:function(e){var t=M(this),n=new(Ln(t,se("Set"))),r=Je(t.has),i=Je(n.add);return ot(e,(function(e){r.call(t,e)&&i.call(n,e)})),n}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{isDisjointFrom:function(e){var t=M(this),n=Je(t.has);return!ot(e,(function(e,r){if(!0===n.call(t,e))return r()}),{INTERRUPTED:!0}).stopped}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{isSubsetOf:function(e){var t=Nn(this),n=M(e),r=n.has;return"function"!=typeof r&&(n=new(se("Set"))(e),r=Je(n.has)),!ot(t,(function(e,t){if(!1===r.call(n,e))return t()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{isSupersetOf:function(e){var t=M(this),n=Je(t.has);return!ot(e,(function(e,r){if(!1===n.call(t,e))return r()}),{INTERRUPTED:!0}).stopped}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{join:function(e){var t=M(this),n=ui(t),r=void 0===e?",":String(e),i=[];return ot(n,i.push,{that:i,IS_ITERATOR:!0}),i.join(r)}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{map:function(e){var t=M(this),n=ui(t),r=Ke(e,arguments.length>1?arguments[1]:void 0,3),i=new(Ln(t,se("Set"))),o=Je(i.add);return ot(n,(function(e){o.call(i,r(e,e,t))}),{IS_ITERATOR:!0}),i}}),Ne({target:"Set",stat:!0},{of:Bn}),Ne({target:"Set",proto:!0,real:!0,forced:V},{reduce:function(e){var t=M(this),n=ui(t),r=arguments.length<2,i=r?void 0:arguments[1];if(Je(e),ot(n,(function(n){r?(r=!1,i=n):i=e(i,n,n,t)}),{IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty set with no initial value");return i}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{some:function(e){var t=M(this),n=ui(t),r=Ke(e,arguments.length>1?arguments[1]:void 0,3);return ot(n,(function(e,n){if(r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{symmetricDifference:function(e){var t=M(this),n=new(Ln(t,se("Set")))(t),r=Je(n.delete),i=Je(n.add);return ot(e,(function(e){r.call(n,e)||i.call(n,e)})),n}}),Ne({target:"Set",proto:!0,real:!0,forced:V},{union:function(e){var t=M(this),n=new(Ln(t,se("Set")))(t);return ot(e,Je(n.add),{that:n}),n}});var li=function(e){return function(t,n){var r,i,o=String(m(t)),a=le(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},fi={codeAt:li(!1),charAt:li(!0)},di=fi.charAt;Ne({target:"String",proto:!0},{at:function(e){return di(this,e)}});var hi=fi.codeAt,pi=fi.charAt,vi="String Iterator",gi=re.set,mi=re.getterFor(vi),yi=Wt((function(e){gi(this,{type:vi,string:e,index:0})}),"String",(function(){var e,t=mi(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=pi(n,r),t.index+=e.length,{value:{codePoint:hi(e,0),position:r},done:!1})}));Ne({target:"String",proto:!0},{codePoints:function(){return new yi(String(m(this)))}});var bi=We("match"),ki=function(e){var t;return b(e)&&(void 0!==(t=e[bi])?!!t:"RegExp"==p(e))},wi=function(){var e=M(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},_i=fi.charAt,Si=function(e,t,n){return t+(n?_i(e,t).length:1)},Ci=We("matchAll"),Ii="RegExp String",Ti="RegExp String Iterator",Ai=re.set,Ei=re.getterFor(Ti),Mi=RegExp.prototype,xi=Mi.exec,Pi="".matchAll,Oi=!!Pi&&!s((function(){"a".matchAll(/./)})),Ri=Wt((function(e,t,n,r){Ai(this,{type:Ti,regexp:e,string:t,global:n,unicode:r,done:!1})}),Ii,(function(){var e=Ei(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,r=function(e,t){var n,r=e.exec;if("function"==typeof r){if("object"!=typeof(n=r.call(e,t)))throw TypeError("Incorrect exec result");return n}return xi.call(e,t)}(t,n);return null===r?{value:void 0,done:e.done=!0}:e.global?(""==String(r[0])&&(t.lastIndex=Si(n,de(t.lastIndex),e.unicode)),{value:r,done:!1}):(e.done=!0,{value:r,done:!1})})),Ni=function(e){var t,n,r,i,o,a,s=M(this),c=String(e);return t=Ln(s,RegExp),void 0===(n=s.flags)&&s instanceof RegExp&&!("flags"in Mi)&&(n=wi.call(s)),r=void 0===n?"":String(n),i=new t(t===RegExp?s.source:s,r),o=!!~r.indexOf("g"),a=!!~r.indexOf("u"),i.lastIndex=de(s.lastIndex),new Ri(i,c,o,a)};Ne({target:"String",proto:!0,forced:Oi},{matchAll:function(e){var t,n,r=m(this);if(null!=e){if(ki(e)&&!~String(m("flags"in Mi?e.flags:wi.call(e))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(Oi)return Pi.apply(r,arguments);if(null!=(n=e[Ci]))return Je(n).call(e,r)}else if(Oi)return Pi.apply(r,arguments);return t=String(r),new RegExp(e,"g")[Ci](t)}}),Ci in Mi||O(Mi,Ci,Ni);var ji=We("replace"),Di=RegExp.prototype;Ne({target:"String",proto:!0},{replaceAll:function e(t,n){var r,i,o,a,s,c,u,l=m(this);if(null!=t){if(ki(t)&&!~String(m("flags"in Di?t.flags:wi.call(t))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(r=t[ji]))return r.call(t,l,n)}if(i=String(l),""===(o=String(t)))return e.call(i,/(?:)/g,n);if(a=i.split(o),"function"!=typeof n)return a.join(String(n));for(c=(s=a[0]).length,u=1;u<a.length;u++)s+=String(n(o,c,i)),c+=o.length+a[u].length,s+=a[u];return s}});var Li={f:We},Fi=P.f,Bi=function(e){var t=oe.Symbol||(oe.Symbol={});_(t,e)||Fi(t,e,{value:Li.f(e)})};Bi("dispose"),Bi("observable"),Bi("patternMatch"),Ne({target:"WeakMap",proto:!0,real:!0,forced:V},{deleteAll:function(){return Rn.apply(this,arguments)}}),Ne({target:"WeakMap",stat:!0},{from:Fn}),Ne({target:"WeakMap",stat:!0},{of:Bn}),Ne({target:"WeakSet",proto:!0,real:!0,forced:V},{addAll:function(){return ci.apply(this,arguments)}}),Ne({target:"WeakSet",proto:!0,real:!0,forced:V},{deleteAll:function(){return Rn.apply(this,arguments)}}),Ne({target:"WeakSet",stat:!0},{from:Fn}),Ne({target:"WeakSet",stat:!0},{of:Bn});var Ui=fi.charAt,qi="String Iterator",Wi=re.set,Vi=re.getterFor(qi);Yt(String,"String",(function(e){Wi(this,{type:qi,string:String(e),index:0})}),(function(){var e,t=Vi(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=Ui(n,r),t.index+=e.length,{value:e,done:!1})}));var zi=We("iterator"),Hi=!s((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[zi]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),Gi=Object.assign,Ji=Object.defineProperty,Ki=!Gi||s((function(){if(c&&1!==Gi({b:1},Gi(Ji({},"a",{enumerable:!0,get:function(){Ji(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=Gi({},e)[n]||kt(Gi({},t)).join("")!=r}))?function(e,t){for(var n=Ot(e),r=arguments.length,i=1,o=Se.f,a=f.f;r>i;)for(var s,u=g(arguments[i++]),l=o?kt(u).concat(o(u)):kt(u),d=l.length,h=0;d>h;)s=l[h++],c&&!a.call(u,s)||(n[s]=u[s]);return n}:Gi,$i=function(e,t,n,r){try{return r?t(M(n)[0],n[1]):t(n)}catch(t){throw rt(e),t}},Yi=function(e,t,n){var r=k(t);r in e?P.f(e,r,d(0,n)):e[r]=n},Qi=function(e){var t,n,r,i,o,a,s=Ot(e),c="function"==typeof this?this:Array,u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,d=nt(s),h=0;if(f&&(l=Ke(l,u>2?arguments[2]:void 0,2)),null==d||c==Array&&Ge(d))for(n=new c(t=de(s.length));t>h;h++)a=f?l(s[h],h):s[h],Yi(n,h,a);else for(o=(i=d.call(s)).next,n=new c;!(r=o.call(i)).done;h++)a=f?$i(i,l,[r.value,h],!0):r.value,Yi(n,h,a);return n.length=h,n},Xi=2147483647,Zi=/[^\0-\u007E]/,eo=/[.\u3002\uFF0E\uFF61]/g,to="Overflow: input needs wider integers to process",no=Math.floor,ro=String.fromCharCode,io=function(e){return e+22+75*(e<26)},oo=function(e,t,n){var r=0;for(e=n?no(e/700):e>>1,e+=no(e/t);e>455;r+=36)e=no(e/35);return no(r+36*e/(e+38))},ao=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(e)).length,o=128,a=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(ro(n));var c=r.length,u=c;for(c&&r.push("-");u<i;){var l=Xi;for(t=0;t<e.length;t++)(n=e[t])>=o&&n<l&&(l=n);var f=u+1;if(l-o>no((Xi-a)/f))throw RangeError(to);for(a+=(l-o)*f,o=l,t=0;t<e.length;t++){if((n=e[t])<o&&++a>Xi)throw RangeError(to);if(n==o){for(var d=a,h=36;;h+=36){var p=h<=s?1:h>=s+26?26:h-s;if(d<p)break;var v=d-p,g=36-p;r.push(ro(io(p+v%g))),d=no(v/g)}r.push(ro(io(d))),s=oo(a,f,u==c),a=0,++u}}++a,++o}return r.join("")},so="Array Iterator",co=re.set,uo=re.getterFor(so),lo=Yt(Array,"Array",(function(e,t){co(this,{type:so,target:y(e),index:0,kind:t})}),(function(){var e=uo(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");Ve.Arguments=Ve.Array,un("keys"),un("values"),un("entries");var fo=se("fetch"),ho=se("Headers"),po=We("iterator"),vo="URLSearchParams",go="URLSearchParamsIterator",mo=re.set,yo=re.getterFor(vo),bo=re.getterFor(go),ko=/\+/g,wo=Array(4),_o=function(e){return wo[e-1]||(wo[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},So=function(e){try{return decodeURIComponent(e)}catch(t){return e}},Co=function(e){var t=e.replace(ko," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(_o(n--),So);return t}},Io=/[!'()~]|%20/g,To={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Ao=function(e){return To[e]},Eo=function(e){return encodeURIComponent(e).replace(Io,Ao)},Mo=function(e,t){if(t)for(var n,r,i=t.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),e.push({key:Co(r.shift()),value:Co(r.join("="))}))},xo=function(e){this.entries.length=0,Mo(this.entries,e)},Po=function(e,t){if(e<t)throw TypeError("Not enough arguments")},Oo=Wt((function(e,t){mo(this,{type:go,iterator:Nn(yo(e).entries),kind:t})}),"Iterator",(function(){var e=bo(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),Ro=function(){at(this,Ro,vo);var e,t,n,r,i,o,a,s,c,u=arguments.length>0?arguments[0]:void 0,l=this,f=[];if(mo(l,{type:vo,entries:f,updateURL:function(){},updateSearchParams:xo}),void 0!==u)if(b(u))if("function"==typeof(e=nt(u)))for(n=(t=e.call(u)).next;!(r=n.call(t)).done;){if((a=(o=(i=Nn(M(r.value))).next).call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");f.push({key:a.value+"",value:s.value+""})}else for(c in u)_(u,c)&&f.push({key:c,value:u[c]+""});else Mo(f,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},No=Ro.prototype;Pt(No,{append:function(e,t){Po(arguments.length,2);var n=yo(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){Po(arguments.length,1);for(var t=yo(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){Po(arguments.length,1);for(var t=yo(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){Po(arguments.length,1);for(var t=yo(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){Po(arguments.length,1);for(var t=yo(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){Po(arguments.length,1);for(var n,r=yo(this),i=r.entries,o=!1,a=e+"",s=t+"",c=0;c<i.length;c++)(n=i[c]).key===a&&(o?i.splice(c--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=yo(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=yo(this).entries,r=Ke(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new Oo(this,"keys")},values:function(){return new Oo(this,"values")},entries:function(){return new Oo(this,"entries")}},{enumerable:!0}),ie(No,po,No.entries),ie(No,"toString",(function(){for(var e,t=yo(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(Eo(e.key)+"="+Eo(e.value));return n.join("&")}),{enumerable:!0}),vt(Ro,vo),Ne({global:!0,forced:!Hi},{URLSearchParams:Ro}),Hi||"function"!=typeof fo||"function"!=typeof ho||Ne({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(b(t=arguments[1])&&(n=t.body,Ze(n)===vo&&((r=t.headers?new ho(t.headers):new ho).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=xt(t,{body:d(0,String(n)),headers:d(0,r)}))),i.push(t)),fo.apply(this,i)}});var jo,Do={URLSearchParams:Ro,getState:yo},Lo=fi.codeAt,Fo=a.URL,Bo=Do.URLSearchParams,Uo=Do.getState,qo=re.set,Wo=re.getterFor("URL"),Vo=Math.floor,zo=Math.pow,Ho="Invalid scheme",Go="Invalid host",Jo="Invalid port",Ko=/[A-Za-z]/,$o=/[\d+-.A-Za-z]/,Yo=/\d/,Qo=/^(0x|0X)/,Xo=/^[0-7]+$/,Zo=/^\d+$/,ea=/^[\dA-Fa-f]+$/,ta=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,na=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ra=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ia=/[\u0009\u000A\u000D]/g,oa=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return Go;if(!(n=sa(t.slice(1,-1))))return Go;e.host=n}else if(va(e)){if(t=function(e){var t,n,r=[],i=e.toLowerCase().replace(eo,".").split(".");for(t=0;t<i.length;t++)n=i[t],r.push(Zi.test(n)?"xn--"+ao(n):n);return r.join(".")}(t),ta.test(t))return Go;if(null===(n=aa(t)))return Go;e.host=n}else{if(na.test(t))return Go;for(n="",r=Qi(t),i=0;i<r.length;i++)n+=ha(r[i],ua);e.host=n}},aa=function(e){var t,n,r,i,o,a,s,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=c[r]))return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=Qo.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?Zo:8==o?Xo:ea).test(i))return e;a=parseInt(i,o)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=zo(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*zo(256,3-r);return s},sa=function(e){var t,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,d=function(){return e.charAt(f)};if(":"==d()){if(":"!=e.charAt(1))return;f+=2,l=++u}for(;d();){if(8==u)return;if(":"!=d()){for(t=n=0;n<4&&ea.test(d());)t=16*t+parseInt(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,u>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;f++}if(!Yo.test(d()))return;for(;Yo.test(d());){if(o=parseInt(d(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}c[u]=256*c[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;c[u++]=t}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c},ca=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=Vo(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},ua={},la=Ki({},ua,{" ":1,'"':1,"<":1,">":1,"`":1}),fa=Ki({},la,{"#":1,"?":1,"{":1,"}":1}),da=Ki({},fa,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ha=function(e,t){var n=Lo(e,0);return n>32&&n<127&&!_(t,e)?e:encodeURIComponent(e)},pa={ftp:21,file:null,http:80,https:443,ws:80,wss:443},va=function(e){return _(pa,e.scheme)},ga=function(e){return""!=e.username||""!=e.password},ma=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},ya=function(e,t){var n;return 2==e.length&&Ko.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ba=function(e){var t;return e.length>1&&ya(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ka=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&ya(t[0],!0)||t.pop()},wa=function(e){return"."===e||"%2e"===e.toLowerCase()},_a={},Sa={},Ca={},Ia={},Ta={},Aa={},Ea={},Ma={},xa={},Pa={},Oa={},Ra={},Na={},ja={},Da={},La={},Fa={},Ba={},Ua={},qa={},Wa={},Va=function(e,t,n,r){var i,o,a,s,c,u=n||_a,l=0,f="",d=!1,h=!1,p=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(ra,"")),t=t.replace(ia,""),i=Qi(t);l<=i.length;){switch(o=i[l],u){case _a:if(!o||!Ko.test(o)){if(n)return Ho;u=Ca;continue}f+=o.toLowerCase(),u=Sa;break;case Sa:if(o&&($o.test(o)||"+"==o||"-"==o||"."==o))f+=o.toLowerCase();else{if(":"!=o){if(n)return Ho;f="",u=Ca,l=0;continue}if(n&&(va(e)!=_(pa,f)||"file"==f&&(ga(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(va(e)&&pa[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?u=ja:va(e)&&r&&r.scheme==e.scheme?u=Ia:va(e)?u=Ma:"/"==i[l+1]?(u=Ta,l++):(e.cannotBeABaseURL=!0,e.path.push(""),u=Ua)}break;case Ca:if(!r||r.cannotBeABaseURL&&"#"!=o)return Ho;if(r.cannotBeABaseURL&&"#"==o){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,u=Wa;break}u="file"==r.scheme?ja:Aa;continue;case Ia:if("/"!=o||"/"!=i[l+1]){u=Aa;continue}u=xa,l++;break;case Ta:if("/"==o){u=Pa;break}u=Ba;continue;case Aa:if(e.scheme=r.scheme,o==jo)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==o||"\\"==o&&va(e))u=Ea;else if("?"==o)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",u=qa;else{if("#"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),u=Ba;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=Wa}break;case Ea:if(!va(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,u=Ba;continue}u=Pa}else u=xa;break;case Ma:if(u=xa,"/"!=o||"/"!=f.charAt(l+1))continue;l++;break;case xa:if("/"!=o&&"\\"!=o){u=Pa;continue}break;case Pa:if("@"==o){d&&(f="%40"+f),d=!0,a=Qi(f);for(var v=0;v<a.length;v++){var g=a[v];if(":"!=g||p){var m=ha(g,da);p?e.password+=m:e.username+=m}else p=!0}f=""}else if(o==jo||"/"==o||"?"==o||"#"==o||"\\"==o&&va(e)){if(d&&""==f)return"Invalid authority";l-=Qi(f).length+1,f="",u=Oa}else f+=o;break;case Oa:case Ra:if(n&&"file"==e.scheme){u=La;continue}if(":"!=o||h){if(o==jo||"/"==o||"?"==o||"#"==o||"\\"==o&&va(e)){if(va(e)&&""==f)return Go;if(n&&""==f&&(ga(e)||null!==e.port))return;if(s=oa(e,f))return s;if(f="",u=Fa,n)return;continue}"["==o?h=!0:"]"==o&&(h=!1),f+=o}else{if(""==f)return Go;if(s=oa(e,f))return s;if(f="",u=Na,n==Ra)return}break;case Na:if(!Yo.test(o)){if(o==jo||"/"==o||"?"==o||"#"==o||"\\"==o&&va(e)||n){if(""!=f){var y=parseInt(f,10);if(y>65535)return Jo;e.port=va(e)&&y===pa[e.scheme]?null:y,f=""}if(n)return;u=Fa;continue}return Jo}f+=o;break;case ja:if(e.scheme="file","/"==o||"\\"==o)u=Da;else{if(!r||"file"!=r.scheme){u=Ba;continue}if(o==jo)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==o)e.host=r.host,e.path=r.path.slice(),e.query="",u=qa;else{if("#"!=o){ba(i.slice(l).join(""))||(e.host=r.host,e.path=r.path.slice(),ka(e)),u=Ba;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=Wa}}break;case Da:if("/"==o||"\\"==o){u=La;break}r&&"file"==r.scheme&&!ba(i.slice(l).join(""))&&(ya(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),u=Ba;continue;case La:if(o==jo||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&ya(f))u=Ba;else if(""==f){if(e.host="",n)return;u=Fa}else{if(s=oa(e,f))return s;if("localhost"==e.host&&(e.host=""),n)return;f="",u=Fa}continue}f+=o;break;case Fa:if(va(e)){if(u=Ba,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=jo&&(u=Ba,"/"!=o))continue}else e.fragment="",u=Wa;else e.query="",u=qa;break;case Ba:if(o==jo||"/"==o||"\\"==o&&va(e)||!n&&("?"==o||"#"==o)){if(".."===(c=(c=f).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(ka(e),"/"==o||"\\"==o&&va(e)||e.path.push("")):wa(f)?"/"==o||"\\"==o&&va(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&ya(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(o==jo||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",u=qa):"#"==o&&(e.fragment="",u=Wa)}else f+=ha(o,fa);break;case Ua:"?"==o?(e.query="",u=qa):"#"==o?(e.fragment="",u=Wa):o!=jo&&(e.path[0]+=ha(o,ua));break;case qa:n||"#"!=o?o!=jo&&("'"==o&&va(e)?e.query+="%27":e.query+="#"==o?"%23":ha(o,ua)):(e.fragment="",u=Wa);break;case Wa:o!=jo&&(e.fragment+=ha(o,la))}l++}},za=function(e){var t,n,r=at(this,za,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(e),a=qo(r,{type:"URL"});if(void 0!==i)if(i instanceof za)t=Wo(i);else if(n=Va(t={},String(i)))throw TypeError(n);if(n=Va(a,o,null,t))throw TypeError(n);var s=a.searchParams=new Bo,u=Uo(s);u.updateSearchParams(a.query),u.updateURL=function(){a.query=String(s)||null},c||(r.href=Ga.call(r),r.origin=Ja.call(r),r.protocol=Ka.call(r),r.username=$a.call(r),r.password=Ya.call(r),r.host=Qa.call(r),r.hostname=Xa.call(r),r.port=Za.call(r),r.pathname=es.call(r),r.search=ts.call(r),r.searchParams=ns.call(r),r.hash=rs.call(r))},Ha=za.prototype,Ga=function(){var e=Wo(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==i?(u+="//",ga(e)&&(u+=n+(r?":"+r:"")+"@"),u+=ca(i),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},Ja=function(){var e=Wo(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&va(e)?t+"://"+ca(e.host)+(null!==n?":"+n:""):"null"},Ka=function(){return Wo(this).scheme+":"},$a=function(){return Wo(this).username},Ya=function(){return Wo(this).password},Qa=function(){var e=Wo(this),t=e.host,n=e.port;return null===t?"":null===n?ca(t):ca(t)+":"+n},Xa=function(){var e=Wo(this).host;return null===e?"":ca(e)},Za=function(){var e=Wo(this).port;return null===e?"":String(e)},es=function(){var e=Wo(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},ts=function(){var e=Wo(this).query;return e?"?"+e:""},ns=function(){return Wo(this).searchParams},rs=function(){var e=Wo(this).fragment;return e?"#"+e:""},is=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(c&&wt(Ha,{href:is(Ga,(function(e){var t=Wo(this),n=String(e),r=Va(t,n);if(r)throw TypeError(r);Uo(t.searchParams).updateSearchParams(t.query)})),origin:is(Ja),protocol:is(Ka,(function(e){var t=Wo(this);Va(t,String(e)+":",_a)})),username:is($a,(function(e){var t=Wo(this),n=Qi(String(e));if(!ma(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=ha(n[r],da)}})),password:is(Ya,(function(e){var t=Wo(this),n=Qi(String(e));if(!ma(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=ha(n[r],da)}})),host:is(Qa,(function(e){var t=Wo(this);t.cannotBeABaseURL||Va(t,String(e),Oa)})),hostname:is(Xa,(function(e){var t=Wo(this);t.cannotBeABaseURL||Va(t,String(e),Ra)})),port:is(Za,(function(e){var t=Wo(this);ma(t)||(""==(e=String(e))?t.port=null:Va(t,e,Na))})),pathname:is(es,(function(e){var t=Wo(this);t.cannotBeABaseURL||(t.path=[],Va(t,e+"",Fa))})),search:is(ts,(function(e){var t=Wo(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Va(t,e,qa)),Uo(t.searchParams).updateSearchParams(t.query)})),searchParams:is(ns),hash:is(rs,(function(e){var t=Wo(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Va(t,e,Wa)):t.fragment=null}))}),ie(Ha,"toJSON",(function(){return Ga.call(this)}),{enumerable:!0}),ie(Ha,"toString",(function(){return Ga.call(this)}),{enumerable:!0}),Fo){var os=Fo.createObjectURL,as=Fo.revokeObjectURL;os&&ie(za,"createObjectURL",(function(e){return os.apply(Fo,arguments)})),as&&ie(za,"revokeObjectURL",(function(e){return as.apply(Fo,arguments)}))}vt(za,"URL"),Ne({global:!0,forced:!Hi,sham:!c},{URL:za}),Ne({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}}),TMAConfig&&"ios"===TMAConfig.platform&&TMAConfig.sysVersion&&/^(10\.0|11|12|13|14)/.test(TMAConfig.sysVersion)&&(Promise={});var ss=i((function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports})),cs=i((function(e){e.exports=function(e,t){if(e){if("string"==typeof e)return ss(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ss(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports})),us=r(i((function(e){e.exports=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=cs(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}))),ls=r(i((function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}))),fs=["info","warn","error","debug","log"],ds=["error","warn"],hs=["group","groupEnd"],ps=new(function(){function e(){var e=this;this.prefix="[TMA]",this.type="",this.deprecated=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.warn.apply(e,["Deprecated:"].concat(n))},this.removeAt=function(t){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(n=console).warn.apply(n,[e.prefix+"[WARN][DEV]","Deprecated(>= "+t.sdkVersion+" removed):"].concat(i))};for(var t,n=us(fs);!(t=n()).done;){var r=t.value;this[r]=this.createLogMethod(r)}for(var i,o=us(hs);!(i=o()).done;){var a=i.value;this[a]=this.createControlMethod(a)}}var t=e.prototype;return t.setPrefix=function(e){this.prefix=e},t.createLogMethod=function(e){var t=this;if(!ds.includes(e))return function(){};var n=e.toUpperCase();return function(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];(r=console)[e].apply(r,[t.prefix+"["+n+"][RUNTIME]"].concat(o))}},t.createControlMethod=function(e){return function(){}},ls(e)}()),vs=1,gs={},ms=new Function("return this")(),ys=function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=vs++;return"number"!=typeof n&&(n=0),gs[a]={callback:function(){try{for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(this,n)}catch(e){ms.onerror?ms.onerror(String(e),void 0,void 0,void 0,e instanceof Error?e:void 0):ps.error(e)}},args:i},ms.ttJSCore.setTimer(e,a,n),a},bs=function(e,t){gs[t]&&(delete gs[t],ms.ttJSCore.clearTimer(e,t))};ms.nativeInvokeTimer=function(e,t){gs[t]&&gs[t].callback.apply(ms,gs[t].args),"Timeout"===e&&delete gs[t]},"undefined"==typeof setTimeout&&(ms.setTimeout=ys.bind(ms,"Timeout"),ms.clearTimeout=bs.bind(ms,"Timeout"),ms.setInterval=ys.bind(ms,"Interval"),ms.clearInterval=bs.bind(ms,"Interval"));var ks=_e.f,ws={}.toString,_s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ss={f:function(e){return _s&&"[object Window]"==ws.call(e)?function(e){try{return ks(e)}catch(e){return _s.slice()}}(e):ks(y(e))}},Cs=mn.forEach,Is=$("hidden"),Ts="Symbol",As=We("toPrimitive"),Es=re.set,Ms=re.getterFor(Ts),xs=Object.prototype,Ps=a.Symbol,Os=se("JSON","stringify"),Rs=E.f,Ns=P.f,js=Ss.f,Ds=f.f,Ls=z("symbols"),Fs=z("op-symbols"),Bs=z("string-to-symbol-registry"),Us=z("symbol-to-string-registry"),qs=z("wks"),Ws=a.QObject,Vs=!Ws||!Ws.prototype||!Ws.prototype.findChild,zs=c&&s((function(){return 7!=xt(Ns({},"a",{get:function(){return Ns(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Rs(xs,t);r&&delete xs[t],Ns(e,t,n),r&&e!==xs&&Ns(xs,t,r)}:Ns,Hs=function(e,t){var n=Ls[e]=xt(Ps.prototype);return Es(n,{type:Ts,tag:e,description:t}),c||(n.description=t),n},Gs=Fe?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Ps},Js=function(e,t,n){e===xs&&Js(Fs,t,n),M(e);var r=k(t,!0);return M(n),_(Ls,r)?(n.enumerable?(_(e,Is)&&e[Is][r]&&(e[Is][r]=!1),n=xt(n,{enumerable:d(0,!1)})):(_(e,Is)||Ns(e,Is,d(1,{})),e[Is][r]=!0),zs(e,r,n)):Ns(e,r,n)},Ks=function(e,t){M(e);var n=y(t),r=kt(n).concat(Xs(n));return Cs(r,(function(t){c&&!$s.call(n,t)||Js(e,t,n[t])})),e},$s=function(e){var t=k(e,!0),n=Ds.call(this,t);return!(this===xs&&_(Ls,t)&&!_(Fs,t))&&(!(n||!_(this,t)||!_(Ls,t)||_(this,Is)&&this[Is][t])||n)},Ys=function(e,t){var n=y(e),r=k(t,!0);if(n!==xs||!_(Ls,r)||_(Fs,r)){var i=Rs(n,r);return!i||!_(Ls,r)||_(n,Is)&&n[Is][r]||(i.enumerable=!0),i}},Qs=function(e){var t=js(y(e)),n=[];return Cs(t,(function(e){_(Ls,e)||_(Y,e)||n.push(e)})),n},Xs=function(e){var t=e===xs,n=js(t?Fs:y(e)),r=[];return Cs(n,(function(e){!_(Ls,e)||t&&!_(xs,e)||r.push(Ls[e])})),r};if(Le||(ie((Ps=function(){if(this instanceof Ps)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=J(e),n=function(e){this===xs&&n.call(Fs,e),_(this,Is)&&_(this[Is],t)&&(this[Is][t]=!1),zs(this,t,d(1,e))};return c&&Vs&&zs(xs,t,{configurable:!0,set:n}),Hs(t,e)}).prototype,"toString",(function(){return Ms(this).tag})),ie(Ps,"withoutSetter",(function(e){return Hs(J(e),e)})),f.f=$s,P.f=Js,E.f=Ys,_e.f=Ss.f=Qs,Se.f=Xs,Li.f=function(e){return Hs(We(e),e)},c&&(Ns(Ps.prototype,"description",{configurable:!0,get:function(){return Ms(this).description}}),ie(xs,"propertyIsEnumerable",$s,{unsafe:!0}))),Ne({global:!0,wrap:!0,forced:!Le,sham:!Le},{Symbol:Ps}),Cs(kt(qs),(function(e){Bi(e)})),Ne({target:Ts,stat:!0,forced:!Le},{for:function(e){var t=String(e);if(_(Bs,t))return Bs[t];var n=Ps(t);return Bs[t]=n,Us[n]=t,n},keyFor:function(e){if(!Gs(e))throw TypeError(e+" is not a symbol");if(_(Us,e))return Us[e]},useSetter:function(){Vs=!0},useSimple:function(){Vs=!1}}),Ne({target:"Object",stat:!0,forced:!Le,sham:!c},{create:function(e,t){return void 0===t?xt(e):Ks(xt(e),t)},defineProperty:Js,defineProperties:Ks,getOwnPropertyDescriptor:Ys}),Ne({target:"Object",stat:!0,forced:!Le},{getOwnPropertyNames:Qs,getOwnPropertySymbols:Xs}),Ne({target:"Object",stat:!0,forced:s((function(){Se.f(1)}))},{getOwnPropertySymbols:function(e){return Se.f(Ot(e))}}),Os){var Zs=!Le||s((function(){var e=Ps();return"[null]"!=Os([e])||"{}"!=Os({a:e})||"{}"!=Os(Object(e))}));Ne({target:"JSON",stat:!0,forced:Zs},{stringify:function(e,t,n){for(var r,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=t,(b(t)||void 0!==e)&&!Gs(e))return dn(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Gs(t))return t}),i[1]=t,Os.apply(null,i)}})}Ps.prototype[As]||O(Ps.prototype,As,Ps.prototype.valueOf),vt(Ps,Ts),Y[Is]=!0;var ec=P.f,tc=a.Symbol;if(c&&"function"==typeof tc&&(!("description"in tc.prototype)||void 0!==tc().description)){var nc={},rc=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof rc?new tc(e):void 0===e?tc():tc(e);return""===e&&(nc[t]=!0),t};Ie(rc,tc);var ic=rc.prototype=tc.prototype;ic.constructor=rc;var oc=ic.toString,ac="Symbol(test)"==String(tc("test")),sc=/^Symbol\((.*)\)[^)]+$/;ec(ic,"description",{configurable:!0,get:function(){var e=b(this)?this.valueOf():this,t=oc.call(e);if(_(nc,e))return"";var n=ac?t.slice(7,-1):t.replace(sc,"$1");return""===n?void 0:n}}),Ne({global:!0,forced:!0},{Symbol:rc})}Bi("asyncIterator"),Bi("hasInstance"),Bi("isConcatSpreadable"),Bi("iterator"),Bi("match"),Bi("replace"),Bi("search"),Bi("species"),Bi("split"),Bi("toPrimitive"),Bi("toStringTag"),Bi("unscopables");var cc,uc,lc=se("navigator","userAgent")||"",fc=a.process,dc=fc&&fc.versions,hc=dc&&dc.v8;hc?uc=(cc=hc.split("."))[0]+cc[1]:lc&&(!(cc=lc.match(/Edge\/(\d+)/))||cc[1]>=74)&&(cc=lc.match(/Chrome\/(\d+)/))&&(uc=cc[1]);var pc=uc&&+uc,vc=We("species"),gc=function(e){return pc>=51||!s((function(){var t=[];return(t.constructor={})[vc]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},mc=We("isConcatSpreadable"),yc=9007199254740991,bc="Maximum allowed index exceeded",kc=pc>=51||!s((function(){var e=[];return e[mc]=!1,e.concat()[0]!==e})),wc=gc("concat"),_c=function(e){if(!b(e))return!1;var t=e[mc];return void 0!==t?!!t:dn(e)};Ne({target:"Array",proto:!0,forced:!kc||!wc},{concat:function(e){var t,n,r,i,o,a=Ot(this),s=pn(a,0),c=0;for(t=-1,r=arguments.length;t<r;t++)if(_c(o=-1===t?a:arguments[t])){if(c+(i=de(o.length))>yc)throw TypeError(bc);for(n=0;n<i;n++,c++)n in o&&Yi(s,c,o[n])}else{if(c>=yc)throw TypeError(bc);Yi(s,c++,o)}return s.length=c,s}});var Sc=Math.min,Cc=[].copyWithin||function(e,t){var n=Ot(this),r=de(n.length),i=ve(e,r),o=ve(t,r),a=arguments.length>2?arguments[2]:void 0,s=Sc((void 0===a?r:ve(a,r))-o,r-i),c=1;for(o<i&&i<o+s&&(c=-1,o+=s-1,i+=s-1);s-- >0;)o in n?n[i]=n[o]:delete n[i],i+=c,o+=c;return n};Ne({target:"Array",proto:!0},{copyWithin:Cc}),un("copyWithin");var Ic=function(e){for(var t=Ot(this),n=de(t.length),r=arguments.length,i=ve(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:ve(o,n);a>i;)t[i++]=e;return t};Ne({target:"Array",proto:!0},{fill:Ic}),un("fill");var Tc=Object.defineProperty,Ac={},Ec=function(e){throw e},Mc=function(e,t){if(_(Ac,e))return Ac[e];t||(t={});var n=[][e],r=!!_(t,"ACCESSORS")&&t.ACCESSORS,i=_(t,0)?t[0]:Ec,o=_(t,1)?t[1]:void 0;return Ac[e]=!!n&&!s((function(){if(r&&!c)return!0;var e={length:-1};r?Tc(e,1,{enumerable:!0,get:Ec}):e[1]=1,n.call(e,i,o)}))},xc=mn.filter,Pc=gc("filter"),Oc=Mc("filter");Ne({target:"Array",proto:!0,forced:!Pc||!Oc},{filter:function(e){return xc(this,e,arguments.length>1?arguments[1]:void 0)}});var Rc=mn.find,Nc="find",jc=!0,Dc=Mc(Nc);Nc in[]&&Array(1).find((function(){jc=!1})),Ne({target:"Array",proto:!0,forced:jc||!Dc},{find:function(e){return Rc(this,e,arguments.length>1?arguments[1]:void 0)}}),un(Nc);var Lc=mn.findIndex,Fc="findIndex",Bc=!0,Uc=Mc(Fc);Fc in[]&&Array(1).findIndex((function(){Bc=!1})),Ne({target:"Array",proto:!0,forced:Bc||!Uc},{findIndex:function(e){return Lc(this,e,arguments.length>1?arguments[1]:void 0)}}),un(Fc);var qc=function(e,t,n,r,i,o,a,s){for(var c,u=i,l=0,f=!!a&&Ke(a,s,3);l<r;){if(l in n){if(c=f?f(n[l],l,t):n[l],o>0&&dn(c))u=qc(e,t,c,de(c.length),u,o-1)-1;else{if(u>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[u]=c}u++}l++}return u},Wc=qc;Ne({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=Ot(this),n=de(t.length),r=pn(t,0);return r.length=Wc(r,t,t,n,0,void 0===e?1:le(e)),r}}),Ne({target:"Array",proto:!0},{flatMap:function(e){var t,n=Ot(this),r=de(n.length);return Je(e),(t=pn(n,0)).length=Wc(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}});var Vc=!dt((function(e){Array.from(e)}));Ne({target:"Array",stat:!0,forced:Vc},{from:Qi});var zc=me.includes,Hc=Mc("indexOf",{ACCESSORS:!0,1:0});Ne({target:"Array",proto:!0,forced:!Hc},{includes:function(e){return zc(this,e,arguments.length>1?arguments[1]:void 0)}}),un("includes");var Gc=function(e,t){var n=[][e];return!!n&&s((function(){n.call(null,t||function(){throw 1},1)}))},Jc=me.indexOf,Kc=[].indexOf,$c=!!Kc&&1/[1].indexOf(1,-0)<0,Yc=Gc("indexOf"),Qc=Mc("indexOf",{ACCESSORS:!0,1:0});Ne({target:"Array",proto:!0,forced:$c||!Yc||!Qc},{indexOf:function(e){return $c?Kc.apply(this,arguments)||0:Jc(this,e,arguments.length>1?arguments[1]:void 0)}});var Xc=Math.min,Zc=[].lastIndexOf,eu=!!Zc&&1/[1].lastIndexOf(1,-0)<0,tu=Gc("lastIndexOf"),nu=Mc("indexOf",{ACCESSORS:!0,1:0}),ru=eu||!tu||!nu?function(e){if(eu)return Zc.apply(this,arguments)||0;var t=y(this),n=de(t.length),r=n-1;for(arguments.length>1&&(r=Xc(r,le(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}:Zc;Ne({target:"Array",proto:!0,forced:ru!==[].lastIndexOf},{lastIndexOf:ru});var iu=mn.map,ou=gc("map"),au=Mc("map");Ne({target:"Array",proto:!0,forced:!ou||!au},{map:function(e){return iu(this,e,arguments.length>1?arguments[1]:void 0)}});var su=s((function(){function e(){}return!(Array.of.call(e)instanceof e)}));Ne({target:"Array",stat:!0,forced:su},{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)Yi(n,e,arguments[e++]);return n.length=t,n}});var cu=function(e){return function(t,n,r,i){Je(n);var o=Ot(t),a=g(o),s=de(o.length),c=e?s-1:0,u=e?-1:1;if(r<2)for(;;){if(c in a){i=a[c],c+=u;break}if(c+=u,e?c<0:s<=c)throw TypeError("Reduce of empty array with no initial value")}for(;e?c>=0:s>c;c+=u)c in a&&(i=n(i,a[c],c,o));return i}},uu={left:cu(!1),right:cu(!0)},lu="process"==p(a.process),fu=uu.left,du=Gc("reduce"),hu=Mc("reduce",{1:0});Ne({target:"Array",proto:!0,forced:!du||!hu||!lu&&pc>79&&pc<83},{reduce:function(e){return fu(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var pu=uu.right,vu=Gc("reduceRight"),gu=Mc("reduce",{1:0});Ne({target:"Array",proto:!0,forced:!vu||!gu||!lu&&pc>79&&pc<83},{reduceRight:function(e){return pu(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var mu=[].reverse,yu=[1,2];Ne({target:"Array",proto:!0,forced:String(yu)===String(yu.reverse())},{reverse:function(){return dn(this)&&(this.length=this.length),mu.call(this)}});var bu=gc("slice"),ku=Mc("slice",{ACCESSORS:!0,0:0,1:2}),wu=We("species"),_u=[].slice,Su=Math.max;Ne({target:"Array",proto:!0,forced:!bu||!ku},{slice:function(e,t){var n,r,i,o=y(this),a=de(o.length),s=ve(e,a),c=ve(void 0===t?a:t,a);if(dn(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!dn(n.prototype)?b(n)&&null===(n=n[wu])&&(n=void 0):n=void 0,n===Array||void 0===n))return _u.call(o,s,c);for(r=new(void 0===n?Array:n)(Su(c-s,0)),i=0;s<c;s++,i++)s in o&&Yi(r,i,o[s]);return r.length=i,r}});var Cu=[],Iu=Cu.sort,Tu=s((function(){Cu.sort(void 0)})),Au=s((function(){Cu.sort(null)})),Eu=Gc("sort");Ne({target:"Array",proto:!0,forced:Tu||!Au||!Eu},{sort:function(e){return void 0===e?Iu.call(Ot(this)):Iu.call(Ot(this),Je(e))}}),Xt("Array");var Mu=gc("splice"),xu=Mc("splice",{ACCESSORS:!0,0:0,1:2}),Pu=Math.max,Ou=Math.min,Ru=9007199254740991,Nu="Maximum allowed length exceeded";Ne({target:"Array",proto:!0,forced:!Mu||!xu},{splice:function(e,t){var n,r,i,o,a,s,c=Ot(this),u=de(c.length),l=ve(e,u),f=arguments.length;if(0===f?n=r=0:1===f?(n=0,r=u-l):(n=f-2,r=Ou(Pu(le(t),0),u-l)),u+n-r>Ru)throw TypeError(Nu);for(i=pn(c,r),o=0;o<r;o++)(a=l+o)in c&&Yi(i,o,c[a]);if(i.length=r,n<r){for(o=l;o<u-r;o++)s=o+n,(a=o+r)in c?c[s]=c[a]:delete c[s];for(o=u;o>u-r+n;o--)delete c[o-1]}else if(n>r)for(o=u-r;o>l;o--)s=o+n-1,(a=o+r-1)in c?c[s]=c[a]:delete c[s];for(o=0;o<n;o++)c[o+l]=arguments[o+2];return c.length=u-r+n,i}}),un("flat"),un("flatMap");var ju="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Du=function(e){if(void 0===e)return 0;var t=le(e),n=de(t);if(t!==n)throw RangeError("Wrong length or index");return n},Lu=1/0,Fu=Math.abs,Bu=Math.pow,Uu=Math.floor,qu=Math.log,Wu=Math.LN2,Vu=function(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,c=(1<<s)-1,u=c>>1,l=23===t?Bu(2,-24)-Bu(2,-77):0,f=e<0||0===e&&1/e<0?1:0,d=0;for((e=Fu(e))!=e||e===Lu?(i=e!=e?1:0,r=c):(r=Uu(qu(e)/Wu),e*(o=Bu(2,-r))<1&&(r--,o*=2),(e+=r+u>=1?l/o:l*Bu(2,1-u))*o>=2&&(r++,o/=2),r+u>=c?(i=0,r=c):r+u>=1?(i=(e*o-1)*Bu(2,t),r+=u):(i=e*Bu(2,u-1)*Bu(2,t),r=0));t>=8;a[d++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[d++]=255&r,r/=256,s-=8);return a[--d]|=128*f,a},zu=function(e,t){var n,r=e.length,i=8*r-t-1,o=(1<<i)-1,a=o>>1,s=i-7,c=r-1,u=e[c--],l=127&u;for(u>>=7;s>0;l=256*l+e[c],c--,s-=8);for(n=l&(1<<-s)-1,l>>=-s,s+=t;s>0;n=256*n+e[c],c--,s-=8);if(0===l)l=1-a;else{if(l===o)return n?NaN:u?-1/0:Lu;n+=Bu(2,t),l-=a}return(u?-1:1)*n*Bu(2,l-t)},Hu=_e.f,Gu=P.f,Ju=re.get,Ku=re.set,$u="ArrayBuffer",Yu="DataView",Qu="Wrong index",Xu=a.ArrayBuffer,Zu=Xu,el=a.DataView,tl=el&&el.prototype,nl=Object.prototype,rl=a.RangeError,il=Vu,ol=zu,al=function(e){return[255&e]},sl=function(e){return[255&e,e>>8&255]},cl=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},ul=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},ll=function(e){return il(e,23,4)},fl=function(e){return il(e,52,8)},dl=function(e,t){Gu(e.prototype,t,{get:function(){return Ju(this)[t]}})},hl=function(e,t,n,r){var i=Du(n),o=Ju(e);if(i+t>o.byteLength)throw rl(Qu);var a=Ju(o.buffer).bytes,s=i+o.byteOffset,c=a.slice(s,s+t);return r?c:c.reverse()},pl=function(e,t,n,r,i,o){var a=Du(n),s=Ju(e);if(a+t>s.byteLength)throw rl(Qu);for(var c=Ju(s.buffer).bytes,u=a+s.byteOffset,l=r(+i),f=0;f<t;f++)c[u+f]=l[o?f:t-f-1]};if(ju){if(!s((function(){Xu(1)}))||!s((function(){new Xu(-1)}))||s((function(){return new Xu,new Xu(1.5),new Xu(NaN),Xu.name!=$u}))){for(var vl,gl=(Zu=function(e){return at(this,Zu),new Xu(Du(e))}).prototype=Xu.prototype,ml=Hu(Xu),yl=0;ml.length>yl;)(vl=ml[yl++])in Zu||O(Zu,vl,Xu[vl]);gl.constructor=Zu}mt&&Dt(tl)!==nl&&mt(tl,nl);var bl=new el(new Zu(2)),kl=tl.setInt8;bl.setInt8(0,2147483648),bl.setInt8(1,2147483649),!bl.getInt8(0)&&bl.getInt8(1)||Pt(tl,{setInt8:function(e,t){kl.call(this,e,t<<24>>24)},setUint8:function(e,t){kl.call(this,e,t<<24>>24)}},{unsafe:!0})}else Zu=function(e){at(this,Zu,$u);var t=Du(e);Ku(this,{bytes:Ic.call(new Array(t),0),byteLength:t}),c||(this.byteLength=t)},el=function(e,t,n){at(this,el,Yu),at(e,Zu,Yu);var r=Ju(e).byteLength,i=le(t);if(i<0||i>r)throw rl("Wrong offset");if(i+(n=void 0===n?r-i:de(n))>r)throw rl("Wrong length");Ku(this,{buffer:e,byteLength:n,byteOffset:i}),c||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},c&&(dl(Zu,"byteLength"),dl(el,"buffer"),dl(el,"byteLength"),dl(el,"byteOffset")),Pt(el.prototype,{getInt8:function(e){return hl(this,1,e)[0]<<24>>24},getUint8:function(e){return hl(this,1,e)[0]},getInt16:function(e){var t=hl(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=hl(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return ul(hl(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return ul(hl(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return ol(hl(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return ol(hl(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){pl(this,1,e,al,t)},setUint8:function(e,t){pl(this,1,e,al,t)},setInt16:function(e,t){pl(this,2,e,sl,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){pl(this,2,e,sl,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){pl(this,4,e,cl,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){pl(this,4,e,cl,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){pl(this,4,e,ll,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){pl(this,8,e,fl,t,arguments.length>2?arguments[2]:void 0)}});vt(Zu,$u),vt(el,Yu);var wl={ArrayBuffer:Zu,DataView:el},_l="ArrayBuffer",Sl=wl.ArrayBuffer,Cl=a.ArrayBuffer;Ne({global:!0,forced:Cl!==Sl},{ArrayBuffer:Sl}),Xt(_l);var Il,Tl=P.f,Al=a.Int8Array,El=Al&&Al.prototype,Ml=a.Uint8ClampedArray,xl=Ml&&Ml.prototype,Pl=Al&&Dt(Al),Ol=El&&Dt(El),Rl=Object.prototype,Nl=Rl.isPrototypeOf,jl=We("toStringTag"),Dl=J("TYPED_ARRAY_TAG"),Ll=ju&&!!mt&&"Opera"!==Ze(a.opera),Fl=!1,Bl={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Ul=function(e){return b(e)&&_(Bl,Ze(e))};for(Il in Bl)a[Il]||(Ll=!1);if((!Ll||"function"!=typeof Pl||Pl===Function.prototype)&&(Pl=function(){throw TypeError("Incorrect invocation")},Ll))for(Il in Bl)a[Il]&&mt(a[Il],Pl);if((!Ll||!Ol||Ol===Rl)&&(Ol=Pl.prototype,Ll))for(Il in Bl)a[Il]&&mt(a[Il].prototype,Ol);if(Ll&&Dt(xl)!==Ol&&mt(xl,Ol),c&&!_(Ol,jl))for(Il in Fl=!0,Tl(Ol,jl,{get:function(){return b(this)?this[Dl]:void 0}}),Bl)a[Il]&&O(a[Il],Dl,Il);var ql={NATIVE_ARRAY_BUFFER_VIEWS:Ll,TYPED_ARRAY_TAG:Fl&&Dl,aTypedArray:function(e){if(Ul(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(mt){if(Nl.call(Pl,e))return e}else for(var t in Bl)if(_(Bl,Il)){var n=a[t];if(n&&(e===n||Nl.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(c){if(n)for(var r in Bl){var i=a[r];i&&_(i.prototype,e)&&delete i.prototype[e]}Ol[e]&&!n||ie(Ol,e,n?t:Ll&&El[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(c){if(mt){if(n)for(r in Bl)(i=a[r])&&_(i,e)&&delete i[e];if(Pl[e]&&!n)return;try{return ie(Pl,e,n?t:Ll&&Al[e]||t)}catch(e){}}for(r in Bl)!(i=a[r])||i[e]&&!n||ie(i,e,t)}},isView:function(e){var t=Ze(e);return"DataView"===t||_(Bl,t)},isTypedArray:Ul,TypedArray:Pl,TypedArrayPrototype:Ol};Ne({target:"ArrayBuffer",stat:!0,forced:!ql.NATIVE_ARRAY_BUFFER_VIEWS},{isView:ql.isView});var Wl=wl.ArrayBuffer,Vl=wl.DataView,zl=Wl.prototype.slice,Hl=s((function(){return!new Wl(2).slice(1,void 0).byteLength}));Ne({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Hl},{slice:function(e,t){if(void 0!==zl&&void 0===t)return zl.call(M(this),e);for(var n=M(this).byteLength,r=ve(e,n),i=ve(void 0===t?n:t,n),o=new(Ln(this,Wl))(de(i-r)),a=new Vl(this),s=new Vl(o),c=0;r<i;)s.setUint8(c++,a.getUint8(r++));return o}});var Gl=We("toPrimitive"),Jl=Date.prototype;Gl in Jl||O(Jl,Gl,(function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return k(M(this),"number"!==e)}));var Kl=We("hasInstance"),$l=Function.prototype;Kl in $l||P.f($l,Kl,{value:function(e){if("function"!=typeof this||!b(e))return!1;if(!b(this.prototype))return e instanceof this;for(;e=Dt(e);)if(this.prototype===e)return!0;return!1}}),vt(a.JSON,"JSON",!0);var Yl=Math.log,Ql=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Yl(1+e)},Xl=Math.acosh,Zl=Math.log,ef=Math.sqrt,tf=Math.LN2,nf=!Xl||710!=Math.floor(Xl(Number.MAX_VALUE))||Xl(1/0)!=1/0;Ne({target:"Math",stat:!0,forced:nf},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Zl(e)+tf:Ql(e-1+ef(e-1)*ef(e+1))}});var rf=Math.asinh,of=Math.log,af=Math.sqrt;Ne({target:"Math",stat:!0,forced:!(rf&&1/rf(0)>0)},{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):of(t+af(t*t+1)):t}});var sf=Math.atanh,cf=Math.log;Ne({target:"Math",stat:!0,forced:!(sf&&1/sf(-0)<0)},{atanh:function(e){return 0==(e=+e)?e:cf((1+e)/(1-e))/2}});var uf=Math.abs,lf=Math.pow;Ne({target:"Math",stat:!0},{cbrt:function(e){return zn(e=+e)*lf(uf(e),1/3)}});var ff=Math.floor,df=Math.log,hf=Math.LOG2E;Ne({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-ff(df(e+.5)*hf):32}});var pf=Math.expm1,vf=Math.exp,gf=!pf||pf(10)>22025.465794806718||pf(10)<22025.465794806718||-2e-17!=pf(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:vf(e)-1}:pf,mf=Math.cosh,yf=Math.abs,bf=Math.E;Ne({target:"Math",stat:!0,forced:!mf||mf(710)===1/0},{cosh:function(e){var t=gf(yf(e)-1)+1;return(t+1/(t*bf*bf))*(bf/2)}}),Ne({target:"Math",stat:!0,forced:gf!=Math.expm1},{expm1:gf}),Ne({target:"Math",stat:!0},{fround:Qn});var kf=Math.hypot,wf=Math.abs,_f=Math.sqrt,Sf=!!kf&&kf(1/0,NaN)!==1/0;Ne({target:"Math",stat:!0,forced:Sf},{hypot:function(e,t){for(var n,r,i=0,o=0,a=arguments.length,s=0;o<a;)s<(n=wf(arguments[o++]))?(i=i*(r=s/n)*r+1,s=n):i+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*_f(i)}});var Cf=Math.log,If=Math.LOG10E;Ne({target:"Math",stat:!0},{log10:function(e){return Cf(e)*If}}),Ne({target:"Math",stat:!0},{log1p:Ql});var Tf=Math.log,Af=Math.LN2;Ne({target:"Math",stat:!0},{log2:function(e){return Tf(e)/Af}}),Ne({target:"Math",stat:!0},{sign:zn});var Ef=Math.abs,Mf=Math.exp,xf=Math.E,Pf=s((function(){return-2e-17!=Math.sinh(-2e-17)}));Ne({target:"Math",stat:!0,forced:Pf},{sinh:function(e){return Ef(e=+e)<1?(gf(e)-gf(-e))/2:(Mf(e-1)-Mf(-e-1))*(xf/2)}});var Of=Math.exp;Ne({target:"Math",stat:!0},{tanh:function(e){var t=gf(e=+e),n=gf(-e);return t==1/0?1:n==1/0?-1:(t-n)/(Of(e)+Of(-e))}}),vt(Math,"Math",!0);var Rf=Math.ceil,Nf=Math.floor;Ne({target:"Math",stat:!0},{trunc:function(e){return(e>0?Nf:Rf)(e)}});var jf=_e.f,Df=E.f,Lf=P.f,Ff=fr.trim,Bf="Number",Uf=a.Number,qf=Uf.prototype,Wf=p(xt(qf))==Bf,Vf=function(e){var t,n,r,i,o,a,s,c,u=k(e,!1);if("string"==typeof u&&u.length>2)if(43===(t=(u=Ff(u)).charCodeAt(0))||45===t){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(a=(o=u.slice(2)).length,s=0;s<a;s++)if((c=o.charCodeAt(s))<48||c>i)return NaN;return parseInt(o,r)}return+u};if(Oe(Bf,!Uf(" 0o1")||!Uf("0b1")||Uf("+0x1"))){for(var zf,Hf=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof Hf&&(Wf?s((function(){qf.valueOf.call(n)})):p(n)!=Bf)?yt(new Uf(Vf(t)),n,Hf):Vf(t)},Gf=c?jf(Uf):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Jf=0;Gf.length>Jf;Jf++)_(Uf,zf=Gf[Jf])&&!_(Hf,zf)&&Lf(Hf,zf,Df(Uf,zf));Hf.prototype=qf,qf.constructor=Hf,ie(a,Bf,Hf)}Ne({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});var Kf=Math.floor,$f=function(e){return!b(e)&&isFinite(e)&&Kf(e)===e};Ne({target:"Number",stat:!0},{isInteger:$f});var Yf=Math.abs;Ne({target:"Number",stat:!0},{isSafeInteger:function(e){return $f(e)&&Yf(e)<=9007199254740991}}),Ne({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),Ne({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991});var Qf=fr.trim,Xf=a.parseFloat,Zf=1/Xf(ar+"-0")!=-1/0?function(e){var t=Qf(String(e)),n=Xf(t);return 0===n&&"-"==t.charAt(0)?-0:n}:Xf;Ne({target:"Number",stat:!0,forced:Number.parseFloat!=Zf},{parseFloat:Zf}),Ne({target:"Number",stat:!0,forced:Number.parseInt!=vr},{parseInt:vr}),Ne({target:"Object",stat:!0,forced:Object.assign!==Ki},{assign:Ki});var ed=!s((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete a[e]}));c&&Ne({target:"Object",proto:!0,forced:ed},{__defineGetter__:function(e,t){P.f(Ot(this),e,{get:Je(t),enumerable:!0,configurable:!0})}}),Ne({target:"Object",stat:!0,forced:!c,sham:!c},{defineProperties:wt}),Ne({target:"Object",stat:!0,forced:!c,sham:!c},{defineProperty:P.f}),c&&Ne({target:"Object",proto:!0,forced:ed},{__defineSetter__:function(e,t){P.f(Ot(this),e,{set:Je(t),enumerable:!0,configurable:!0})}});var td=f.f,nd=function(e){return function(t){for(var n,r=y(t),i=kt(r),o=i.length,a=0,s=[];o>a;)n=i[a++],c&&!td.call(r,n)||s.push(e?[n,r[n]]:r[n]);return s}},rd={entries:nd(!0),values:nd(!1)},id=rd.entries;Ne({target:"Object",stat:!0},{entries:function(e){return id(e)}});var od=De.onFreeze,ad=Object.freeze,sd=s((function(){ad(1)}));Ne({target:"Object",stat:!0,forced:sd,sham:!je},{freeze:function(e){return ad&&b(e)?ad(od(e)):e}}),Ne({target:"Object",stat:!0},{fromEntries:function(e){var t={};return ot(e,(function(e,n){Yi(t,e,n)}),{AS_ENTRIES:!0}),t}});var cd=E.f,ud=s((function(){cd(1)}));Ne({target:"Object",stat:!0,forced:!c||ud,sham:!c},{getOwnPropertyDescriptor:function(e,t){return cd(y(e),t)}}),Ne({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(e){for(var t,n,r=y(e),i=E.f,o=Ce(r),a={},s=0;o.length>s;)void 0!==(n=i(r,t=o[s++]))&&Yi(a,t,n);return a}});var ld=Ss.f,fd=s((function(){return!Object.getOwnPropertyNames(1)}));Ne({target:"Object",stat:!0,forced:fd},{getOwnPropertyNames:ld});var dd=s((function(){Dt(1)}));Ne({target:"Object",stat:!0,forced:dd,sham:!Rt},{getPrototypeOf:function(e){return Dt(Ot(e))}});var hd=Object.isExtensible,pd=s((function(){hd(1)}));Ne({target:"Object",stat:!0,forced:pd},{isExtensible:function(e){return!!b(e)&&(!hd||hd(e))}});var vd=Object.isFrozen,gd=s((function(){vd(1)}));Ne({target:"Object",stat:!0,forced:gd},{isFrozen:function(e){return!b(e)||!!vd&&vd(e)}});var md=Object.isSealed,yd=s((function(){md(1)}));Ne({target:"Object",stat:!0,forced:yd},{isSealed:function(e){return!b(e)||!!md&&md(e)}});var bd=s((function(){kt(1)}));Ne({target:"Object",stat:!0,forced:bd},{keys:function(e){return kt(Ot(e))}});var kd=E.f;c&&Ne({target:"Object",proto:!0,forced:ed},{__lookupGetter__:function(e){var t,n=Ot(this),r=k(e,!0);do{if(t=kd(n,r))return t.get}while(n=Dt(n))}});var wd=E.f;c&&Ne({target:"Object",proto:!0,forced:ed},{__lookupSetter__:function(e){var t,n=Ot(this),r=k(e,!0);do{if(t=wd(n,r))return t.set}while(n=Dt(n))}});var _d=De.onFreeze,Sd=Object.preventExtensions,Cd=s((function(){Sd(1)}));Ne({target:"Object",stat:!0,forced:Cd,sham:!je},{preventExtensions:function(e){return Sd&&b(e)?Sd(_d(e)):e}});var Id=De.onFreeze,Td=Object.seal,Ad=s((function(){Td(1)}));Ne({target:"Object",stat:!0,forced:Ad,sham:!je},{seal:function(e){return Td&&b(e)?Td(Id(e)):e}}),Ne({target:"Object",stat:!0},{setPrototypeOf:mt});var Ed=Ye?{}.toString:function(){return"[object "+Ze(this)+"]"};Ye||ie(Object.prototype,"toString",Ed,{unsafe:!0});var Md=rd.values;Ne({target:"Object",stat:!0},{values:function(e){return Md(e)}}),Ne({global:!0,forced:parseFloat!=Zf},{parseFloat:Zf}),Ne({global:!0,forced:parseInt!=vr},{parseInt:vr});var xd,Pd,Od,Rd=a.Promise,Nd=/(iphone|ipod|ipad).*applewebkit/i.test(lc),jd=a.location,Dd=a.setImmediate,Ld=a.clearImmediate,Fd=a.process,Bd=a.MessageChannel,Ud=a.Dispatch,qd=0,Wd={},Vd="onreadystatechange",zd=function(e){if(Wd.hasOwnProperty(e)){var t=Wd[e];delete Wd[e],t()}},Hd=function(e){return function(){zd(e)}},Gd=function(e){zd(e.data)},Jd=function(e){a.postMessage(e+"",jd.protocol+"//"+jd.host)};Dd&&Ld||(Dd=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return Wd[++qd]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},xd(qd),qd},Ld=function(e){delete Wd[e]},lu?xd=function(e){Fd.nextTick(Hd(e))}:Ud&&Ud.now?xd=function(e){Ud.now(Hd(e))}:Bd&&!Nd?(Od=(Pd=new Bd).port2,Pd.port1.onmessage=Gd,xd=Ke(Od.postMessage,Od,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&jd&&"file:"!==jd.protocol&&!s(Jd)?(xd=Jd,a.addEventListener("message",Gd,!1)):xd=Vd in I("script")?function(e){_t.appendChild(I("script")).onreadystatechange=function(){_t.removeChild(this),zd(e)}}:function(e){setTimeout(Hd(e),0)});var Kd,$d,Yd,Qd,Xd,Zd,eh,th,nh={set:Dd,clear:Ld},rh=E.f,ih=nh.set,oh=a.MutationObserver||a.WebKitMutationObserver,ah=a.document,sh=a.process,ch=a.Promise,uh=rh(a,"queueMicrotask"),lh=uh&&uh.value;lh||(Kd=function(){var e,t;for(lu&&(e=sh.domain)&&e.exit();$d;){t=$d.fn,$d=$d.next;try{t()}catch(e){throw $d?Qd():Yd=void 0,e}}Yd=void 0,e&&e.enter()},!Nd&&!lu&&oh&&ah?(Xd=!0,Zd=ah.createTextNode(""),new oh(Kd).observe(Zd,{characterData:!0}),Qd=function(){Zd.data=Xd=!Xd}):ch&&ch.resolve?(eh=ch.resolve(void 0),th=eh.then,Qd=function(){th.call(eh,Kd)}):Qd=lu?function(){sh.nextTick(Kd)}:function(){ih.call(a,Kd)});var fh,dh,hh,ph,vh=lh||function(e){var t={fn:e,next:void 0};Yd&&(Yd.next=t),$d||($d=t,Qd()),Yd=t},gh=function(e,t){if(M(e),b(t)&&t.constructor===e)return t;var n=Pr.f(e);return(0,n.resolve)(t),n.promise},mh=nh.set,yh=We("species"),bh="Promise",kh=re.get,wh=re.set,_h=re.getterFor(bh),Sh=Rd,Ch=a.TypeError,Ih=a.document,Th=a.process,Ah=se("fetch"),Eh=Pr.f,Mh=Eh,xh=!!(Ih&&Ih.createEvent&&a.dispatchEvent),Ph="function"==typeof PromiseRejectionEvent,Oh="unhandledrejection",Rh=Oe(bh,(function(){if(!(U(Sh)!==String(Sh))){if(66===pc)return!0;if(!lu&&!Ph)return!0}if(pc>=51&&/native code/.test(Sh))return!1;var e=Sh.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[yh]=t,!(e.then((function(){}))instanceof t)})),Nh=Rh||!dt((function(e){Sh.all(e).catch((function(){}))})),jh=function(e){var t;return!(!b(e)||"function"!=typeof(t=e.then))&&t},Dh=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;vh((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var a,s,c,u=n[o++],l=i?u.ok:u.fail,f=u.resolve,d=u.reject,h=u.domain;try{l?(i||(2===e.rejection&&Uh(e),e.rejection=1),!0===l?a=r:(h&&h.enter(),a=l(r),h&&(h.exit(),c=!0)),a===u.promise?d(Ch("Promise-chain cycle")):(s=jh(a))?s.call(a,f,d):f(a)):d(r)}catch(e){h&&!c&&h.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&Fh(e)}))}},Lh=function(e,t,n){var r,i;xh?((r=Ih.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),a.dispatchEvent(r)):r={promise:t,reason:n},!Ph&&(i=a["on"+e])?i(r):e===Oh&&yr("Unhandled promise rejection",n)},Fh=function(e){mh.call(a,(function(){var t,n=e.facade,r=e.value;if(Bh(e)&&(t=Or((function(){lu?Th.emit("unhandledRejection",r,n):Lh(Oh,n,r)})),e.rejection=lu||Bh(e)?2:1,t.error))throw t.value}))},Bh=function(e){return 1!==e.rejection&&!e.parent},Uh=function(e){mh.call(a,(function(){var t=e.facade;lu?Th.emit("rejectionHandled",t):Lh("rejectionhandled",t,e.value)}))},qh=function(e,t,n){return function(r){e(t,r,n)}},Wh=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Dh(e,!0))},Vh=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Ch("Promise can't be resolved itself");var r=jh(t);r?vh((function(){var n={done:!1};try{r.call(t,qh(Vh,n,e),qh(Wh,n,e))}catch(t){Wh(n,t,e)}})):(e.value=t,e.state=1,Dh(e,!1))}catch(t){Wh({done:!1},t,e)}}};Rh&&(Sh=function(e){at(this,Sh,bh),Je(e),fh.call(this);var t=kh(this);try{e(qh(Vh,t),qh(Wh,t))}catch(e){Wh(t,e)}},(fh=function(e){wh(this,{type:bh,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Pt(Sh.prototype,{then:function(e,t){var n=_h(this),r=Eh(Ln(this,Sh));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=lu?Th.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Dh(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),dh=function(){var e=new fh,t=kh(e);this.promise=e,this.resolve=qh(Vh,t),this.reject=qh(Wh,t)},Pr.f=Eh=function(e){return e===Sh||e===hh?new dh(e):Mh(e)},"function"==typeof Rd&&(ph=Rd.prototype.then,ie(Rd.prototype,"then",(function(e,t){var n=this;return new Sh((function(e,t){ph.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof Ah&&Ne({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return gh(Sh,Ah.apply(a,arguments))}}))),Ne({global:!0,wrap:!0,forced:Rh},{Promise:Sh}),vt(Sh,bh,!1),Xt(bh),hh=se(bh),Ne({target:bh,stat:!0,forced:Rh},{reject:function(e){var t=Eh(this);return t.reject.call(void 0,e),t.promise}}),Ne({target:bh,stat:!0,forced:Rh},{resolve:function(e){return gh(this,e)}}),Ne({target:bh,stat:!0,forced:Nh},{all:function(e){var t=this,n=Eh(t),r=n.resolve,i=n.reject,o=Or((function(){var n=Je(t.resolve),o=[],a=0,s=1;ot(e,(function(e){var c=a++,u=!1;o.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=Eh(t),r=n.reject,i=Or((function(){var i=Je(t.resolve);ot(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var zh=!!Rd&&s((function(){Rd.prototype.finally.call({then:function(){}},(function(){}))}));Ne({target:"Promise",proto:!0,real:!0,forced:zh},{finally:function(e){var t=Ln(this,se("Promise")),n="function"==typeof e;return this.then(n?function(n){return gh(t,e()).then((function(){return n}))}:e,n?function(n){return gh(t,e()).then((function(){throw n}))}:e)}}),"function"!=typeof Rd||Rd.prototype.finally||ie(Rd.prototype,"finally",se("Promise").prototype.finally);var Hh=se("Reflect","apply"),Gh=Function.apply,Jh=!s((function(){Hh((function(){}))}));Ne({target:"Reflect",stat:!0,forced:Jh},{apply:function(e,t,n){return Je(e),M(n),Hh?Hh(e,t,n):Gh.call(e,t,n)}});var Kh=[].slice,$h={},Yh=function(e,t,n){if(!(t in $h)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";$h[t]=Function("C,a","return new C("+r.join(",")+")")}return $h[t](e,n)},Qh=Function.bind||function(e){var t=Je(this),n=Kh.call(arguments,1),r=function(){var i=n.concat(Kh.call(arguments));return this instanceof r?Yh(t,i.length,i):t.apply(e,i)};return b(t.prototype)&&(r.prototype=t.prototype),r},Xh=se("Reflect","construct"),Zh=s((function(){function e(){}return!(Xh((function(){}),[],e)instanceof e)})),ep=!s((function(){Xh((function(){}))})),tp=Zh||ep;Ne({target:"Reflect",stat:!0,forced:tp,sham:tp},{construct:function(e,t){Je(e),M(t);var n=arguments.length<3?e:Je(arguments[2]);if(ep&&!Zh)return Xh(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(Qh.apply(e,r))}var i=n.prototype,o=xt(b(i)?i:Object.prototype),a=Function.apply.call(e,o,t);return b(a)?a:o}});var np=s((function(){Reflect.defineProperty(P.f({},1,{value:1}),1,{value:2})}));Ne({target:"Reflect",stat:!0,forced:np,sham:!c},{defineProperty:function(e,t,n){M(e);var r=k(t,!0);M(n);try{return P.f(e,r,n),!0}catch(e){return!1}}});var rp=E.f;Ne({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=rp(M(e),t);return!(n&&!n.configurable)&&delete e[t]}}),Ne({target:"Reflect",stat:!0},{get:function e(t,n){var r,i,o=arguments.length<3?t:arguments[2];return M(t)===o?t[n]:(r=E.f(t,n))?_(r,"value")?r.value:void 0===r.get?void 0:r.get.call(o):b(i=Dt(t))?e(i,n,o):void 0}}),Ne({target:"Reflect",stat:!0,sham:!c},{getOwnPropertyDescriptor:function(e,t){return E.f(M(e),t)}}),Ne({target:"Reflect",stat:!0,sham:!Rt},{getPrototypeOf:function(e){return Dt(M(e))}}),Ne({target:"Reflect",stat:!0},{has:function(e,t){return t in e}});var ip=Object.isExtensible;Ne({target:"Reflect",stat:!0},{isExtensible:function(e){return M(e),!ip||ip(e)}}),Ne({target:"Reflect",stat:!0},{ownKeys:Ce}),Ne({target:"Reflect",stat:!0,sham:!je},{preventExtensions:function(e){M(e);try{var t=se("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}});var op=s((function(){var e=function(){},t=P.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)}));function ap(e,t){return RegExp(e,t)}Ne({target:"Reflect",stat:!0,forced:op},{set:function e(t,n,r){var i,o,a=arguments.length<4?t:arguments[3],s=E.f(M(t),n);if(!s){if(b(o=Dt(t)))return e(o,n,r,a);s=d(0)}if(_(s,"value")){if(!1===s.writable||!b(a))return!1;if(i=E.f(a,n)){if(i.get||i.set||!1===i.writable)return!1;i.value=r,P.f(a,n,i)}else P.f(a,n,d(0,r));return!0}return void 0!==s.set&&(s.set.call(a,r),!0)}}),mt&&Ne({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){M(e),gt(t);try{return mt(e,t),!0}catch(e){return!1}}});var sp={UNSUPPORTED_Y:s((function(){var e=ap("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET:s((function(){var e=ap("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},cp=P.f,up=_e.f,lp=re.set,fp=We("match"),dp=a.RegExp,hp=dp.prototype,pp=/a/g,vp=/a/g,gp=new dp(pp)!==pp,mp=sp.UNSUPPORTED_Y;if(c&&Oe("RegExp",!gp||mp||s((function(){return vp[fp]=!1,dp(pp)!=pp||dp(vp)==vp||"/a/i"!=dp(pp,"i")})))){for(var yp=function(e,t){var n,r=this instanceof yp,i=ki(e),o=void 0===t;if(!r&&i&&e.constructor===yp&&o)return e;gp?i&&!o&&(e=e.source):e instanceof yp&&(o&&(t=wi.call(e)),e=e.source),mp&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var a=yt(gp?new dp(e,t):dp(e,t),r?this:hp,yp);return mp&&n&&lp(a,{sticky:n}),a},bp=function(e){e in yp||cp(yp,e,{configurable:!0,get:function(){return dp[e]},set:function(t){dp[e]=t}})},kp=up(dp),wp=0;kp.length>wp;)bp(kp[wp++]);hp.constructor=yp,yp.prototype=hp,ie(a,"RegExp",yp)}Xt("RegExp");var _p=RegExp.prototype.exec,Sp=String.prototype.replace,Cp=_p,Ip=function(){var e=/a/,t=/b*/g;return _p.call(e,"a"),_p.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),Tp=sp.UNSUPPORTED_Y||sp.BROKEN_CARET,Ap=void 0!==/()??/.exec("")[1];(Ip||Ap||Tp)&&(Cp=function(e){var t,n,r,i,o=this,a=Tp&&o.sticky,s=wi.call(o),c=o.source,u=0,l=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(c="(?: "+c+")",l=" "+l,u++),n=new RegExp("^(?:"+c+")",s)),Ap&&(n=new RegExp("^"+c+"$(?!\\s)",s)),Ip&&(t=o.lastIndex),r=_p.call(a?n:o,l),a?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:Ip&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),Ap&&r&&r.length>1&&Sp.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var Ep=Cp;Ne({target:"RegExp",proto:!0,forced:/./.exec!==Ep},{exec:Ep}),c&&("g"!=/./g.flags||sp.UNSUPPORTED_Y)&&P.f(RegExp.prototype,"flags",{configurable:!0,get:wi});var Mp="toString",xp=RegExp.prototype,Pp=xp.toString,Op=s((function(){return"/a/b"!=Pp.call({source:"a",flags:"b"})})),Rp=Pp.name!=Mp;(Op||Rp)&&ie(RegExp.prototype,Mp,(function(){var e=M(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in xp)?wi.call(e):n)}),{unsafe:!0});var Np=fi.codeAt;Ne({target:"String",proto:!0},{codePointAt:function(e){return Np(this,e)}});var jp,Dp=function(e){if(ki(e))throw TypeError("The method doesn't accept regular expressions");return e},Lp=We("match"),Fp=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Lp]=!1,"/./"[e](t)}catch(e){}}return!1},Bp=E.f,Up="".endsWith,qp=Math.min,Wp=Fp("endsWith"),Vp=!(Wp||(jp=Bp(String.prototype,"endsWith"),!jp||jp.writable));Ne({target:"String",proto:!0,forced:!Vp&&!Wp},{endsWith:function(e){var t=String(m(this));Dp(e);var n=arguments.length>1?arguments[1]:void 0,r=de(t.length),i=void 0===n?r:qp(de(n),r),o=String(e);return Up?Up.call(t,o,i):t.slice(i-o.length,i)===o}});var zp=String.fromCharCode,Hp=String.fromCodePoint,Gp=!!Hp&&1!=Hp.length;Ne({target:"String",stat:!0,forced:Gp},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;r>i;){if(t=+arguments[i++],ve(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?zp(t):zp(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}}),Ne({target:"String",proto:!0,forced:!Fp("includes")},{includes:function(e){return!!~String(m(this)).indexOf(Dp(e),arguments.length>1?arguments[1]:void 0)}});var Jp=We("species"),Kp=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),$p="$0"==="a".replace(/./,"$0"),Yp=We("replace"),Qp=!!/./[Yp]&&""===/./[Yp]("a","$0"),Xp=!s((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Zp=function(e,t,n,r){var i=We(e),o=!s((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),a=o&&!s((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[Jp]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t}));if(!o||!a||"replace"===e&&(!Kp||!$p||Qp)||"split"===e&&!Xp){var c=/./[i],u=n(i,""[e],(function(e,t,n,r,i){return t.exec===Ep?o&&!i?{done:!0,value:c.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:$p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Qp}),l=u[0],f=u[1];ie(String.prototype,e,l),ie(RegExp.prototype,i,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)})}r&&O(RegExp.prototype[i],"sham",!0)},ev=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==p(e))throw TypeError("RegExp#exec called on incompatible receiver");return Ep.call(e,t)};Zp("match",1,(function(e,t,n){return[function(t){var n=m(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=M(e),o=String(this);if(!i.global)return ev(i,o);var a=i.unicode;i.lastIndex=0;for(var s,c=[],u=0;null!==(s=ev(i,o));){var l=String(s[0]);c[u]=l,""===l&&(i.lastIndex=Si(o,de(i.lastIndex),a)),u++}return 0===u?null:c}]}));var tv="".repeat||function(e){var t=String(m(this)),n="",r=le(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n},nv=Math.ceil,rv=function(e){return function(t,n,r){var i,o,a=String(m(t)),s=a.length,c=void 0===r?" ":String(r),u=de(n);return u<=s||""==c?a:(i=u-s,(o=tv.call(c,nv(i/c.length))).length>i&&(o=o.slice(0,i)),e?a+o:o+a)}},iv={start:rv(!1),end:rv(!0)},ov=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(lc),av=iv.end;Ne({target:"String",proto:!0,forced:ov},{padEnd:function(e){return av(this,e,arguments.length>1?arguments[1]:void 0)}});var sv=iv.start;Ne({target:"String",proto:!0,forced:ov},{padStart:function(e){return sv(this,e,arguments.length>1?arguments[1]:void 0)}}),Ne({target:"String",stat:!0},{raw:function(e){for(var t=y(e.raw),n=de(t.length),r=arguments.length,i=[],o=0;n>o;)i.push(String(t[o++])),o<r&&i.push(String(arguments[o]));return i.join("")}}),Ne({target:"String",proto:!0},{repeat:tv});var cv=Math.max,uv=Math.min,lv=Math.floor,fv=/\$([$&'`]|\d\d?|<[^>]*>)/g,dv=/\$([$&'`]|\d\d?)/g;Zp("replace",2,(function(e,t,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=m(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var c=n(t,e,this,r);if(c.done)return c.value}var u=M(e),l=String(this),f="function"==typeof r;f||(r=String(r));var d=u.global;if(d){var h=u.unicode;u.lastIndex=0}for(var p=[];;){var v=ev(u,l);if(null===v)break;if(p.push(v),!d)break;""===String(v[0])&&(u.lastIndex=Si(l,de(u.lastIndex),h))}for(var g,m="",y=0,b=0;b<p.length;b++){v=p[b];for(var k=String(v[0]),w=cv(uv(le(v.index),l.length),0),_=[],S=1;S<v.length;S++)_.push(void 0===(g=v[S])?g:String(g));var C=v.groups;if(f){var I=[k].concat(_,w,l);void 0!==C&&I.push(C);var T=String(r.apply(void 0,I))}else T=s(k,l,w,_,C,r);w>=y&&(m+=l.slice(y,w)+T,y=w+k.length)}return m+l.slice(y)}];function s(e,n,r,i,o,a){var s=r+e.length,c=i.length,u=dv;return void 0!==o&&(o=Ot(o),u=fv),t.call(a,u,(function(t,a){var u;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":u=o[a.slice(1,-1)];break;default:var l=+a;if(0===l)return t;if(l>c){var f=lv(l/10);return 0===f?t:f<=c?void 0===i[f-1]?a.charAt(1):i[f-1]+a.charAt(1):t}u=i[l-1]}return void 0===u?"":u}))}}));var hv=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};Zp("search",1,(function(e,t,n){return[function(t){var n=m(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=M(e),o=String(this),a=i.lastIndex;hv(a,0)||(i.lastIndex=0);var s=ev(i,o);return hv(i.lastIndex,a)||(i.lastIndex=a),null===s?-1:s.index}]}));var pv=[].push,vv=Math.min,gv=4294967295,mv=!s((function(){return!RegExp(gv,"y")}));Zp("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(m(this)),i=void 0===n?gv:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!ki(e))return t.call(r,e,i);for(var o,a,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,f=new RegExp(e.source,u+"g");(o=Ep.call(f,r))&&!((a=f.lastIndex)>l&&(c.push(r.slice(l,o.index)),o.length>1&&o.index<r.length&&pv.apply(c,o.slice(1)),s=o[0].length,l=a,c.length>=i));)f.lastIndex===o.index&&f.lastIndex++;return l===r.length?!s&&f.test("")||c.push(""):c.push(r.slice(l)),c.length>i?c.slice(0,i):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=m(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var a=M(e),s=String(this),c=Ln(a,RegExp),u=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(mv?"y":"g"),f=new c(mv?a:"^(?:"+a.source+")",l),d=void 0===i?gv:i>>>0;if(0===d)return[];if(0===s.length)return null===ev(f,s)?[s]:[];for(var h=0,p=0,v=[];p<s.length;){f.lastIndex=mv?p:0;var g,m=ev(f,mv?s:s.slice(p));if(null===m||(g=vv(de(f.lastIndex+(mv?0:p)),s.length))===h)p=Si(s,p,u);else{if(v.push(s.slice(h,p)),v.length===d)return v;for(var y=1;y<=m.length-1;y++)if(v.push(m[y]),v.length===d)return v;p=h=g}}return v.push(s.slice(h)),v}]}),!mv);var yv=E.f,bv="".startsWith,kv=Math.min,wv=Fp("startsWith"),_v=!wv&&!!function(){var e=yv(String.prototype,"startsWith");return e&&!e.writable}();Ne({target:"String",proto:!0,forced:!_v&&!wv},{startsWith:function(e){var t=String(m(this));Dp(e);var n=de(kv(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return bv?bv.call(t,r,n):t.slice(n,n+r.length)===r}});var Sv=function(e){return s((function(){return!!ar[e]()||"âÂá "!="âÂá "[e]()||ar[e].name!==e}))},Cv=fr.trim;Ne({target:"String",proto:!0,forced:Sv("trim")},{trim:function(){return Cv(this)}});var Iv=fr.end,Tv=Sv("trimEnd"),Av=Tv?function(){return Iv(this)}:"".trimEnd;Ne({target:"String",proto:!0,forced:Tv},{trimEnd:Av,trimRight:Av});var Ev=fr.start,Mv=Sv("trimStart"),xv=Mv?function(){return Ev(this)}:"".trimStart;Ne({target:"String",proto:!0,forced:Mv},{trimStart:xv,trimLeft:xv});var Pv=ql.NATIVE_ARRAY_BUFFER_VIEWS,Ov=a.ArrayBuffer,Rv=a.Int8Array,Nv=!Pv||!s((function(){Rv(1)}))||!s((function(){new Rv(-1)}))||!dt((function(e){new Rv,new Rv(null),new Rv(1.5),new Rv(e)}),!0)||s((function(){return 1!==new Rv(new Ov(2),1,void 0).length})),jv=function(e,t){var n=function(e){var t=le(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}(e);if(n%t)throw RangeError("Wrong offset");return n},Dv=ql.aTypedArrayConstructor,Lv=function(e){var t,n,r,i,o,a,s=Ot(e),c=arguments.length,u=c>1?arguments[1]:void 0,l=void 0!==u,f=nt(s);if(null!=f&&!Ge(f))for(a=(o=f.call(s)).next,s=[];!(i=a.call(o)).done;)s.push(i.value);for(l&&c>2&&(u=Ke(u,arguments[2],2)),n=de(s.length),r=new(Dv(this))(n),t=0;n>t;t++)r[t]=l?u(s[t],t):s[t];return r},Fv=i((function(e){var t=_e.f,n=mn.forEach,r=re.get,i=re.set,o=P.f,s=E.f,u=Math.round,l=a.RangeError,f=wl.ArrayBuffer,h=wl.DataView,p=ql.NATIVE_ARRAY_BUFFER_VIEWS,v=ql.TYPED_ARRAY_TAG,g=ql.TypedArray,m=ql.TypedArrayPrototype,y=ql.aTypedArrayConstructor,w=ql.isTypedArray,S="BYTES_PER_ELEMENT",C="Wrong length",I=function(e,t){for(var n=0,r=t.length,i=new(y(e))(r);r>n;)i[n]=t[n++];return i},T=function(e,t){o(e,t,{get:function(){return r(this)[t]}})},A=function(e){var t;return e instanceof f||"ArrayBuffer"==(t=Ze(e))||"SharedArrayBuffer"==t},M=function(e,t){return w(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},x=function(e,t){return M(e,t=k(t,!0))?d(2,e[t]):s(e,t)},R=function(e,t,n){return!(M(e,t=k(t,!0))&&b(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?o(e,t,n):(e[t]=n.value,e)};c?(p||(E.f=x,P.f=R,T(m,"buffer"),T(m,"byteOffset"),T(m,"byteLength"),T(m,"length")),Ne({target:"Object",stat:!0,forced:!p},{getOwnPropertyDescriptor:x,defineProperty:R}),e.exports=function(e,s,c){var d=e.match(/\d+$/)[0]/8,y=e+(c?"Clamped":"")+"Array",k="get"+e,_="set"+e,T=a[y],E=T,M=E&&E.prototype,x={},P=function(e,t){o(e,t,{get:function(){return function(e,t){var n=r(e);return n.view[k](t*d+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var i=r(e);c&&(n=(n=u(n))<0?0:n>255?255:255&n),i.view[_](t*d+i.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};p?Nv&&(E=s((function(e,t,n,r){return at(e,E,y),yt(b(t)?A(t)?void 0!==r?new T(t,jv(n,d),r):void 0!==n?new T(t,jv(n,d)):new T(t):w(t)?I(E,t):Lv.call(E,t):new T(Du(t)),e,E)})),mt&&mt(E,g),n(t(T),(function(e){e in E||O(E,e,T[e])})),E.prototype=M):(E=s((function(e,t,n,r){at(e,E,y);var o,a,s,c=0,u=0;if(b(t)){if(!A(t))return w(t)?I(E,t):Lv.call(E,t);o=t,u=jv(n,d);var p=t.byteLength;if(void 0===r){if(p%d)throw l(C);if((a=p-u)<0)throw l(C)}else if((a=de(r)*d)+u>p)throw l(C);s=a/d}else s=Du(t),o=new f(a=s*d);for(i(e,{buffer:o,byteOffset:u,byteLength:a,length:s,view:new h(o)});c<s;)P(e,c++)})),mt&&mt(E,g),M=E.prototype=xt(m)),M.constructor!==E&&O(M,"constructor",E),v&&O(M,v,y),x[y]=E,Ne({global:!0,forced:E!=T,sham:!p},x),S in E||O(E,S,d),S in M||O(M,S,d),Xt(y)}):e.exports=function(){}}));Fv("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Fv("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Fv("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Fv("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Fv("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Fv("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Fv("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0),Fv("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Fv("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var Bv=ql.aTypedArray;(0,ql.exportTypedArrayMethod)("copyWithin",(function(e,t){return Cc.call(Bv(this),e,t,arguments.length>2?arguments[2]:void 0)}));var Uv=mn.every,qv=ql.aTypedArray;(0,ql.exportTypedArrayMethod)("every",(function(e){return Uv(qv(this),e,arguments.length>1?arguments[1]:void 0)}));var Wv=ql.aTypedArray;(0,ql.exportTypedArrayMethod)("fill",(function(e){return Ic.apply(Wv(this),arguments)}));var Vv=mn.filter,zv=ql.aTypedArray,Hv=ql.aTypedArrayConstructor;(0,ql.exportTypedArrayMethod)("filter",(function(e){for(var t=Vv(zv(this),e,arguments.length>1?arguments[1]:void 0),n=Ln(this,this.constructor),r=0,i=t.length,o=new(Hv(n))(i);i>r;)o[r]=t[r++];return o}));var Gv=mn.find,Jv=ql.aTypedArray;(0,ql.exportTypedArrayMethod)("find",(function(e){return Gv(Jv(this),e,arguments.length>1?arguments[1]:void 0)}));var Kv=mn.findIndex,$v=ql.aTypedArray;(0,ql.exportTypedArrayMethod)("findIndex",(function(e){return Kv($v(this),e,arguments.length>1?arguments[1]:void 0)}));var Yv=mn.forEach,Qv=ql.aTypedArray;(0,ql.exportTypedArrayMethod)("forEach",(function(e){Yv(Qv(this),e,arguments.length>1?arguments[1]:void 0)})),(0,ql.exportTypedArrayStaticMethod)("from",Lv,Nv);var Xv=me.includes,Zv=ql.aTypedArray;(0,ql.exportTypedArrayMethod)("includes",(function(e){return Xv(Zv(this),e,arguments.length>1?arguments[1]:void 0)}));var eg=me.indexOf,tg=ql.aTypedArray;(0,ql.exportTypedArrayMethod)("indexOf",(function(e){return eg(tg(this),e,arguments.length>1?arguments[1]:void 0)}));var ng=We("iterator"),rg=a.Uint8Array,ig=lo.values,og=lo.keys,ag=lo.entries,sg=ql.aTypedArray,cg=ql.exportTypedArrayMethod,ug=rg&&rg.prototype[ng],lg=!!ug&&("values"==ug.name||null==ug.name),fg=function(){return ig.call(sg(this))};cg("entries",(function(){return ag.call(sg(this))})),cg("keys",(function(){return og.call(sg(this))})),cg("values",fg,!lg),cg(ng,fg,!lg);var dg=ql.aTypedArray,hg=[].join;(0,ql.exportTypedArrayMethod)("join",(function(e){return hg.apply(dg(this),arguments)}));var pg=ql.aTypedArray;(0,ql.exportTypedArrayMethod)("lastIndexOf",(function(e){return ru.apply(pg(this),arguments)}));var vg=mn.map,gg=ql.aTypedArray,mg=ql.aTypedArrayConstructor;(0,ql.exportTypedArrayMethod)("map",(function(e){return vg(gg(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(mg(Ln(e,e.constructor)))(t)}))}));var yg=ql.aTypedArrayConstructor;(0,ql.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,n=new(yg(this))(t);t>e;)n[e]=arguments[e++];return n}),Nv);var bg=uu.left,kg=ql.aTypedArray;(0,ql.exportTypedArrayMethod)("reduce",(function(e){return bg(kg(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}));var wg=uu.right,_g=ql.aTypedArray;(0,ql.exportTypedArrayMethod)("reduceRight",(function(e){return wg(_g(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}));var Sg=ql.aTypedArray,Cg=ql.exportTypedArrayMethod,Ig=Math.floor;Cg("reverse",(function(){for(var e,t=this,n=Sg(t).length,r=Ig(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t}));var Tg=ql.aTypedArray;(0,ql.exportTypedArrayMethod)("set",(function(e){Tg(this);var t=jv(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=Ot(e),i=de(r.length),o=0;if(i+t>n)throw RangeError("Wrong length");for(;o<i;)this[t+o]=r[o++]}),s((function(){new Int8Array(1).set({})})));var Ag=ql.aTypedArray,Eg=ql.aTypedArrayConstructor,Mg=[].slice;(0,ql.exportTypedArrayMethod)("slice",(function(e,t){for(var n=Mg.call(Ag(this),e,t),r=Ln(this,this.constructor),i=0,o=n.length,a=new(Eg(r))(o);o>i;)a[i]=n[i++];return a}),s((function(){new Int8Array(1).slice()})));var xg=mn.some,Pg=ql.aTypedArray;(0,ql.exportTypedArrayMethod)("some",(function(e){return xg(Pg(this),e,arguments.length>1?arguments[1]:void 0)}));var Og=ql.aTypedArray,Rg=[].sort;(0,ql.exportTypedArrayMethod)("sort",(function(e){return Rg.call(Og(this),e)}));var Ng=a.Int8Array,jg=ql.aTypedArray,Dg=ql.exportTypedArrayMethod,Lg=[].toLocaleString,Fg=[].slice,Bg=!!Ng&&s((function(){Lg.call(new Ng(1))}));Dg("toLocaleString",(function(){return Lg.apply(Bg?Fg.call(jg(this)):jg(this),arguments)}),s((function(){return[1,2].toLocaleString()!=new Ng([1,2]).toLocaleString()}))||!s((function(){Ng.prototype.toLocaleString.call([1,2])})));var Ug=ql.exportTypedArrayMethod,qg=a.Uint8Array,Wg=qg&&qg.prototype||{},Vg=[].toString,zg=[].join;s((function(){Vg.call({})}))&&(Vg=function(){return zg.call(this)});var Hg=Wg.toString!=Vg;Ug("toString",Vg,Hg),bt("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),An),i((function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return x()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:d,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function g(){}function m(){}function y(){}var b={};c(b,o,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(M([])));w&&w!==n&&r.call(w,o)&&(b=w);var _=y.prototype=g.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,a,s){var c=l(e[i],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function M(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:x}}function x(){return{value:t,done:!0}}return m.prototype=y,c(_,"constructor",y),c(y,"constructor",m),m.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},S(C.prototype),c(C.prototype,a,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new C(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(_),c(_,s,"Generator"),c(_,o,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=M,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}));var Gg=new Function("return this;")();Gg.webkit;var Jg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Kg=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/,$g=Gg.btoa||function(e){for(var t,n,r,i,o="",a=0,s=(e=String(e)).length%3;a<e.length;){if((n=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255||(i=e.charCodeAt(a++))>255)throw new TypeError('Failed to execute "btoa" on "Window": The string '+e+" to be encoded contains characters outside of the Latin1 range.");o+=Jg.charAt((t=n<<16|r<<8|i)>>18&63)+Jg.charAt(t>>12&63)+Jg.charAt(t>>6&63)+Jg.charAt(63&t)}return s?o.slice(0,s-3)+"===".substring(s):o},Yg=Gg.atob||function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!Kg.test(e))throw new TypeError('Failed to execute "atob" on "Window": The string '+e+" to be decoded is not correctly encoded.");var t;e+="==".slice(2-(3&e.length));for(var n,r,i="",o=0;o<e.length;)t=Jg.indexOf(e.charAt(o++))<<18|Jg.indexOf(e.charAt(o++))<<12|(n=Jg.indexOf(e.charAt(o++)))<<6|(r=Jg.indexOf(e.charAt(o++))),i+=64===n?String.fromCharCode(t>>16&255):64===r?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return i};function Qg(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return $g(t)}function Xg(e){for(var t=Yg(e),n=t.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=t.charCodeAt(i);return r.buffer}function Zg(e){return"[object Array]"===nm(e)}function em(e){return"object"==typeof e&&!function(e){return null===e}(e)}function tm(e){return"[object Function]"===nm(e)}function nm(e){return Object.prototype.toString.call(e)}function rm(e){return Object.prototype.toString.call(e).split(" ")[1].slice(0,-1)}function im(e){var t=[String,Number,Boolean,Object,Array],n=t.length;try{-1===(n=t.indexOf(e))&&(n=t.length)}catch(e){}return["string","number","boolean","object","array","null"][n]}var om=/([a-z0-9])([A-Z])/g,am={};function sm(e,t){if(t.startsWith("/"))return t.substr(1);if(t.startsWith("./"))return sm(e,t.substr(2));for(var n=t.split("/"),r=e.length>0?e.split("/"):[],i=0,o=n.length;i<o&&".."===n[i];i++);return n.splice(0,i),r.splice(r.length-i-1,i+1),r.concat(n).join("/")}function cm(e,t){var n,r=null,i=void 0,o=function(){n&&clearTimeout(n),n=null,r&&(i=e.apply(void 0,r)),r=null},a=function(){n&&clearTimeout(n),n=null},s=function(){a();for(var e=arguments.length,s=new Array(e),c=0;c<e;c++)s[c]=arguments[c];return r=s,n=setTimeout(o,t),i};return s.cancel=a,s.flush=o,s}function um(e,t,n){var r,i=n.errMsg,o=void 0===i?"unknown":i,a=n.context,s=void 0===a?e:a,c=n.wrap,u=n.action,l=void 0===u?"report":u,f=n.reporter;try{r=e.apply(s,t)}catch(e){var d=e;if(c&&(d=c(e,o)),"throw"===l)throw d;"report"===l&&f?f(d,n):ps.error(d)}return r}function lm(e){return[function(t,n,r){return um(t,n,Object.assign({},e,r))},function(t,n){var r=Object.assign({},e,n);return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return um(t,n,r)}}]}var fm=r(i((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}))),dm=i((function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})),hm=r(i((function(e){e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dm(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}))),pm=function(){function e(e){var t;void 0===e&&(e={}),this.events=new Map,this.callbackMap=new WeakMap,this.wrapper=void 0,this.wrapper=null!=(t=e.wrapper)?t:null}var t=e.prototype;return t.emit=function(e,t){var n=this.events.get(e);null==n||n.forEach((function(e){return e(t)}))},t.on=function(e,t){if("function"==typeof t){var n=this.events.get(e);n||(n=[],this.events.set(e,n));var r=t;if(this.wrapper){var i=this.callbackMap.get(t);i?r=i:(r=this.wrapper(t),this.callbackMap.set(t,r))}n.push(r)}},t.off=function(e,t){if(t){var n=this.wrapper?this.callbackMap.get(t):t,r=this.events.get(e);if("function"==typeof n&&r){var i=r.indexOf(n);-1!==i&&r.splice(i,1),0===r.length&&this.events.delete(e)}}else this.events.delete(e)},t.size=function(e,t){var n=this.events.get(e);if(!n)return 0;if(!t)return n.length;var r=this.wrapper?this.callbackMap.get(t):t;return"function"!=typeof r?0:n.filter((function(e){return e===r})).length},t.removeAllListeners=function(){this.events=new Map},ls(e)}();function vm(e,t,n){return void 0===n&&(n=!1),n?{key:e,value:t}:{key:e,base64:Qg(t)}}function gm(e){if(null!=e){if("base64"in e)return Xg(e.base64);if("value"in e)return e.value}}function mm(e){return function(t){return Object.prototype.toString.call(t).toLowerCase()===("[object "+e+"]").toLowerCase()}}function ym(e){if(!mm("Object")(e)||!e.__nativeBuffers__)return e;var t=e.__nativeBuffers__;delete e.__nativeBuffers__;for(var n,r=us(t);!(n=r()).done;){var i=n.value;if(i){var o=gm(i);void 0!==o&&o instanceof ArrayBuffer&&(e[i.key]=o)}}return e}var bm,km,wm,_m={pack:function(e,t){if(void 0===t&&(t=!1),!mm("Object")(e))return e;var n=[];for(var r in e){var i=e[r];void 0!==i&&i instanceof ArrayBuffer&&void 0!==i.byteLength&&n.push(vm(r,i,t))}if(n.length>0){for(var o=0;o<n.length;o++){delete e[n[o].key]}e.__nativeBuffers__=n}return e},unpack:ym,unpack2:ym};function Sm(e){var t,n=!1;return function(){return n||(t=e.apply(void 0,arguments),n=!0),t}}!function(e){e[e.trace=1]="trace",e[e.normal=2]="normal",e[e.warn=3]="warn",e[e.error=4]="error",e[e.fatal=5]="fatal"}(bm||(bm={})),function(e){e.traceId="trace_id",e.errorCode="error_code",e.errorMsg="error_msg",e.time="time",e.duration="duration",e.monitorLevel="monitor_level",e.monitorDomain="monitor_domain",e.monitorCode="monitor_code",e.monitorID="monitor_id",e.monitorMessage="monitor_message",e.monitorTags="monitor_tags",e.monitorFile="monitor_file",e.monitorFunction="monitor_function",e.monitorLine="monitor_line",e.monitorColumn="monitor_column",e.monitorStack="monitor_stack",e.resultType="result_type"}(km||(km={})),function(e){e.BATCH="BATCH"}(wm||(wm={}));var Cm,Im;!function(e){e.success="success",e.fail="fail",e.cancel="cancel",e.timeout="timeout"}(Cm||(Cm={})),function(e){e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.fatal=5]="fatal"}(Im||(Im={}));var Tm,Am,Em=",",Mm="op_monitor_event",xm="op_monitor",Pm="event_name";!function(e){e.warn="warn",e.error="error"}(Tm||(Tm={})),function(e){e.sampleRate="sample_rate",e.traceSampleRate="trace_sample_rate",e.normalSampleRate="normal_sample_rate",e.warnSampleRate="warn_sample_rate",e.errorSampleRate="error_sample_rate",e.fatalSampleRate="fatal_sample_rate",e.rules="rules",e.priority="priority",e.filters="filters",e.key="key",e.values="values"}(Am||(Am={}));var Om=function(){};function Rm(e){return void 0===e}var Nm,jm={string:function(e){return"string"==typeof e||"String"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)},undefined:Rm,void:function(e){return Rm(e)||null===e},object:function(e){return null!==e&&"object"==typeof e},number:function(e){return"number"==typeof e&&!Number.isNaN(e)},function:function(e){return"function"==typeof e}};function Dm(e,t){return Object.entries(e).filter((function(e){var n=e[0],r=e[1];return!t(r,n)})).reduce((function(e,t){var n,r=t[0],i=t[1];return Object.assign(e,((n={})[r]=i,n))}),{})}function Lm(e,t,n){Object.defineProperty(e,t,{get:function(){return n},set:function(){}})}function Fm(){return Nm||(Nm=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}())}var Bm=[0,0,0,0,0,0,0,0];var Um,qm={logEnabled:!1,reportEnabled:!1,batchBlackListEnabled:!1,batchWhiteListEnabled:!1,batchBlackList:[],batchWhiteList:[],bizBlackList:[]},Wm=function(){function e(e){this.hitBlackList=!1,this.hitWhiteList=!1,this._batchEnabled=!1,this._createTime=Date.now(),this.generateTraceId(e),this.batchReportEnabled=this.constructor.config.reportEnabled||!1,this.batchLogEnabled=this.constructor.config.logEnabled||!1}e.setConfig=function(e){this.config=e},e.resetConfig=function(){this.config=Object.assign({},qm)};var t=e.prototype;return t.generateSpan=function(){return new e(this)},t.reportTo=function(e){var t=this,n=this.constructor.config,r=n.batchBlackListEnabled,i=void 0===r?qm.batchBlackListEnabled:r,o=n.batchWhiteListEnabled,a=void 0===o?qm.batchWhiteListEnabled:o,s=n.batchBlackList,c=void 0===s?qm.batchBlackList:s,u=n.batchWhiteList,l=void 0===u?qm.batchWhiteList:u;return!this.hitBlackList&&i&&c.some((function(n){return t.matchRule(n,e)}))&&(this.hitBlackList=!0),!this.hitBlackList&&!this.hitWhiteList&&this.batchReportEnabled&&a&&l.some((function(n){return t.matchRule(n,e)}))&&(this.hitWhiteList=!0),this._monitorCache||(this._monitorCache=[]),!this.hitBlackList&&this._monitorCache.push(JSON.stringify(e)),this},t.finish=function(){var e,t=this.batchLogEnabled,n=this.batchReportEnabled;return n&&(this.blackListEnabled&&this.hitBlackList||this.whiteListEnabled&&!this.hitWhiteList)&&(n=!1),{name:"monitor_batch_report",code:{domain:"monitor.base.batch",code:1e4,level:2,message:"monitor_batch_code"},categories:(e={},e.batch=JSON.stringify(this._monitorCache),e[km.traceId]=this._traceId,e),internalData:{logEnabled:this.batchEnabled&&t,reportEnabled:this.batchEnabled&&n}}},t.parse=function(e){return"extensions"in e&&!("trace"in e)?(this._createTime=e.createTime,this._traceId=e.traceId):(this._createTime=e.trace.createTime,this._traceId=e.trace.traceId,this._batchEnabled=e.batchEnabled,e.monitorCache&&(this._monitorCache=[].concat(e.monitorCache))),this},t.toJSON=function(){var e={trace:{createTime:this._createTime,traceId:this._traceId},batchEnabled:this._batchEnabled};return this._monitorCache&&(e.monitorCache=[].concat(this._monitorCache)),e},t.serialize=function(){return JSON.stringify(this)},t.deserialize=function(e){var t=JSON.parse(e);return this.parse(t)},t.checkBatchEnabled=function(e){var t=this.constructor.config.bizBlackList;return!t||!t.includes(e)},t.subTrace=function(e){var t=new this.constructor(this);return e?this.checkBatchEnabled(e)?(t._batchEnabled=!0,t):(t._batchEnabled=this._batchEnabled,t):(t._batchEnabled=this.batchEnabled,t)},t.getTraceId=function(){return this._traceId},t.generateTraceId=function(e){var t;t=e?e.getTraceId():"1",this._traceId=function(e){return e?e+"-"+Bm.map((function(){return Math.floor(36*Math.random()).toString(36)})).join(""):""}(t)},t.matchRule=function(e,t){var n=t.getName(),r=t.getMonitorId(),i=t.getMonitorDomain(),o=e.event_name,a=void 0===o?[]:o,s=e.monitor_id,c=void 0===s?[]:s,u=e.monitor_domain,l=void 0===u?[]:u,f=e.monitor_domain_prefix,d=void 0===f?[]:f;return!(!n||!a.some((function(e){return e===n})))||(!(!r||!c.some((function(e){return e===r})))||!(!i||!l.some((function(e){return e===i}))&&!d.some((function(e){return i.startsWith(e)}))))},ls(e,[{key:"blackListEnabled",get:function(){return this.constructor.config.batchBlackListEnabled||qm.batchBlackListEnabled}},{key:"whiteListEnabled",get:function(){return this.constructor.config.batchWhiteListEnabled||qm.batchWhiteListEnabled}},{key:"batchEnabled",get:function(){return this._batchEnabled}},{key:"traceId",get:function(){return this._traceId},set:function(e){this._traceId=e}},{key:"createTime",get:function(){return this._createTime}}]),e}();Wm.config=qm,function(e){e[e.NONE=0]="NONE",e[e.INITED=1]="INITED",e[e.DESTROYED=2]="DESTROYED"}(Um||(Um={}));var Vm,zm=function(){function e(){this._lifeState=Um.NONE,this._setupHandlers=[],this._teardownHandlers=[]}var t=e.prototype;return t.setup=function(){var e=this;this._setupHandlers.forEach((function(t){var n=t();"function"==typeof n&&e._teardownHandlers.push(n)}))},t.teardown=function(){this._teardownHandlers.forEach((function(e){return e()}))},t.addSetupHandler=function(e){this._setupHandlers.push(e)},t.addTeardownHandler=function(e){this._teardownHandlers.push(e)},t._runSetup=function(){this._lifeState===Um.NONE&&(this._lifeState=Um.INITED,this.setup())},t._runTeardown=function(){this._lifeState===Um.INITED&&(this._lifeState=Um.DESTROYED,this.teardown())},ls(e,[{key:"isReady",get:function(){return this._lifeState===Um.INITED}},{key:"isDestroyed",get:function(){return this._lifeState===Um.DESTROYED}}]),e}();function Hm(e){e._runSetup()}function Gm(e){e._runTeardown()}var Jm=[];function Km(){return Vm}function $m(e){Jm.push(e)}var Ym,Qm,Xm=(Qm=!1,function(){var e,t,n,r;if(Qm&&Ym)return Ym;Qm=!0;var i=null==(e=Km())||null==(t=e.agent)?void 0:t.globalTrace;if(i&&"string"==typeof i&&(i=JSON.parse(i)),null!=(n=i)&&null!=(r=n.config)&&r.optrace_batch_config){var o,a,s,c=null==(o=i.config)?void 0:o.optrace_batch_config;Wm.setConfig("string"==typeof c?JSON.parse(c):c),Km().global.__trace__config__=null==(a=i)||null==(s=a.config)?void 0:s.optrace_batch_config}return Ym=i?(new Wm).parse(i):new Wm}),Zm=function(){function e(e){var t=e.priority,n=e.sampleRate,r=e.filters;this.priority=0,this.filters=[],this.priority=t,this.sampleRate=n,this.filters=r}return e.prototype.match=function(e){return this.filters.every((function(t){return t.match(e)}))},ls(e)}(),ey=function(){function e(e){var t=e.key,n=e.values;this.key="",this.values=[],this.key=t,this.values=n}return e.prototype.match=function(e){var t=""+e[this.key];return this.values.includes(t)},ls(e)}(),ty=function(){function e(){this._defaultSampleRate=1,this._traceSampleRate=0,this._normalSampleRate=1,this._warnSampleRate=1,this._errorSampleRate=1,this._fatalSampleRate=1,this._orderedRules=[]}var t=e.prototype;return t.buildConfig=function(e){void 0===e&&(e={});var t=e,n=t[Am.sampleRate],r=t[Am.traceSampleRate],i=t[Am.normalSampleRate],o=t[Am.warnSampleRate],a=t[Am.errorSampleRate],s=t[Am.fatalSampleRate],c=t[Am.rules];jm.number(n)&&(this._defaultSampleRate=n),jm.number(r)&&(this._traceSampleRate=r),jm.number(i)&&(this._normalSampleRate=i),jm.number(o)&&(this._warnSampleRate=o),jm.number(a)&&(this._errorSampleRate=a),jm.number(s)&&(this._fatalSampleRate=s);var u=this._parseRules(c);this._orderedRules=u.sort((function(e,t){return t.priority-e.priority}))},t.getSampleRate=function(e){var t=this._getMatchedRuleInOrderedRules(e),n=this._defaultSampleRate;switch(e[km.monitorLevel]){case bm.trace:n=this._traceSampleRate;break;case bm.normal:n=this._normalSampleRate;break;case bm.warn:n=this._warnSampleRate;break;case bm.error:n=this._errorSampleRate;break;case bm.fatal:n=this._fatalSampleRate}return t&&!jm.undefined(t.sampleRate)&&(n=t.sampleRate),n>=1?1:0},t._getMatchedRuleInOrderedRules=function(e){return this._orderedRules.find((function(t){return t.match(e)}))},t._parseRules=function(e){return Array.isArray(e)?e=e.map((function(e){if(jm.object(e)){var t=e[Am.priority],n=e[Am.sampleRate],r=e[Am.filters];return jm.number(t)||(t=0),jm.number(n)||(n=void 0),r=Array.isArray(r)?r.map((function(e){if(jm.object(e)){var t=e,n=t[Am.key],r=t[Am.values];return jm.string(n)&&Array.isArray(r)?e=new ey({key:n,values:r}):void 0}})).filter((function(e){return e})):[],new Zm({priority:t,sampleRate:n,filters:r})}})).filter((function(e){return e})):[]},ls(e)}(),ny=function(){function e(t){var n=this;if(this._domainToNameRegistry=new Map,this._domainToParamInjectorRegistry=new Map,this._domainToNameCache=new Map,t instanceof e)return t;var r=t||{},i=r.defaultName,o=void 0===i?Mm:i,a=r.log,s=r.report,c=void 0===s?Om:s,u=r.commonMetrics,l=void 0===u?{}:u,f=r.commonCategories,d=void 0===f?{}:f,h=r.commonTags,p=void 0===h?[]:h,v=r.defaultPlatform,g=void 0===v?"Slardar":v,m=r.domainToNameMap,y=r.domainToParamInjectorMap;this.defaultName=String(o),this.defaultPlatform=g,this._log=a,this._report=c,this.commonMetrics=l,this.commonCategories=d,this.commonTags=new Set(p),m&&Object.entries(m).forEach((function(e){var t=e[0],r=e[1];n.registerEvent(r,t)})),y&&Object.entries(y).forEach((function(e){var t=e[0],r=e[1];n.registerParamInjector(t,r)}))}var t=e.prototype;return t.setRemoteConfig=function(e){this._remoteConfig=e},t.getRemoteConfig=function(){return this._remoteConfig?this._remoteConfig:this.constructor.globalRemoteConfig},t.log=function(e){jm.function(this._log)&&this._log(e)},t.report=function(e){var t,n=this.getRemoteConfig(),r=e.name,i=e.metrics,o=e.categories,a=Object.assign(Object.assign(((t={})[Pm]=r,t),i),o);n.getSampleRate(a)<1||this._report(e)},t.registerEvent=function(e,t){if(this._domainToNameRegistry.get(t)!==e){this._domainToNameRegistry.set(t,e);for(var n,r=us(this._domainToNameCache.keys());!(n=r()).done;){var i=n.value;i.startsWith(t)&&this._domainToNameCache.delete(i)}}},t.getNameByDomain=function(e){return this._findName(e)||this.defaultName},t.registerParamInjector=function(e,t){this._domainToParamInjectorRegistry.set(e,t)},t.applyParamInjectorByDomain=function(e,t){for(var n=e.split("."),r=n.length,i=1;i<=r;i++){var o=n.slice(0,i).join("."),a=this._domainToParamInjectorRegistry.get(o);jm.function(a)&&a(t)}},t._findName=function(e){if(this._domainToNameCache.has(e))return this._domainToNameCache.get(e);for(var t,n=e.split("."),r=n.length,i=0;i<r;i++){var o=n.slice(0,r-i).join(".");if(t=this._domainToNameRegistry.get(o))return this._domainToNameCache.set(o,t),t}return this.defaultName},ls(e)}();ny.globalRemoteConfig=new ty;var ry=function(){function e(t){if(this.cacheList=[],this.waitingForReport=!1,t instanceof e)return t;this._setConfig(t)}e.setup=function(e){this.default._setConfig(e)};var t=e.prototype;return t.getConfig=function(){return this.config},t.log=function(e){if(jm.function(this.config.log)){var t=Im.info;switch(e.getLevel()){case bm.trace:case bm.normal:t=Im.info;break;case bm.warn:t=Im.warn;break;case bm.error:t=Im.error;break;case bm.fatal:t=Im.fatal;break;default:t=Im.info}var n=xm,r=e.getValue(km.monitorFile),i=e.getValue(km.monitorFunction),o=e.getValue(km.monitorLine),a=e.getData(),s="monitor_event : "+e.getName()+" "+JSON.stringify(a);this.invokeLog(Dm({level:t,tag:n,file:r,functionName:i,line:o,content:s},Rm))}},t.reportTo=function(e){var t=e.getValue(km.monitorDomain);t&&this.config.applyParamInjectorByDomain(String(t),e);var n=this._getName(e),r=e.getMetrics(),i=e.getCategories(),o=e.getInternalData(),a=this._getPlatform(e);jm.function(this.config.report)&&this.invokeReport(Dm({name:n,metrics:r,categories:i,internalData:o,platform:a},Rm))},t.flush=function(e){var t=e.getInternalData(),n=t.logEnabled,r=void 0===n||n,i=t.reportEnabled,o=void 0===i||i,a=e.getValue(km.monitorDomain);a&&this.config.applyParamInjectorByDomain(String(a),e);var s=this._getName(e),c=e.getMetrics(),u=e.getCategories(),l=e.getInternalData(),f=this._getPlatform(e);o&&jm.function(this.config.report)&&this.invokeReport(Dm({name:s,metrics:c,categories:u,internalData:l,platform:f},Rm)),r&&this.log(e)},t.flushWithThrottle=function(e){var t=this,n=this.getConfig();if(jm.function(this.config.report)){var r=e.getValue(km.monitorDomain);r&&this.config.applyParamInjectorByDomain(String(r),e);var i,o=this._getPlatform(e),a=this._getName(e),s=function(){t.cacheList.forEach((function(e){return n.report(Object.assign(Object.assign({},e),{platform:o}))})),t.cacheList.length=0,t.waitingForReport=!1,Fm().clearTimeout(i)};this.cacheList.push({name:a,metrics:e.getMetrics(),categories:e.getCategories(),internalData:e.getInternalData()});var c=e.getValue(km.monitorLevel);this.cacheList.length>=20||c&&c>=bm.error?s():this.waitingForReport||(this.waitingForReport=!0,i=Fm().setTimeout((function(){s()}),2e3))}},t.invokeLog=function(e){jm.function(this.config.log)&&this.config.log(e)},t.invokeReport=function(e){jm.function(this.config.report)&&this.config.report(e)},t._setConfig=function(e){this.config=new ny(e)},t._getName=function(e){var t=e.getValue(km.monitorDomain);return e.getName()||t&&this.config.getNameByDomain(String(t))||this.config.defaultName},t._getPlatform=function(e){return e.platform||this.config.defaultPlatform},ls(e)}();ry.default=new ry;var iy=function(){function e(t){if(t instanceof e)return t;var n=t||{},r=n.domain,i=n.code,o=n.level,a=n.message;Lm(this,"version",1),Lm(this,"domain",String(r)),Lm(this,"code",Number(i)),Lm(this,"ID",String(this.generateID())),Lm(this,"level",o),Lm(this,"message",String(a))}var t=e.prototype;return t.equals=function(t){return t instanceof e&&t.ID===this.ID},t.toJSON=function(){return{domain:this.domain,code:this.code,level:this.level,message:this.message}},t.generateID=function(){return this.version+"-"+this.domain+"-"+this.code},ls(e)}(),oy=function(){function e(e){this.metrics={},this.categories={},this.internalData={},this.tags=new Set,this._time=0,this._startTime=0,this._endTime=0,this._flushed=!1;var t=e||{},n=t.service,r=t.name,i=void 0===r?Mm:r,o=t.code,a=t.platform,s=t.metrics,c=t.categories,u=t.internalData;this.service=n?new ry(n):ry.default,this.name=i,this._platform=a,o&&(this.code=new iy(o)),this.categories=Object.assign(Object.assign({},this.service.getConfig().commonCategories),c),this.metrics=Object.assign(Object.assign({},this.service.getConfig().commonMetrics),s),this.tags=new Set(this.service.getConfig().commonTags),this.internalData=Object.assign({},u)}var t=e.prototype;return t.addMetricValue=function(e,t){return jm.undefined(t)||(this.metrics[e]=t),this},t.addCategoryValue=function(e,t){return jm.undefined(t)||(this.categories[e]=t),this},t.addTag=function(e){return jm.undefined(e)||this.tags.add(e),this},t.addMap=function(e){var t=this;return void 0===e&&(e={}),Object.entries(e).forEach((function(e){var n=e[0],r=e[1];jm.undefined(r)||(jm.number(r)?t.metrics[n]=r:t.categories[n]=r)})),this},t.tracing=function(e){return jm.undefined(e)||this.addCategoryValue(km.traceId,e),this},t.flush=function(e){if(!this._flushed){this._flushed=!0;var t=this.getInternalData(),n=t.logEnabled,r=void 0===n||n,i=t.reportEnabled,o=void 0===i||i,a=this.code||(this.hasErrorInfo()?this.codeIfError:void 0);jm.undefined(this.level)&&a&&a.level&&this.setLevel(a.level),a&&(this.addCategoryValue(km.monitorDomain,a.domain),this.addMetricValue(km.monitorCode,a.code),this.addCategoryValue(km.monitorMessage,a.message)),this.tags&&this.addCategoryValue(km.monitorTags,this.tagsInline()),this.time<=0&&this.setTime(Date.now()),o&&(e||this.service).reportTo(this),r&&this.service.log(this)}},t.flushWithThrottle=function(){this._flushed||(this._flushed=!0,this.service.flushWithThrottle(this))},t.setMonitorCode=function(e){return jm.undefined(e)||(this.code=new iy(e)),this},t.setMonitorCodeIfError=function(e){return jm.undefined(e)||(this.codeIfError=new iy(e)),this},t.setLevel=function(e){return jm.undefined(e)||(this.level=e,this.addMetricValue(km.monitorLevel,e)),this},t.setErrorCode=function(e){return jm.undefined(e)||this.addCategoryValue(km.errorCode,String(e)),this},t.setErrorMessage=function(e){return jm.undefined(e)||this.addCategoryValue(km.errorMsg,String(e)),this},t.setError=function(e){if(jm.undefined(e))return this;var t=e.message,n=e.fileName,r=e.lineNumber,i=e.columnNumber,o=e.stack,a=e.code,s=e.monitorCode;return jm.string(t)&&this.addCategoryValue(km.errorMsg,t),jm.string(n)&&this.addCategoryValue(km.monitorFile,n),jm.string(o)&&this.addCategoryValue(km.monitorStack,o),jm.number(a)&&this.addMetricValue(km.errorCode,a),jm.number(r)&&this.addMetricValue(km.monitorLine,r),jm.number(i)&&this.addMetricValue(km.monitorColumn,i),s&&this.setMonitorCode(s),this},t.setTime=function(e){return jm.undefined(e)||(this._time=e,this.addMetricValue(km.time,e)),this},t.setPlatform=function(e){return e&&(this._platform=e),this},t.timing=function(e){var t=Date.now();return this._startTime>0?(this._endTime=t,this.addMetricValue(e||km.duration,this._endTime-this._startTime)):this._startTime=t,this},t.setDuration=function(e){return jm.undefined(e)||this.addMetricValue(km.duration,e),this},t.getCode=function(){return this.code},t.getName=function(){return this.name},t.getMetrics=function(){return Object.assign({},this.metrics)},t.getCategories=function(){return Object.assign({},this.categories)},t.getInternalData=function(){return this.internalData},t.getData=function(){return Object.assign(Object.assign({},this.metrics),this.categories)},t.getValue=function(e){return this.metrics[e]||this.categories[e]},t.setResultType=function(e){return this.addCategoryValue(km.resultType,e),this},t.setResultTypeSuccess=function(){return this.setResultType(Cm.success),this},t.setResultTypeFail=function(){return this.setResultType(Cm.fail),this},t.setResultTypeCancel=function(){return this.setResultType(Cm.cancel),this},t.setResultTypeTimeout=function(){return this.setResultType(Cm.timeout),this},t.getLevel=function(){return this.level},t.getMonitorId=function(){return this.code&&this.code.ID},t.getMonitorDomain=function(){return this.code&&this.code.domain},t.toJSON=function(){return{name:this.name,categories:this.getCategories(),metrics:this.getMetrics()}},t.addInternalData=function(e){return Object.assign(this.internalData,e),this},t.hasErrorInfo=function(){return!jm.undefined(this.getValue(km.errorCode))||!jm.undefined(this.getValue(km.errorMsg))},t.tagsInline=function(){return 0===this.tags.size?"":Array.from(this.tags).reduce((function(e,t){return""+e+(t?Em+t:"")}))},ls(e,[{key:"time",get:function(){return this._time}},{key:"platform",get:function(){return this._platform}}]),e}(),ay="mp_app_onlaunch_begin",sy="mp_app_onlaunch_end",cy="appservice_on_app_enter_foreground",uy="mp_app_onshow_begin",ly="mp_app_onshow_end",fy="appservice_on_app_enter_background",dy="mp_app_onhide_begin",hy="mp_app_onhide_end",py="mp_page_first_set_data",vy="appservice_create_page_start",gy="appservice_create_page_end",my="appservice_on_app_route",yy="mp_page_onshow_begin",by="mp_page_onshow_end",ky="mp_page_onhide_begin",wy="mp_page_onhide_end";var _y="onPageResize",Sy="onWindowResize",Cy="onAppRoute",Iy="onAppLaunch",Ty="onPageReload",Ay="onPullDownRefresh",Ey="onShareAppMessage",My="onSaveExitState",xy="onAppEnterBackground",Py="onAppEnterForeground",Oy="onDestroyWebview",Ry={inserted:"webViewInserted",removed:"webViewRemoved"},Ny="onunhandledrejection",jy="unhandledError",Dy=function(e,t,n,r){return{domain:e,code:t,level:n,message:r}},Ly=function(){return bm.error}(),Fy=function(){return bm.warn}(),By=function(){return bm.normal}(),Uy=function(e,t,n){return Dy(e,t,Ly,n)},qy=function(e,t,n){return Dy(e,t,Fy,n)},Wy=function(e,t,n){return Dy(e,t,By,n)},Vy="js.open_platform.gadget",zy=[ay,sy,uy,ly,py,vy,gy,my,"pageframe_first_get_data","","","webview_evaluateJavascript_begin","webview_evaluateJavascript_end","","","","","pageframe_first_render_begin","pageFrame_first_render_end","","","","","","","pageframe_first_frame_show","","","","","","","","mp_app_onhide_count_dom",cy,fy,dy,hy,yy,by,ky,wy,"","","","mp_block_first_set_data","appservice_create_block_start","appservice_create_block_end"],Hy="mp_js_runtime_error",Gy="mp_execute_process",Jy="mp_api_invoke_result",Ky="mp_trigger_on_event",$y="op_js_network",Yy="op_network_v1_bk_dev",Qy="op_js_plugin",Xy="op_api_invoke",Zy="openplatform_mp_page_view";function eb(e,t){void 0===t&&(t=bm.normal);var n=zy.indexOf(e);return{domain:Vy,code:1e4+n,level:t,message:e}}var tb=Vy+".js_runtime_error",nb=Uy(tb,10001,"app_service_sdk_script_error"),rb=qy(tb,10004,"third_script_error"),ib=Uy(tb,10007,"load_script_error"),ob=Uy(tb,10010,"unknown_error"),ab=qy(Vy,1e4,"undefined_default_code"),sb=Vy+".api",cb=Uy(sb,10002,"api_fail"),ub=qy(sb,10004,"api_queue_timeout"),lb=Wy(sb,10005,"comment_warn"),fb=Wy("client.open_platform.api.common",1e4,"api_jssdk_invoke"),db=Wy("client.open_platform.api.common",10001,"api_jssdk_callback"),hb=Vy+".network",pb=Wy(hb,1e4,"request_result"),vb=Wy(hb,10001,"abort_request"),gb=Wy(hb,10002,"upload_result"),mb=Wy(hb,10003,"abort_upload"),yb=Wy(hb,10004,"download_result"),bb=Wy(hb,10005,"abort_download"),kb=Wy(hb,10006,"request_enter_waiting_queue"),wb=qy(hb,10007,"request_waiting_queue_long_time_stopped"),_b=Wy(hb,10008,"socket_open"),Sb=Wy(hb,10009,"socket_close"),Cb=qy(hb,10010,"socket_reach_max_count"),Ib=Wy(hb,10020,"op_network_v1_bk_dev"),Tb=Vy+".plugin",Ab=Wy(Tb,1e4,"load_plugin_start"),Eb=Wy(Tb,10001,"load_plugin_succeeded"),Mb=Uy(Tb,10002,"load_plugin_failed"),xb=Wy(Tb,10010,"require_plugin_time"),Pb=Uy(Tb,10011,"load_plugin_script_failed"),Ob=Wy(Vy+".mp_trigger_on_event",1e4,"trigger onUpdateReady"),Rb=Wy(Vy+".mp_page_view",1e4,"mp page view"),Nb=function(){function e(e){var t,n,r=this;this.maxCacheCount=void 0,this.maxCacheTime=void 0,this.list=[],this.handler=null,this.config=(t=new ny({report:function(e){return r.report(e)},log:function(){}}),(n=new ty).buildConfig({sample_rate:1,trace_sample_rate:1,normal_sample_rate:1,warn_sample_rate:1,error_sample_rate:1,fatal_sample_rate:1}),t.setRemoteConfig(n),t),this.maxCacheCount=e.maxCacheCount,this.maxCacheTime=e.maxCacheTime}e.init=function(t){var n,r,i=this.OPMonitor=new e({maxCacheCount:null!=(n=t.maxCacheCount)?n:10,maxCacheTime:null!=(r=t.maxCacheTime)?r:500});ry.setup(i.config)},e.get=function(){return this.OPMonitor};var t=e.prototype;return t.report=function(e){var t=this,n=e.name,r=e.metrics,i=e.categories,o=void 0===i?{}:i,a=e.platform,s=o.monitor_level,c={name:n,metrics:r,categories:o};"Slardar"!==a&&(c.platform=a),this.list.push(c),this.list.length>=this.maxCacheCount||s&&s>=bm.error?this.flush():this.handler||(this.handler=setTimeout((function(){t.handler=null,t.flush()}),this.maxCacheTime))},t.flush=function(){if(this.list.length){var e={monitorEvents:this.list},t=Km().agent.isSupportNewBridge?e:JSON.stringify(e);Km().ttJSBridge.invoke("monitorReport",t),this.list=[],this.handler&&(clearTimeout(this.handler),this.handler=null)}},ls(e)}();Nb.OPMonitor=void 0;var jb=function(e){function t(){return e.apply(this,arguments)||this}return hm(t,e),t.prototype.addMap=function(t){if(t&&void 0===t.new_framework){var n=Km();t.new_framework=n.newFramework}return e.prototype.addMap.call(this,t)},ls(t)}(oy),Db=function(e,t){return new jb(e?{name:e,code:new iy(t)}:{name:"undefined_default_code",code:new iy(ab)})},Lb=Db,Fb=1,Bb="Network",Ub="setData",qb="AsyncAPI",Wb="Native",Vb="Custom",zb="TTI",Hb="route",Gb="request",Jb="JSONParseResponseData",Kb="NativeBufferUnpackResponse",$b="define",Yb="execute",Qb="setTimeoutCallback",Xb="setIntervalCallback",Zb="Promise.thenCallback",ek="Promise.catchCallback",tk="createPage",nk="setDataSeries",rk="Page.setData",ik="Component.setData",ok="Page.setDataCallback",ak="Component.setDataCallback",sk="render",ck="postRender",uk="webviewPublish",lk={metaLoad:"loadMeta",packageLoad:"loadPackage",serviceContainerLoad:"loadServiceContainer",serviceJSSDKLoad:"loadServiceJSSDK",appServiceJSRun:"runAppServiceJS",webviewContainerLoad:"loadWebViewContainer",webviewJSSDKLoad:"loadWebViewJSSDK",pageFrameJSRun:"runPageFrameJS"},fk=function(e){return e+"Invoke"},dk=function(e){return e+"Callback"},hk=function(e){return"App."+e},pk=function(e){return"App."+e},vk=function(e){return"Page."+e},gk=function(e){return"Page."+e},mk=function(e){return"Component."+e},yk=function(e){return"Component."+e},bk=function(e){return"Component."+e+".observer"},kk="Meta",wk="Package",_k="Container",Sk="request",Ck="NetworkResponseDecode",Ik="setData",Tk="setDataSeries",Ak="setDataCallback",Ek="API",Mk="APICallback",xk="APIInvoke",Pk="define",Ok="execute",Rk="TimerCallback",Nk="PromiseCallback",jk="AppLifeCycle",Dk="AppMethod",Lk="PageLifeCycle",Fk="PageMethod",Bk="ComponentLifeCycle",Uk="ComponentMethod",qk="ComponentObserver",Wk="Render",Vk="Communication",zk="Custom",Hk=0,Gk=function(){function e(){this.markers=[],this.asyncTimelines={},this.syncTimelines={service:[],webview:[]},this.serviceTimeline=[],this.webviewTimelines={},this.asyncNodes={},this.syncNodes={},this.stack=[],this.stringMap={},this.stringIndex=1,this.startTime=0,this.setDataSeriesStart=0,this.setDataSeriesEnd=0,this.pages={},this._enabled=!1,this.nodesBeforeEnabled=[],this.nativeDataRecorded={}}var t=e.prototype;return t.getPagePath=function(e){var t;return null==(t=this.pages[e])?void 0:t.path},t.enable=function(){this._enabled||(this._enabled=!0,this.enabled&&$k())},t.setStartTime=function(e){var t=this;0===this.startTime&&(this.startTime=e,this.nodesBeforeEnabled.forEach((function(e){"number"==typeof e.s&&(e.s=e.s-t.startTime),"number"==typeof e.e&&(e.e=e.e-t.startTime)})),this.nodesBeforeEnabled=[])},t.disable=function(){this._enabled&&(this._enabled=!1,0!==this.setDataSeriesEnd&&0!==this.setDataSeriesStart&&(this.asyncTimelines.setData=this.asyncTimelines.setData||[],this.asyncTimelines.setData.unshift(this.minusStartTime({n:this.getStringNumber(nk),t:this.getStringNumber(Tk),s:this.setDataSeriesStart,e:this.setDataSeriesEnd})),this.setDataSeriesStart=0,this.setDataSeriesEnd=0))},t.getStringNumber=function(e){return"string"!=typeof e?e:(this.stringMap[e]||(this.stringMap[e]=this.stringIndex,this.stringIndex=this.stringIndex+1),this.stringMap[e])},t.mark=function(e){var t=e.name,n=e.type,r=e.extra,i=e.start;if(this.enabled){var o=Date.now();t===Hb&&"number"==typeof(null==r?void 0:r.webviewID)&&null!=r&&r.page&&(this.pages[null==r?void 0:r.webviewID]={time:o,path:null==r?void 0:r.page});var a=this.getStringNumber(t),s=this.getStringNumber(n);(null==r?void 0:r.page)&&(r.page=this.getStringNumber(null==r?void 0:r.page)),(null==r?void 0:r.component)&&(r.component=this.getStringNumber(null==r?void 0:r.component)),(null==r?void 0:r.url)&&(r.url=this.getStringNumber(null==r?void 0:r.url)),this.markers.push(this.minusStartTime({n:a,t:s,s:i||o,et:r}))}},t.startParallel=function(e){var t=e.category,n=e.name,r=e.type,i=e.extra;if(!this.enabled)return-1;var o=this.getStringNumber(n),a=this.getStringNumber(r);(null==i?void 0:i.page)&&(i.page=this.getStringNumber(null==i?void 0:i.page)),(null==i?void 0:i.component)&&(i.component=this.getStringNumber(null==i?void 0:i.component)),(null==i?void 0:i.url)&&(i.url=this.getStringNumber(null==i?void 0:i.url));var s=Fb++,c={category:t||Vb,n:o,t:a,et:i,s:Date.now(),e:0};return r===Ik&&(c.isSetData=!0),this.asyncNodes[s]=c,s},t.removeParallel=function(e){this.enabled&&-1!==e&&delete this.asyncNodes[e]},t.endParallel=function(e){if(this.enabled&&-1!==e&&this.asyncNodes[e]){var t=this.asyncNodes[e],n=t.category,r=t.isSetData,i=t.n,o=t.t,a=t.et,s=t.s,c=Date.now();if(this.asyncTimelines[n]=this.asyncTimelines[n]||[],this.asyncTimelines[n].push(this.minusStartTime({n:i,t:o,et:a,s:s,e:c})),delete this.asyncNodes[e],r){var u=s,l=c;u>=this.setDataSeriesStart&&u<=this.setDataSeriesEnd?this.setDataSeriesEnd=Math.max(this.setDataSeriesEnd,l):u>this.setDataSeriesEnd&&(0!==this.setDataSeriesEnd&&0!==this.setDataSeriesStart&&(this.asyncTimelines.setData=this.asyncTimelines.setData||[],this.asyncTimelines.setData.unshift(this.minusStartTime({n:this.getStringNumber(nk),t:this.getStringNumber(Tk),s:this.setDataSeriesStart,e:this.setDataSeriesEnd}))),this.setDataSeriesStart=u,this.setDataSeriesEnd=l)}}},t.startStack=function(e){var t=e.name,n=e.type,r=e.extra;if(!this.enabled)return-1;var i=this.getStringNumber(t),o=this.getStringNumber(n);(null==r?void 0:r.page)&&(r.page=this.getStringNumber(null==r?void 0:r.page)),(null==r?void 0:r.component)&&(r.component=this.getStringNumber(null==r?void 0:r.component)),(null==r?void 0:r.url)&&(r.url=this.getStringNumber(null==r?void 0:r.url));var a=Fb++,s={n:i,t:o,et:r,s:Date.now(),e:0};this.syncNodes[a]=s;var c=this.stack[0];return c?(c.cd=c.cd||[],c.cd.push(s)):this.serviceTimeline.push(s),this.stack.unshift(s),a},t.endStack=function(e){this.enabled&&-1!==e&&this.syncNodes[e]&&(this.syncNodes[e].e=Date.now(),this.minusStartTime(this.syncNodes[e]),this.stack.shift(),delete this.syncNodes[e])},t.updateStack=function(e,t){if(this.enabled&&-1!==e){var n=this.syncNodes[e];n&&(n.et=n.et||{},Object.assign(n.et,t))}},t.addNativeData=function(e){var t=this,n=e.key,r=e.start;if("launch"!==n){var i,o=e.end,a=e.extra,s=lk[n];i="metaLoad"===n?kk:"packageLoad"===n?wk:"serviceContainerLoad"===n||"webviewContainerLoad"===n?_k:Ok;var c="ios"===TMAConfig.platform&&("serviceContainerLoad"===n||"serviceJSSDKLoad"===n);if("metaLoad"!==n&&"packageLoad"!==n&&!c||this.checkNativeDataRecorded(e))if("serviceContainerLoad"!==n||this.checkNativeDataRecorded(e))if("appServiceJSRun"!==n||this.checkNativeDataRecorded(e))"webviewContainerLoad"!==n&&"pageFrameJSRun"!==n||this.checkNativeDataRecorded(e)||(a&&(a.webviewID=a.webviewId,delete a.webviewId),this.addToStackTimeline("webview",{name:s,type:i,start:r,end:o,extra:a},!0));else{var u=this.serviceTimeline.findIndex((function(e){return e.n===t.getStringNumber($b)&&e.et&&"app.js"===e.et.script}));if(-1===u)return;var l=this.serviceTimeline[u],f=this.minusStartTime({n:this.getStringNumber(s),t:this.getStringNumber(i),s:r,e:o,et:a,cd:[l]});this.serviceTimeline.splice(u,1,f);for(var d=[],h=0;h<this.serviceTimeline.length;h++){var p=this.serviceTimeline[h];if(p.s>=f.s&&p.e<=f.e&&p!==f)d.push(h),f.cd.push(p),this.serviceTimeline.splice(h,1),h--;else if(p.s>p.e)break}}else this.addToStackTimeline("service",{name:s,type:i,start:r,end:o,extra:a},!0);else{"metaLoad"===n&&this.setStartTime(r);var v=Wb;this.asyncTimelines[v]=this.asyncTimelines[v]||[],this.asyncTimelines[v].push(this.minusStartTime({n:this.getStringNumber(s),t:this.getStringNumber(i),s:r,e:o,et:a}))}}else this.setStartTime(r)},t.checkNativeDataRecorded=function(e){var t,n=e.key;"webviewContainerLoad"!==e.key&&"webviewJSSDKLoad"!==e.key&&"pageFrameJSRun"!==e.key||void 0===(null==(t=e.extra)?void 0:t.webviewId)||(n=e.key+"-"+e.extra.webviewId);var r=!!this.nativeDataRecorded[n];return this.nativeDataRecorded[n]=!0,r},t.addToStackTimeline=function(e,t,n){var r=t.name,i=t.type,o=t.start,a=t.end,s=t.extra;if(void 0===n&&(n=!1),this.enabled||n){var c=this.getStringNumber(r),u=this.getStringNumber(i);(null==s?void 0:s.page)&&(s.page=this.getStringNumber(null==s?void 0:s.page)),(null==s?void 0:s.component)&&(s.component=this.getStringNumber(null==s?void 0:s.component)),(null==s?void 0:s.url)&&(s.url=this.getStringNumber(null==s?void 0:s.url));var l=this.minusStartTime({n:c,t:u,et:s,s:o,e:a});"service"===e?this.serviceTimeline.push(l):"webview"===e&&"number"==typeof(null==s?void 0:s.webviewID)&&(this.webviewTimelines[s.webviewID]=this.webviewTimelines[s.webviewID]||[],this.webviewTimelines[s.webviewID].push(l))}},t.minusStartTime=function(e){return 0===this.startTime?this.nodesBeforeEnabled.push(e):("number"==typeof e.s&&(e.s=e.s-this.startTime),"number"==typeof e.e&&(e.e=e.e-this.startTime)),e},t.output=function(){var e=this,t=Object.keys(this.webviewTimelines).filter((function(t){return e.pages[t]})).sort((function(t,n){return e.pages[t].time-e.pages[n].time})).map((function(t){return{webviewID:t,path:e.pages[t].path,timeline:e.webviewTimelines[t]}}));return{stringMap:this.stringMap,markers:this.markers,asyncTimelines:this.asyncTimelines,serviceTimeline:this.serviceTimeline,webviewTimelines:t}},ls(e,[{key:"enabled",get:function(){return"undefined"!=typeof nativeTMAConfig&&nativeTMAConfig.performanceAnalyzing&&this._enabled}}]),e}(),Jk=new Function("return this;")(),Kk=!1,$k=function(){if(!Kk){Kk=!0;var e=Jk.setTimeout,t=Jk.setInterval;Jk.setTimeout=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if("function"!=typeof t)return e.apply(Jk,[t,n].concat(i));var a=[function(){for(var e=Yk.startStack({name:Qb,type:Rk}),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=t.apply(this,r);return Yk.endStack(e),o},n].concat(i);return e.apply(Jk,a)},Jk.setInterval=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if("function"!=typeof e)return t.apply(Jk,[e,n].concat(i));var a=[function(){for(var t=Yk.startStack({name:Xb,type:Rk}),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=e.apply(this,r);return Yk.endStack(t),o},n].concat(i);return t.apply(Jk,a)};var n=Promise.prototype.then;Promise.prototype.then=function(e,t){var r=e?function(t){var n=Yk.startStack({name:Zb,type:Nk}),r=null==e?void 0:e.call(this,t);return Yk.endStack(n),r}:e,i=t?function(e){var n=Yk.startStack({name:ek,type:Nk}),r=null==t?void 0:t.call(this,e);return Yk.endStack(n),r}:t;return n.call(this,r,i)}}},Yk=new Gk,Qk=function(){},Xk=["monitorReport","logManager","reportAnalytics","consoleLogOutput","sentryReport","reportAnalytics","reportTimelinePoints","reportJsRuntimeError","measureText"],Zk=function(){function e(e){var t=this;this.host=e,this.invokeCallbackMap={},this.invokeCallbackIdCounter=0,this.reserveInvokeCallbackIds=[],this.isUsingSnapshot=void 0,this.shouldUseV8port=void 0,this.overrideCallback=[],this.invokeHandler=this.invokeHandler.bind(this),this.subscribeHandler=this.subscribeHandler.bind(this),this.nativeCallBack=this.nativeCallBack.bind(this),this.isUsingSnapshot=Sm((function(){return!(!e.global.snapshotLaunch||!e.global.ttJSCore)})),this.shouldUseV8port=function(){var e,n,r,i,o,a,s,c=t.host.global.v8port;(o=c&&"function"==typeof(null==(e=t.host)||null==(n=e.ttJSCore)?void 0:n.id)&&-1!==(null==(r=t.host)||null==(i=r.ttJSCore)?void 0:i.id()))&&(null==c||null==c.bind||c.bind((null==(a=t.host)||null==(s=a.ttJSCore)?void 0:s.id.bind(s))(),t.subscribeHandler));return function(){return!t.isUsingSnapshot()&&o}}()}var t=e.prototype;return t.invoke=function(e,t,n,r,i,o){var a;a=Yk.startStack({name:fk(e),type:xk});var s=this.realInvoke(a,e,t,n,r,i,o);return Yk.endStack(a),s},t.realInvoke=function(e,t,n,r,i,o,a){var s;void 0===i&&(i=!1);var c=this.host.agent.isSupportNewBridge,u=!Xk.includes(t)&&this.host.agent.shouldReportApiInvoke,l=r=null!=(s=r)?s:Qk,f=Xm().subTrace(t),d=++this.invokeCallbackIdCounter;u?(Db(Xy,fb).addMap({api_name:t}).flush(f),l=function(e){return Db(Xy,db).addMap({api_name:t}).flush(f),new oy(f.finish()).flush(),null==r?void 0:r(e)}):l=r;var h=-1;if("request"!==t&&"downloadFile"!==t&&"uploadFile"!==t&&(h=Yk.startParallel({category:qb,type:Ek,name:t})),this.invokeCallbackMap[d]={name:t,stackID:e,parallelID:h,callback:l},"openSchema"===t&&this.reserveInvokeCallbackIds.push(d),"native"!==o){var p=i?"call":"invoke",v=this.host.webkit;if(c){var g=this.host.baseBridge.invoke(t,n,d,{traceId:f.traceId});this.checkSyncInvokeResult(g,d)}else if(this.host.ttJSCore){var m,y=[];a&&(y[0]=a),u&&(y[1]={api_trace:f.traceId});var b=(m=this.host.ttJSCore)[p].apply(m,[t,n,d].concat(y));this.checkSyncInvokeResult(b,d)}else{var k={event:t,paramsString:n,callbackId:d};v.messageHandlers[p].postMessage(k)}}else this.host.ttJSCore.publishNative(t,n,a)},t.publish=function(e,t,n,r){var i,o=Sm((function(){return JSON.stringify(n)})),a=Sm((function(){return JSON.stringify({__POST_TIME__:(new Date).valueOf(),__WRAPPER__:!0,data:t})})),s=this.host,c=s.webkit,u=s.ttJSCore,l=r?[r]:[];return this.shouldUseV8port()?(i=this.host.v8port).publish.apply(i,[e,a(),n].concat(l)):this.host.agent.isSupportNewBridge?this.host.baseBridge.publish(e,t,n,r,this.shouldUseV8port()):u?u.publish.apply(u,[e,a(),o()].concat(l)):c.messageHandlers.publish.postMessage({event:e,paramsString:a(),webviewIds:o(),appKey:r})},t.checkSyncInvokeResult=function(e,t){if(void 0!==e&&this.invokeCallbackMap[t]&&""!==e&&null!==e){"object"==typeof e&&e.sync_response&&(e=e.sync_response);try{"string"==typeof e&&(e=JSON.parse(e)),e=_m.unpack2(e)}catch(t){e=JSON.parse("{}")}var n=e.errMsg&&e.errMsg.indexOf(":cancel")>=0,r=e.errMsg&&e.errMsg.indexOf(":fail")>=0,i={callbackType:n?"cancel":r?"failure":"success",data:e,callbackID:""+t,extra:{}},o=this.invokeCallbackMap[t],a=o.callback,s=o.stackID,c=o.parallelID;a(i),delete this.invokeCallbackMap[t],void 0!==s&&Yk.updateStack(s,{sync:!0}),void 0!==c&&Yk.removeParallel(c)}},t.invokeHandler=function(e,t){"string"==typeof t&&(t=JSON.parse(t));var n=!1,r=!1;"string"==typeof(t=_m.unpack2(t)).errMsg&&(n=t.errMsg.indexOf(":cancel")>=0,r=t.errMsg.indexOf(":fail")>=0);var i={callbackType:n?"cancel":r?"failure":"success",data:t,callbackID:""+e,extra:{}};this.invokeCallback(i)},t.subscribeHandler=function(e,t,n,r,i){var o={callbackType:"continued",data:t,callbackID:e,extra:{webviewId:n,appKey:null!=i?i:""}};this.invokeCallback(o)},t.nativeCallBack=function(e){var t=e.data,n=e.extra,r=void 0===n?{}:n,i=e.callbackType;if("string"==typeof r&&(r=JSON.parse(r)),"ccm"!==r.bizDomain)"continued"!==i&&("string"==typeof t&&(t=JSON.parse(t)),t=_m.unpack2(t),e.data=t),this.invokeCallback(e);else for(var o=0;o<this.overrideCallback.length;o++){var a;null==(a=this.overrideCallback[o])||a.nativeCallBack(e)}},t.invokeCallback=function(e){var t=e.callbackID,n=e.data,r=e.callbackType,i=e.extra,o=void 0===i?{}:i,a=o.appKey,s=o.webviewId;if("continued"===r)this.host.emitSubscribeEvent(null!=a?a:"",t,n,s);else if(this.invokeCallbackMap[+t]){var c=this.invokeCallbackMap[+t],u=c.callback,l=c.name,f=c.parallelID;void 0!==f&&Yk.endParallel(f);var d=-1;"request"!==l&&"downloadFile"!==l&&"uploadFile"!==l&&(d=Yk.startStack({name:dk(l),type:Mk})),"function"==typeof u&&u(e),Yk.endStack(d),delete this.invokeCallbackMap[+t]}},ls(e)}(),ew=function(){function e(e){this.host=e}var t=e.prototype;return t.invoke=function(e,t,n,r){var i;return Object.assign({},null!=r&&r.traceId?{api_trace:r.traceId}:{}),this.host.ttJSCore.invoke(e,t,n,null!=(i=null==r?void 0:r.appKey)?i:""),this.host.agent.isIOS&&this.host.agent.isWebview?void 0:undefined},t.publish=function(e,t,n,r,i){var o=Sm((function(){return JSON.stringify(n)})),a=Sm((function(){return JSON.stringify(t)}));this.host.ttJSCore.publish(e,a(),o(),r)},ls(e)}(),tw=r(i((function(e){function t(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=e.apply(n,r);function s(e){t(a,i,o,s,c,"next",e)}function c(e){t(a,i,o,s,c,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports}))),nw=i((function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})),rw=i((function(e){var t=nw.default;function n(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
e.exports=n=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var r={},i=Object.prototype,o=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}r.wrap=f;var h={};function p(){}function v(){}function g(){}var m={};l(m,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==i&&o.call(b,s)&&(m=b);var k=g.prototype=p.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,n){function r(i,a,s,c){var u=d(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==t(f)&&o.call(f,"__await")?n.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):n.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;this._invoke=function(e,t){function o(){return new n((function(n,i){r(e,t,n,i)}))}return i=i?i.then(o,o):o()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:E}}function E(){return{value:void 0,done:!0}}return v.prototype=g,l(k,"constructor",g),l(g,"constructor",v),v.displayName=l(g,u,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},r.awrap=function(e){return{__await:e}},w(_.prototype),l(_.prototype,c,(function(){return this})),r.AsyncIterator=_,r.async=function(e,t,n,i,o){void 0===o&&(o=Promise);var a=new _(f(e,t,n,i),o);return r.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(k),l(k,u,"Generator"),l(k,s,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},r.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}))(),iw=rw;try{regeneratorRuntime=rw}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=rw:Function("r","regeneratorRuntime = r")(rw)}var ow,aw=function(e){function t(){var t,n,r;return(r=e.call(this)||this).global=new Function("return this;")(),r.eval=r.global.eval,r.webkit=r.global.webkit,r.ttJSBridge=new Zk(fm(r)),r.baseBridge=new ew(fm(r)),r.v8port=r.global.v8port,r.emitter=new pm,r.agent=void 0,r._platform=(null==(t=r.global.TMAConfig)?void 0:t.platform)||(null==(n=r.global.nativeTMAConfig)?void 0:n.platform),r._isiOS9="ios"===r._platform&&r.global.nativeTMAConfig&&/^9.?/.test(r.global.nativeTMAConfig.sysVersion),r._isPc="pc"===r._platform,r.isSupportArrayBuffer=!r._isiOS9&&!r._isPc&&!r.global.isRemoteDebug,r.containerStore=new Map,r.containerEventList=[],r.subscribeContainerEvent=r.subscribeContainerEvent.bind(fm(r)),r.onContainerEvent=r.onContainerEvent.bind(fm(r)),r}hm(t,e);var n=t.prototype;return n.setup=function(){this.ttJSCore&&this._overwriteTTJSCore(),this.webkit&&this._overwriteWebkit(),this.injectToGlobal(this.global)},n.injectToGlobal=function(e){var t=this.ttJSBridge,n=t.invokeHandler,r=t.subscribeHandler,i=t.nativeCallBack,o=t.overrideCallback;(e=e||self).ttJSBridge={get invokeHandler(){return n},get callHandler(){return n},get subscribeHandler(){return r}},e.LarkWebViewJavaScriptBridge={get nativeCallBack(){return i}},Object.defineProperty(e,"LarkWebViewJavaScriptBridge",{set:function(e){o.push(e)},get:function(){return{nativeCallBack:i}}})},n.getContainer=function(e){return this.containerStore.get(e)},n.setContainer=function(e){this.containerStore.set(e.appKey,e);for(var t,n=function(){var n=t.value,r=n.type,i=n.event,o=n.cb;e.bridge[r](i,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o.apply(void 0,[e].concat(n))}))},r=us(this.containerEventList);!(t=r()).done;)n();Hm(e)},n.delContainer=function(e){var t="string"==typeof e?this.getContainer(e):e;t&&this.containerStore.delete(t.appKey)},n.destroyContainer=function(e){var t="string"==typeof e?this.getContainer(e):e;t&&(Gm(t),this.delContainer(e))},n.emitSubscribeEvent=function(e,t,n,r){var i=this.getContainer(e);i?i.emitSubscribeEvent(t,n,r):ps.warn("Container "+e+" doesn't exist")},n.onContainerEvent=function(e,t){this.containerEventList.push({type:"on",event:e,cb:t});for(var n=function(){var n=i[r];n.bridge.on(e,(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(void 0,[n].concat(r))}))},r=0,i=Array.from(this.containerStore.values());r<i.length;r++)n()},n.subscribeContainerEvent=function(e,t){this.containerEventList.push({type:"subscribe",event:e,cb:t});for(var n=function(){var n=i[r];n.bridge.subscribe(e,(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(void 0,[n].concat(r))}))},r=0,i=Array.from(this.containerStore.values());r<i.length;r++)n()},n._overwriteTTJSCore=function(){},n._overwriteWebkit=function(){var e=this;this.global.webkit={messageHandlers:{invoke:{postMessage:function(t){return e.webkit.messageHandlers.invoke.postMessage(t)}},invokeNative:{postMessage:function(t){return e.webkit.messageHandlers.invokeNative.postMessage(t)}},editorBridge:{postMessage:function(t){return e.webkit.messageHandlers.editorBridge.postMessage(t)}},onDocumentReady:{postMessage:function(t){return e.webkit.messageHandlers.onDocumentReady.postMessage(t)}}}}},ls(t,[{key:"ttJSCore",get:function(){return this.global.ttJSCore}},{key:"larkBridge",get:function(){return this.global.Lark_Bridge}}]),t}(zm),sw=function(e){function t(t){var n;return(n=e.call(this)||this).appKey=t,n.bridge=void 0,n.host=void 0,n}return hm(t,e),t.prototype.emitSubscribeEvent=function(e,t,n){this.bridge.handleSubscribeEvent(e,t,n)},ls(t)}(zm),cw="onAppEnterBackground",uw="onAppEnterForeground",lw={needCache:["showModal","showToast","showActionSheet","hideToast","showLoading","showPrompt","openSetting"],needDisabled:["onAccelerometerChange","onCompassChange"]},fw=["readFile","readFileSync","writeFileSync","writeFile","createRequestTask","createSocketTask","operateSocketTask","createWorker"],dw=function(e){function t(t,n,r,i){var o;return(o=e.call(this)||this).appKey=t,o.bridge=n,o.isSupportArrayBuffer=r,o.isSupportNewBridge=i,o.eventMap={},o.customEventMap={},o.hostEventMap={},o.invokeTaskCache=[],o.isBatchingPublish=!1,o.publishQueue=[],o.onAppEnterBackground=!1,o.on=o.on.bind(fm(o)),o.publish=o.publish.bind(fm(o)),o.invoke=o.invoke.bind(fm(o)),o.subscribe=o.subscribe.bind(fm(o)),o.invokeMethod=o.invokeMethod.bind(fm(o)),o.onMethod=o.onMethod.bind(fm(o)),o}hm(t,e),t.isHostEvent=function(e){return e.startsWith("host_event_")},t.getHostEvent=function(e){return"host_event_"+e},t.isSubscribeEvent=function(e){return e.startsWith("custom_event_")},t.getSubscribeEvent=function(e){return"custom_event_"+e},t.isOnEvent=function(e){return!this.isHostEvent(e)&&!this.isSubscribeEvent(e)},t.getOnEvent=function(e){return e};var n=t.prototype;return n.on=function(e,t){this.eventMap[e]=this.wrapSafeCall(t,e,"on")},n.publish=function(e,t,n){var r;n=null!=(r=n)?r:[];var i=null!=t?t:{},o="custom_event_"+e;return this.isBatchingPublish?this.enqueuePublish({custom_ev:o,data:i,webviewIds:n},n):this.bridge.publish(o,i,n,void 0)},n.invoke=function(e,t,n,r){this._invoke(e,t,(function(t){void 0===t&&(t={});var r=t.data,i=void 0===r?{}:r;i.errMsg=i.errMsg||e+":ok",n&&"function"==typeof n&&n(i)}),r)},n._invoke=function(e,t,n,r){var i=fw.includes(e)&&this.isSupportArrayBuffer;t=i||this.isSupportNewBridge?_m.pack(t,!0):JSON.stringify(_m.pack(t,!1)),n&&(n=this.wrapSafeCall(n,e,"invoke")),this.onAppEnterBackground&&lw.needCache.find((function(t){return t===e}))?this.invokeTaskCache.push([e,t,n,i,void 0]):this.bridge.invoke(e,t,n,i,r,void 0)},n.subscribe=function(e,n){this.customEventMap[t.getSubscribeEvent(e)]=this.wrapSafeCall(n,e,"subscribe")},n.addHostListener=function(e,n){this.hostEventMap[t.getHostEvent(e)]=this.wrapSafeCall(n,e,"host")},n.setBatchingPublish=function(e){this.isBatchingPublish=e},n.dequeuePublish=function(){var e=this.publishQueue,t=this.bridge;(null==e?void 0:e.length)>0&&(t.publish("batch_publish",{publishQueue:e},[],void 0),e.splice(0))},n.enqueuePublish=function(e,t){if(t&&t.length>0)return this.dequeuePublish(),void this.bridge.publish(e.custom_ev,e.data,e.webviewIds);this.publishQueue.push(e)},n.invokeMethod=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r={};for(var i in t)"function"==typeof t[i]&&(r[i]=this.wrapApiCallback(e,i,t[i]),delete t[i]);var o=this.assembleCallback(e,n,r);this._invoke(e,t,o,n.type)},n.assembleCallback=function(e,t,n){return function(r){void 0===r&&(r={});var i=r,o=i.callbackType,a=i.data,s=void 0===a?{}:a;s.errMsg=s.errMsg||e+":ok";var c="success"===o,u="cancel"===o,l="failure"===o;"function"==typeof t.beforeAll&&t.beforeAll(s),c?("function"==typeof t.beforeSuccess&&t.beforeSuccess(s),"function"==typeof n.success&&n.success(s),"function"==typeof t.afterSuccess&&t.afterSuccess(s)):u?("function"==typeof n.cancel&&n.cancel(s),"function"==typeof t.cancel&&t.cancel(s)):l&&("function"==typeof t.beforeFail&&t.beforeFail(s),"function"==typeof n.fail&&n.fail(s),"function"==typeof t.afterFail&&t.afterFail(s)),"function"==typeof n.complete&&n.complete(s),"function"==typeof t.afterAll&&t.afterAll(s)}},n.onMethod=function(e,t){this.on(e,t)},n.handleSubscribeEvent=function(e,n,r){var i,o,a,s,c=this;if(e===cw)this.onAppEnterBackground=!0;else if(e===uw)for(this.onAppEnterBackground=!1;this.invokeTaskCache.length;){var u;(u=this.bridge).invoke.apply(u,this.invokeTaskCache.shift())}if(!this.onAppEnterBackground||!lw.needDisabled.find((function(t){return t===e}))){if("string"==typeof n&&(n=JSON.parse(n)),(null!=(i=n)&&i.__WRAPPER__||null!=(o=n)&&null!=(a=o.options)&&a.timestamp)&&null!=(s=n)&&s.data&&(n=n.data),"batch_publish"===e)return n.publishQueue.forEach((function(e){var t=e.custom_ev,n=e.data;return c.handleSubscribeEvent(t,n,r)}));n=_m.unpack2(n);var l=t.isHostEvent(e)?this.hostEventMap[e]:t.isSubscribeEvent(e)?this.customEventMap[e]:this.eventMap[e];"function"==typeof l&&l(n,r)}},n.wrapSafeCall=function(e,t,n){return e},n.wrapApiCallback=function(e,t,n){return n},ls(t)}(zm);!function(e){e.MOBILE="mobile",e.PC="pc",e.PC_SIDEBAR="pc_sidebar",e.PC_WINDOW="pc_window",e.IDE="lark_ide"}(ow||(ow={}));var hw=function(){function e(e){this.host=e}return ls(e,[{key:"mode",get:function(){var e=ow.MOBILE;return e=ow.PC,"undefined"!=typeof window&&window&&window.PC_RUN_MODE&&(e="mobile"===window.PC_RUN_MODE?ow.PC_SIDEBAR:ow.PC_WINDOW),e}},{key:"isPC",get:function(){return this.mode===ow.PC||this.mode===ow.PC_SIDEBAR||this.mode===ow.PC_WINDOW}},{key:"isMobile",get:function(){return this.mode===ow.MOBILE}},{key:"isIDE",get:function(){return this.mode===ow.IDE}},{key:"devtool",get:function(){return!1}}]),e}();function pw(e,t,n,r,i,o){if(t===e)return!1;var a=o.getParent,s=o.getShadowRootHost,c=o.isShadowRoot,u=o.getID,l=o.getClassName,f=o.getTagName,d=!0,h=n[r],p=h.id,v=h.classes,g=h.tagName,m=h.combinator;p&&p!==u(t)&&(d=!1),g&&g!==f(t).toUpperCase()&&(d=!1);for(var y=l(t).split(" "),b=0;d&&b<v.length;b++)y.includes(v[b])||(d=!1);if(!d&&">"===i)return!1;var k=t;if(d&&0===r){if(null===e)return!0;for(k=a(k);k;k=a(k))if(k===e)return!0;if(">>>"!==i)return!1;k=t,d=!1}var w=d?m:i;do{a(k)?k=a(k):">>>"===w?k=s(k):">>>"===i?(d=!1,k=s(k)):k=null,k===e&&(k=null)}while(k&&c(k));if(!k)return!1;if(d){if(pw(e,k,n,r-1,w,o))return!0;if(">>>"!==i)return!1}return pw(e,k,n,r,i,o)}function vw(e,t,n,r,i,o){var a,s=i.getChildren,c=i.getShadowRoot,u=i.isCustomComponent;if(function(e,t,n,r){var i=e.groups;if((0,r.isShadowRoot)(n))return!1;for(var o,a=us(i);!(o=a()).done;){var s=o.value;if(pw(t,n,s,s.length-1,">",r))return!0}return!1}(t,n,r,i)&&(e.push(r),o))return!0;if(u(r)&&(a=c(r))&&t.isPermeable&&vw(e,t,n,a,i,o)&&o)return!0;for(var l=s(r),f=0;f<l.length;f++){if(vw(e,t,n,l[f],i,o)&&o)return!0}return!1}function gw(e){for(var t=e.split(","),n=[],r=!1,i=0;i<t.length;i++){for(var o=t[i].split(/( |\t|>+)/g),a=[],s=0,c="";s<o.length;s++){var u=o[s];if(u&&" "!==u&&"\t"!==u)if(">"!==u[0]){var l=mw(u,c);if(c="",!l)break;a.push(l)}else{if(""!==c)break;c=u,">>>"===u&&(r=!0)}}s===o.length&&(a.length&&n.push(a))}return 0===n.length?null:{isPermeable:r,groups:n}}function mw(e,t){void 0===t&&(t="");var n=e.match(/^([_a-zA-Z][-_a-zA-Z0-9]*|)(#[_a-zA-Z][-_a-zA-Z0-9:]*|)((?:\.-?[_a-zA-Z][-_a-zA-Z0-9]*)+|)$/);if(!n)return null;var r=n[1].toUpperCase(),i=n[2].slice(1),o=n[3].split(".");return o.shift(),i||o.length||r?{id:i,tagName:r,classes:o,combinator:t}:null}function yw(e,t,n){if(null==t)return null;var r="string"==typeof e?gw(e):e;if(null==r)return null;var i=[];return vw(i,r,t,t,n,!0),i[0]||null}function bw(e,t,n){if(null==t)return[];var r="string"==typeof e?gw(e):e;if(null==r)return[];var i=[];return vw(i,r,t,t,n,!1),i}var kw=function(){function e(){}var t=e.prototype;return t.initializeRelation=function(e,t){for(var n in e.ancestors=(null==t?void 0:t.ancestors)||[],e.relationMap=(null==t?void 0:t.relationMap)||{},e.relationLinks={},e.relations={},e.relationMap){var r=e.relationMap[n];e.relationLinks[n]=[];for(var i=0,o=r.length;i<o;i++){var a=r[i];e.relationLinks[n].push(null),e.relations[a.originalKey]=a}}},t.getNewParentNode=function(e,t,n){for(var r=this.getRelationInformation(e),i=null,o=this.getParent(e);o;o=this.getParent(o)){var a=this.getRelationInformation(o);if(null!=a&&a.ancestors&&t.target&&a.ancestors.indexOf(t.target)>-1)for(var s=n?a.relationMap.child:a.relationMap.descendant,c=0,u=s.length;c<u;c++){var l=s[c];if(l.target&&r&&r.ancestors.indexOf(l.target)>-1){i={parent:o,relation:l};break}}if(n||i)break}return i},t.getRelations=function(e,t){var n,r=this.getRelationInformation(t),i=null==r||null==(n=r.relations)?void 0:n[e];if(!i)return null;var o=i.type;if("parent"!==o&&"ancestor"!==o){var a="child"===o,s=[];return this.travels(t,t,a,e,s),s}for(var c=r.relationLinks[o],u=r.relationMap[o],l=0,f=c.length;l<f;l++){var d=c[l];if(d&&u[l].originalKey===e)return[d.parent]}return[]},t.travels=function(e,t,n,r,i){for(var o=this,a=this.getChildren(t),s=function(t){var s=a[t],c=o.getRelationInformation(s);if(null!=c&&c.relationLinks){var u=n?null==c?void 0:c.relationLinks.parent:null==c?void 0:c.relationLinks.ancestor;u&&u.some((function(t){return!(!t||t.parent!==e||t.relation.originalKey!==r)&&(i.push(s),!0)}))}!n&&o.isTravelable(s)&&o.travels(e,s,n,r,i)},c=0;c<a.length;c++)s(c)},ls(e)}(),ww=i((function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})),_w=r(ww),Sw=i((function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports})),Cw=i((function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports})),Iw=i((function(e){function t(n,r,i){return Cw()?(e.exports=t=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=t=function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&dm(i,n.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports),t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));var Tw=function(e){function t(t,n){var r;return(r=e.call(this,t)||this).errno=void 0,r.errString=void 0,function(e,t){t&&"cause"in t&&Object.defineProperty(e,"cause",{writable:!0,configurable:!0,enumerable:!1,value:t.cause})}(fm(r),n),r}return hm(t,e),t.is=function(e){return e instanceof t},ls(t)}(r(i((function(e){function t(n){var r="function"==typeof Map?new Map:void 0;return e.exports=t=function(e){if(null===e||!Sw(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return Iw(e,arguments,ww(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),dm(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})))(Error)),Aw=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).name="ThirdScriptError",t}return hm(t,e),t.is=function(e){return e instanceof Error&&"ThirdScriptError"===e.name},ls(t,[{key:"monitorCode",get:function(){return rb}}]),t}(Tw),Ew=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).name="ServiceError",t}return hm(t,e),t.is=function(e){return e instanceof Error&&"ServiceError"===e.name},ls(t,[{key:"monitorCode",get:function(){return nb}}]),t}(Tw),Mw=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).name="UnknownSourceError",r.report=void 0,r.report=!!n.report,r}return hm(t,e),t.is=function(e){return e instanceof Error&&"UnknownSourceError"===e.name},ls(t,[{key:"monitorCode",get:function(){if(this.report)return ob}}]),t}(Tw),xw=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).name="ArgumentError",t}return hm(t,e),ls(t,[{key:"monitorCode",get:function(){}}]),t}(Tw),Pw=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).name="FrameworkError",t}return hm(t,e),ls(t,[{key:"monitorCode",get:function(){}}]),t}(Tw),Ow=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).name="InvokeError",t}return hm(t,e),ls(t,[{key:"monitorCode",get:function(){}}]),t}(Tw),Rw={};function Nw(e,t){var n=function(e){var t=e.match(/(.*)\/([^/]+)?$/);return null!=t&&t[1]?t[1]:"./"}(e);return function(e){if("string"!=typeof e)throw new Error("require args must be a string");for(var r=[],i=(n+"/"+e).split("/"),o=0,a=i.length;o<a;++o){var s=i[o];if(""!==s&&"."!==s)if(".."===s){if(0===r.length)throw new Error("Can't find module : "+e);r.pop()}else o+1<a&&".."===i[o+1]?o++:r.push(s)}var c=r.join("/");return c.endsWith(".js")||(c+=".js"),t(c)}}function jw(e){if("string"!=typeof e)throw new TypeError("require args must be type of string. Received type"+typeof e);var t=Rw[e];if(!t){var n;"app.js"===e&&Yk.enable(),n=Yk.startStack({name:$b,type:Pk,extra:{script:e}});try{Gg.loadScript(e,null)}catch(e){Lb(Hy,ib).setPlatform("TeaSlardar").addMap({errMsg:JSON.stringify(e)||""}).flush(),ps.error(e)}t=Rw[e],Yk.endStack(n)}if(!Rw[e])throw new Error('module "'+e+'" is not defined');if(!t.runed){var r,i=t.factory,o={exports:{}};if(t.runed=!0,t.exports=o.exports,"function"==typeof i){var a;a=Yk.startStack({name:Yb,type:Ok,extra:{script:e}}),r=i(Nw(e,jw),o,o.exports),t.exports=o.exports||r,Yk.endStack(a)}}return t.exports}Gg.define=function(e,t){Rw[e]={runed:!1,factory:t,exports:void 0}},Gg.require=function(e){var t;try{t=jw(e)}catch(t){var n;null==(n=Km())||n.dispatchUnhandledError(new Aw("run file '"+e+"' error",{cause:t})),ps.error(t)}return t},Gg.hasDefine=function(e){return!!Rw[e]},Gg.__clearDefine=function(e){};var Dw=r(i((function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports})));function Lw(e){return Km().getContainer(e)}var Fw,Bw,Uw="GADGET",qw=Cy,Ww=Ty,Vw=Ay,zw=Ey,Hw=My,Gw=xy,Jw=Py;function Kw(e,t){return y_(t,{errMsg:"at "+e,context:t})}function $w(){}!function(e){e.NAVIGATE_TO="navigateTo",e.REDIRECT_TO="redirectTo",e.NAVIGATE_BACK="navigateBack",e.SWITCH_TAB="switchTab",e.APP_LAUNCH="appLaunch",e.RE_LAUNCH="reLaunch",e.AUTO_RELAUNCH="autoReLaunch",e.RESTORE_TO="restoreTo",e.APP_RESTORE_LAUNCH="appRestoreLaunch",e.APP_ROUTE_DESTROY="appRouteDestroy",e.REFRESH="refresh"}(Fw||(Fw={})),function(e){e.DEFAULT="default",e.CLONE="clone",e.ACTIVATE="activate"}(Bw||(Bw={}));var Yw=function(){function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(e){t=function(){}}try{n=Set}catch(e){n=function(){}}try{r=Promise}catch(e){r=function(){}}function i(o,s,c,u,l){"object"==typeof s&&(c=s.depth,u=s.prototype,l=s.includeNonEnumerable,s=s.circular);var f=[],d=[],h="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===c&&(c=1/0),function o(c,p){if(null===c)return null;if(0===p)return c;var v,g;if("object"!=typeof c)return c;if(e(c,t))v=new t;else if(e(c,n))v=new n;else if(e(c,r))v={};else if(i.__isArray(c))v=[];else if(i.__isRegExp(c))v=new RegExp(c.source,a(c)),c.lastIndex&&(v.lastIndex=c.lastIndex);else if(i.__isDate(c))v=new Date(c.getTime());else{if(h&&Buffer.isBuffer(c))return v=Buffer.allocUnsafe?Buffer.allocUnsafe(c.length):Buffer.from(c.length),c.copy(v),v;e(c,Error)?v=Object.create(c):void 0===u?(g=Object.getPrototypeOf(c),v=Object.create(g)):(v=Object.create(u),g=u)}if(s){var m=f.indexOf(c);if(-1!==m)return d[m];f.push(c),d.push(v)}for(var y in e(c,t)&&c.forEach((function(e,t){var n=o(t,p-1),r=o(e,p-1);v.set(n,r)})),e(c,n)&&c.forEach((function(e){var t=o(e,p-1);v.add(t)})),c){var b=void 0;g&&(b=Object.getOwnPropertyDescriptor(g,y)),b&&null==b.set||(v[y]=o(c[y],p-1))}if(Object.getOwnPropertySymbols)for(var k=Object.getOwnPropertySymbols(c),w=0;w<k.length;w++){var _=k[w],S=Object.getOwnPropertyDescriptor(c,_);(!S||S.enumerable||l)&&(v[_]=o(c[_],p-1),S.enumerable||Object.defineProperty(v,_,{enumerable:!1}))}if(l)for(var C=Object.getOwnPropertyNames(c),I=0;I<C.length;I++){var T=C[I],A=Object.getOwnPropertyDescriptor(c,T);null!=A&&A.enumerable||(v[T]=o(c[T],p-1),Object.defineProperty(v,T,{enumerable:!1}))}return v}(o,c)}function o(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=o,i.__isDate=function(e){return"object"==typeof e&&"[object Date]"===o(e)},i.__isArray=function(e){return"object"==typeof e&&"[object Array]"===o(e)},i.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===o(e)},i.__getRegExpFlags=a,i}();function Qw(e,t){for(var n in void 0===t&&(t={}),t)Object.prototype.hasOwnProperty.call(e,n)?"object"!=typeof e[n]||"object"!=typeof t[n]||null===t[n]||t[n]instanceof Array?e[n]=t[n]:Qw(e[n],t[n]):e[n]=t[n]}function Xw(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var Zw=Object.prototype.toString;function e_(e){return"[object Function]"===Zw.call(e)}function t_(e){return null===e}function n_(e){return function(e){return void 0===e}(e)||t_(e)}function r_(){return Lw(Uw).componentInstances}function i_(e,t){void 0===t&&(t=0);var n=null;try{n=0===t?Lw(Uw).C[e]:r_()[e][t]}catch(n){ps.info("Cannot find correct instance with nodeId: "+t+" and webviewId: "+e)}return n}function o_(){return Lw(Uw).getPages()}function a_(){var e=o_(),t=e.length;if(0===t)throw new Error("Cannot get current webview id");return e[t-1].__webviewId__}function s_(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c_(e,t,n,r,i){void 0===i&&(i={});var o=i,a=o.route,s=void 0===a?"":a,c=o.context,u=void 0===c?t:c;r.forEach((function(r){var i=n[r],o=n[r]?function(){var n=void 0,o=void 0;"page"===e&&("onShow"===r?(n=yy,o=by):"onHide"===r&&(n=ky,o=wy));var a=-1;n&&Lb(Gy,eb(n,bm.trace)).addMap({page_path:t.__route__,webview_id:t.__webviewId__}).flush();var s="page"===e?{page:t.__route__,webviewID:t.__webviewId__}:void 0;a=Yk.startStack({name:"app"===e?hk(r):vk(r),type:"app"===e?jk:Lk,extra:s});for(var c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];var f=i.apply(this,u);return o&&Lb(Gy,eb(o,bm.trace)).addMap({page_path:t.__route__,webview_id:t.__webviewId__}).flush(),Yk.endStack(a),f}:$w;t[r]=v_(o,{errMsg:"at "+s+" "+e+" lifecycle "+r,context:u})}))}function u_(e){try{return decodeURIComponent(e)}catch(t){return e}}function l_(e){if(!(e instanceof Error))return null!=e&&e.stack?""+e.stack:""+e;var t=e.name,n=e.message,r=e.cause,i=t+": "+n;if(r)return i+"\n"+l_(r);var o=e.stack;return o?o.startsWith(i)?o:i+"\n"+o:i}var f_=lm({action:"log"})[1];function d_(e,t){var n=t.data;if(null!=n&&n.dispatchUnhandledError)n.dispatchUnhandledError(e);else{var r=Km();null!=r&&r.dispatchUnhandledError?r.dispatchUnhandledError(e):ps.error(e)}}var h_=lm({wrap:function(e,t){return new Aw(t,{cause:e})},reporter:d_}),p_=h_[0],v_=h_[1],g_=lm({wrap:function(e,t){return new Ew(t,{cause:e})},reporter:d_}),m_=g_[0],y_=g_[1],b_=["success","fail","complete","cancel"],k_=/^tt[0-9a-f]{16}$/;function w_(e){return Object.prototype.toString.call(e).slice(8,-1)}function __(e){return"Object"===w_(e)}function S_(e){return"Function"===w_(e)}function C_(e){return"Number"===w_(e)}var I_=Number.isNaN||function(e){return e!=e};var T_=Array.isArray||function(e){return"Array"===w_(e)};var A_=function(){return"Internal error"},E_=function(e){return"Parameter error. Invalid value for "+e},M_=function(e){return"Parameter error. "+e+" is of wrong type"},x_=function(e){return"Parameter error. "+e+" cannot be empty"},P_=function(){return"Parameter error. Some values exist in both choosenIds and disableChosenIds."},O_=function(){return"Parameter error. openId and openChatId cannot be both empty."},R_=function(){return"Unable to load image"},N_=function(){return"Unable to load video"},j_=function(){return"Path not be supported"},D_=function(){return"Total count of chosenOpenIds and chosenOpenChatIds exceeds limit, max 10 allowed."};function L_(e,t){for(var n in t){var r=t[n];if(r.required&&!e.hasOwnProperty(n))return n+" should not be undefined";if(e.hasOwnProperty(n)){var i=w_(e[n]),o=r.type;if(i!==o)return n+" should pass "+o+", not "+i}}return!1}function F_(e,t,n){void 0===n&&(n="param");var r=w_(e),i=w_(t);if(r!==i)return n+" should pass "+i+", not "+r;var o="";switch(i){case"Object":for(var a in t)o+=F_(e[a],t[a],n+"."+a);break;case"Array":if(e.length<t.length)return n+" should have more than "+t.length+" items, not "+e.length+" items";for(var s=0;s<t.length;++s)o+=F_(e[s],t[s],n+"["+s+"]")}return o}var B_=102,U_=104,q_=1002012,W_=1002014,V_=1003001,z_=1300007,H_=1306001,G_=1306002,J_=function(e,t){return e.errno=U_,e.errString=E_(t),e},K_=function(e,t){return e.errno=U_,e.errString=M_(t),e};function $_(e,t){var n=w_(e),r=w_(t);if(n===r&&"Object"===r)for(var i in t){if(w_(e[i])!==w_(t[i]))return M_(i)}return""}function Y_(){return"ios"===(__(TMAConfig)?TMAConfig.platform:"")}function Q_(e,t,n,r){void 0===t&&(t={}),void 0===n&&(n=""),void 0===r&&(r={});var i=e+":fail "+n,o=Object.assign({errMsg:i},r);S_(t.fail)&&sS(t.fail,"at "+e+" fail callback")(o),S_(t.complete)&&sS(t.complete,"at "+e+" complete callback")(o)}function X_(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r=e+":ok",i=Object.assign({errMsg:r},n);S_(t.success)&&sS(t.success,"at "+e+" success callback")(i),S_(t.complete)&&sS(t.complete,"at "+e+" complete callback")(i)}function Z_(e,t){if(void 0===t&&(t=!1),void 0===e||"object"!=typeof e)return e;var n=[];for(var r in e)if(e.hasOwnProperty(r))if(t)try{n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]))}catch(t){n.push(r+"="+e[r])}else n.push(r+"="+e[r]);return n.join("&")}function eS(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&Object.keys(t).length>0){var n=function(e){if("string"==typeof e){var t=e.split("?");return{urlQueryObj:(t[1]||"").split("&").reduce((function(e,t){if("string"==typeof t&&t.length>0){var n=t.split("=");e[n[0]]=n[1]}return e}),{}),prefix:t[0]}}return{}}(e),r=n.urlQueryObj,i=void 0===r?{}:r,o=n.prefix;return(void 0===o?"":o)+"?"+Z_(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)e[n]=t[n];return e}),{})}(i,Object.keys(t).reduce((function(e,n){return"object"==typeof t[n]?e[encodeURIComponent(n)]=encodeURIComponent(JSON.stringify(t[n])):e[encodeURIComponent(n)]=encodeURIComponent(t[n]),e}),{})))}return e}function tS(e,t){return void 0===t&&(t="http"),"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0}function nS(e){if("string"==typeof e){var t=e.split("?"),n=t[0],r=(t[1]||"").split("&").reduce((function(e,t){if("string"==typeof t&&t.length>0){var n=t.split("=");e[n[0]]=n[1]}return e}),{}),i=[];for(var o in r)r.hasOwnProperty(o)&&i.push(o+"="+encodeURIComponent(r[o]));e=i.length>0?n+"?"+i.join("&"):e}return e}function rS(e){return Object.keys(e).reduce((function(t,n){return"string"==typeof e[n]?t[n]=e[n]:"number"==typeof e[n]?t[n]=""+e[n]:t[n]=Object.prototype.toString.apply(e[n]),t}),{})}function iS(e){return Object.keys(e).reduce((function(t,n){return"string"==typeof e[n]?t[n]=e[n]:"number"==typeof e[n]||"boolean"==typeof e[n]?t[n]=""+e[n]:t[n]=Object.prototype.toString.apply(e[n]),t}),{})}var oS=lm({wrap:function(e,t){return Tw.is(e)?e:new Ew(t,{cause:e})},action:"throw"})[1];function aS(e,t){return oS(e,{errMsg:t,context:e})}function sS(e,t){return v_(e,{errMsg:t,context:e})}var cS=aS((function(e){var t=Object.prototype.toString.call(e).split(" ")[1].split("]")[0];return{data:e="Array"===t||"Object"===t?JSON.stringify(e):"String"===t||"Number"===t||"Boolean"===t?e.toString():"Date"===t?e.getTime().toString():"Undefined"===t?"undefined":"Null"===t?"null":"",dataType:t}}),"anyTypeToString");var uS=aS((function(e,t){switch(t){case"String":return e;case"Array":case"Object":return JSON.parse(e);case"Number":return parseFloat(e);case"Boolean":return"true"===e;case"Date":return new Date(parseInt(e));case"Undefined":return;case"Null":return null;default:return""}}),"stringToAnyType");function lS(e){return"String"===w_(e)}var fS={String:!1,NaN:"<NaN>",Infinity:function(e){return e>0?"<Infinity>":"<-Infinity>"},Number:!1,Boolean:!1,Null:!1,Undefined:"<Undefined>",Function:function(e){return""===e.name?"<Function>":"<Function: "+e.name+">"},Date:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return"<Date: "+e.toJSON()+">"})),RegExp:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return"<RegExp: "+e.toString()+">"})),Error:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return"<"+(e.stack||e.name+": "+e.message)+">"})),Symbol:function(e){return"<Symbol: "+e.toString()+">"},Promise:"<Promise>",Map:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return"<Map: size="+e.size+">"})),WeakMap:"<WeakMap>",Set:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return"<Set: size="+e.size+">"})),WeakSet:"<WeakSet>",ArrayBuffer:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return"<ArrayBuffer: byteLength="+e.byteLength+">"})),DataView:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return"<DataView: byteLength="+e.byteLength+", byteOffset="+e.byteOffset+">"})),TypedArray:function(e){var t;return"<"+(null!=(t=e.constructor)&&t.name?e.constructor.name:"TypedArray")+": byteLength="+e.byteLength+", length="+e.length+">"}};function dS(e){var t=new WeakMap;return function e(n,r){var i,o=function(e,t){var n,r;return null!=(n=null!=(r=function(e){if(Array.isArray(e))return e}(e))?r:function(e,t){var n=[],r=!0,i=!1,o=void 0,a=e[Symbol.iterator]();try{for(var s;!(r=(s=a.next()).done)&&(n.push(s.value),null!=(c=!t)?c:n.length!==t);r=!0)var c}catch(e){i=!0,o=e}finally{try{var u;null!=(null!=(u=r)?u:null==a.return)||a.return()}catch(e){}if(i)throw o}return n}(e,t))?n:function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(function(e){var t=function(e){var t=w_(e);if("Number"===t){if(I_(e))return"NaN";if(function(e){return C_(e)&&Math.abs(e)===1/0}(e))return"Infinity"}else if("Object"===t){if(function(e){return null===e}(e))return"Null"}else if(t.endsWith("Array")&&"Array"!==t&&function(e){return ArrayBuffer.isView(e)&&!("DataView"===w_(e))}(e))return"TypedArray";return t}(e);return t in fS?fS[t]?S_(fS[t])?[fS[t](e),!0]:[fS[t],!0]:[e,!0]:[null,!1]}(n),2),a=o[0];return o[1]?a:t.has(n)?"<Circular: "+t.get(n)+">":(t.set(n,r),T_(n)?n.map((function(t,n){return e(t,r+"["+n+"]")})):(i={},Object.keys(n).forEach((function(t){i[t]=e(n[t],r+"."+t)})),i))}(e,"@")}function hS(e){try{return e=Array.from(e).map(dS)}catch(e){return void ps.warn("[console] This object can't be logged")}}function pS(e){return"function"==typeof e||!1}function vS(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}var gS="undefined"!=typeof Symbol?Symbol.prototype:null,mS=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&yS(e,t,n,r)},yS=function(e,t,n,r){var i=toString.call(e);if(i!==toString.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return gS.valueOf.call(e)===gS.valueOf.call(t)}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(pS(a)&&a instanceof a&&pS(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var c=(n=n||[]).length;c--;)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),o){if((c=e.length)!==t.length)return!1;for(;c--;)if(!mS(e[c],t[c],n,r))return!1}else{var u,l=Object.keys(e);if(c=l.length,Object.keys(t).length!==c)return!1;for(;c--;)if(!vS(t,u=l[c])||!mS(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0};function bS(e,t){void 0===e&&(e=""),void 0===t&&(t=!0),ps.log("dealQueryString",e);var n={};return"string"==typeof e&&""!==e&&e.split("&").forEach((function(e){var r=e.split("=");r[0]&&(n[r[0]]=t?decodeURIComponent(r[1]||""):r[1]||"")})),ps.log("dealQueryString",n),n}var kS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function wS(e){void 0===e&&(e=20);for(var t="",n=0;n<e;n++){var r=Math.floor(Math.random()*kS.length);t+=kS[r]}return t}function _S(e,t,n){for(var r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],s=n(a,o[1],e.prototype);if(!s)break;var c={configurable:!0,enumerable:!1};"function"==typeof s?c.value=s:Object.assign(c,s),Object.defineProperty(e.prototype,a,c)}return!0}var SS=0;function CS(){var e=String(Date.now()).slice(-13),t=Km();return"02"+e+((null==t?void 0:t.agent.randomDeviceId)||wS(32))+(SS++%2176782336).toString(32).padStart(6,"0")}var IS=function(e){return e.replace(/[^\u0000-\u00ff]/g,"aa").length};var TS=i((function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports})),AS=i((function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports})),ES=i((function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports})),MS=i((function(e){e.exports=function(e){return TS(e)||AS(e)||cs(e)||ES()},e.exports.__esModule=!0,e.exports.default=e.exports})),xS=i((function(e){var t=nw.default;e.exports=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,n||"default");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports})),PS=i((function(e){var t=nw.default;e.exports=function(e){var n=xS(e,"string");return"symbol"===t(n)?n:String(n)},e.exports.__esModule=!0,e.exports.default=e.exports})),OS=r(i((function(e){function t(){t=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],o={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,o)}),this),e.forEach((function(e){if(!i(e))return n.push(e);var t=this.decorateElement(e,o);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var a=this.decorateConstructor(n,t);return r.push.apply(r,a.finishers),a.finishers=r,a},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var u=c.extras;if(u){for(var l=0;l<u.length;l++)this.addElementPlacement(u[l],t);n.push.apply(n,u)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){if(void 0!==e)return MS(e).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=PS(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:a(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=a(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function n(e){var t,n=PS(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function r(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function i(e){return e.decorators&&e.decorators.length}function o(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function a(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}e.exports=function(e,a,s,c){var u=t();if(c)for(var l=0;l<c.length;l++)u=c[l](u);var f=a((function(e){u.initializeInstanceElements(e,d.elements)}),s),d=u.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===c.key&&e.placement===c.placement},a=0;a<e.length;a++){var s,c=e[a];if("method"===c.kind&&(s=t.find(n)))if(o(c.descriptor)||o(s.descriptor)){if(i(c)||i(s))throw new ReferenceError("Duplicated methods ("+c.key+") can't be decorated.");s.descriptor=c.descriptor}else{if(i(c)){if(i(s))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+c.key+").");s.decorators=c.decorators}r(c,s)}else t.push(c)}return t}(f.d.map(n)),e);return u.initializeClassElements(f.F,d.elements),u.runClassFinishers(f.F,d.finishers)},e.exports.__esModule=!0,e.exports.default=e.exports}))),RS=[],NS=[];function jS(){var e;(e=Km().getContainer(Uw).bridge).publish.apply(e,arguments)}function DS(e,t){var n=Km();n?n.subscribeContainerEvent(e,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(e,r)})):RS.push([e,t])}function LS(e,t,n,r){void 0===t&&(t={}),void 0===n&&(n={}),t=Object.assign({},t);for(var i={},o=0,a=Object.entries(t);o<a.length;o++){var s=a[o],c=s[0];"function"==typeof s[1]&&(i[c]=sS(t[c],"at api "+e+" "+c+" callback function"),delete t[c])}for(var u={},l=0,f=Object.entries(n);l<f.length;l++){var d=f[l],h=d[0],p=d[1];"function"==typeof p&&(u[h]=sS(p,"at api "+e+" "+p+" callback function"))}!function(e,t,n){Km().getContainer(Uw).bridge._invoke(e,t,n)}(e,t,(function(n){var o=n.callbackType,a=n.data,s=void 0===a?{}:a;s.errMsg=s.errMsg||e+":ok";var c="success"===o,l="cancel"===o,f="failure"===o;null==u.beforeAll||u.beforeAll(s),c?(null==u.beforeSuccess||u.beforeSuccess(s,r),null==i.success||i.success(s),null==u.afterSuccess||u.afterSuccess(s)):l?(s.errMsg=s.errMsg.replace(e+":cancel",e+":fail cancel"),null==i.fail||i.fail(s),null==u.beforeCancel||u.beforeCancel(s),null==i.cancel||i.cancel(s),null==u.afterCancel||u.afterCancel(s)):f&&(null==u.beforeFail||u.beforeFail(s),null==i.fail||i.fail(s),null==u.afterFail||u.afterFail(s)),null==i.complete||i.complete(s),null==u.afterAll||u.afterAll(s),"callHostMethod"!==e&&"callHostMethodSync"!==e||"string"!=typeof t.method||(e=t.method)}))}function FS(e,t){!function(e,t){var n=Km();n?n.onContainerEvent(e,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(e,r)})):NS.push([e,t])}(e,t)}function BS(){}function US(e,t,n,r){var i=F_(t,n);if(i){var o={};if(r){var a=$_(t,n);a&&(o={errString:a,errno:U_})}return qS(e,t,i,o),!1}return!0}function qS(e,t,n,r){void 0===t&&(t={}),void 0===n&&(n=""),void 0===r&&(r={});var i={errMsg:e+":fail "+n};Object.assign(i,r),sS(t.fail||BS,i.errMsg)(i),sS(t.complete||BS,i.errMsg)(i)}$m((function(e){for(var t,n=function(){var n=t.value,r=n[0],i=n[1];e.subscribeContainerEvent(r,(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.apply(e,n)}))},r=us(RS);!(t=r()).done;)n();for(var i,o=function(){var t=i.value,n=t[0],r=t[1];e.onContainerEvent(n,(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.apply(e,n)}))},a=us(NS);!(i=a()).done;)o()}));var WS=["addStandardError","customCheckParams","checkParams","checkExtendParams","beforeInvokeHook","paramsTransformer","defaults","frequencyStrategy","frequencyTime","frequencyReportTimeout","frequencyReporter"],VS=["firstUseErrString"],zS=function(){},HS=function(e){return e};function GS(e,t){void 0===t&&(t={});var n,r=t,i=r.addStandardError,o=r.customCheckParams,a=r.checkParams,s=r.checkExtendParams,c=r.beforeInvokeHook,u=r.paramsTransformer,l=r.defaults,f=r.frequencyStrategy,d=r.frequencyTime,h=void 0===d?0:d,p=r.frequencyReportTimeout,v=r.frequencyReporter,g=Dw(r,WS),m=function(n){void 0===n&&(n={});var r,f=new Map;l&&(n=Object.assign({},"function"==typeof l?l():l,n));var d={};if(a){if(r=F_(n,a),i){var h=$_(n,a);h&&(d={errString:h,errno:U_})}}else if(s)if(i){var p=function(e,t){for(var n in t){var r=t[n];if(!e.hasOwnProperty(n)){if(r.required)return{errMsg:n+" should not be undefined",errString:x_(n)};r.hasOwnProperty("defaultValue")&&(e[n]=r.defaultValue)}if(e.hasOwnProperty(n)){var i=w_(e[n]),o=r.type;if(i!==o)return{errMsg:n+" should pass "+o+", not "+i,errString:M_(n)}}}return{errMsg:"",errString:""}}(n,s),v=p.errMsg,m=p.errString;v&&(r=v,d={errString:m,errno:U_})}else r=L_(n,s);if(!r&&o){var y=o(n);y&&(r=y.message,i&&y.key&&(d={errString:E_(y.key),errno:U_}))}if(r)Q_(e,n,r,d);else{var b=null==c?void 0:c(n,f);if(void 0!==b){var k=t,w=k.beforeAll,_=k.beforeSuccess,S=k.afterSuccess,C=k.afterAll,I=n.success;null==w||w(b,f),null==_||_(b,f),"function"==typeof I&&I(b),null==S||S(b,f),null==C||C(b,f)}else{var T;u&&(n=null!=(T=u(n,f))?T:n),LS(e,n,g,f)}}};if("queue"===f){var y=[],b=!1,k=function e(){b=!0;var t,r=y.shift();(null==n||n(),r)?m(Object.assign({},r,{complete:function(t){null==r||null==r.complete||r.complete(t),setTimeout((function(){e()}),h)}})):0===y.length?(b=!1,null==(t=n)||t.cancel()):e()};return v&&p&&(n=cm((function(){v({apiName:e,timeout:p,waitingLength:y.length})}),p)),function(e){void 0===e&&(e={}),null==n||n(),y.push(e),b||k()}}if("throttle"===f){var w,_,S=[],C=0,I=!1,T=function(){var t;for(null==(t=n)||t.cancel();S.length;){var r=S.shift();"fail"===_?Q_(e,r,"",w):X_(e,r,w)}};return v&&p&&(n=cm((function(){v({apiName:e,timeout:p,waitingLength:S.length})}),p)),function(e){void 0===e&&(e={});var t=Date.now();S.push(e),!C||t-C>h?(C=t,I=!1,null==n||n(),m(Object.assign({},e,{success:function(e){w=e,_="success",I=!0,T()},fail:function(e){w=e,_="fail",I=!0,T()}}))):I&&T()}}return m}function JS(e,t,n,r){void 0===r&&(r={});var i,o=r,a=o.firstUseErrString,s=Dw(o,VS);return i="function"==typeof n?n:"string"==typeof n?function(e){return e[n]}:!0===n?HS:zS,function(){var n,r,o=!1;if(LS(e,Object.assign({},t.apply(void 0,arguments),s,{success:function(e){n=e,o=!0},fail:function(e){r=e,o=!0}})),r){var c=a&&r.errString||r.errMsg;if(c){var u=new Error(c);throw r.errString,u.errString=r.errString,r.errno,u.errno=r.errno,u}throw new Error(e+":fail unknown")}if(!o)throw new Error(e+":fail empty result");return i(n)}}function KS(e,t,n){void 0===n&&(n={});var r=n,i=r.wrapper,o=r.whenListenerExisted,a=r.whenListenerEmptied,s=r.whenListenerAdd,c=r.whenListenerRemove,u=r.onPolicy,l=r.offPolicy,f=new WeakMap,d="emptied";function h(){"existed"===d?e.size(t)||(d="emptied",null==a||a()):e.size(t)&&(d="existed",null==o||o())}return{on:function(n){if("function"==typeof n){var r=f.get(n);if(r||(i?(r=i(n),f.set(n,r)):r=n),"latest"===u)e.off(t),null==c||c();else if("unique"===u&&e.size(t,r)>0)return;e.on(t,r),null==s||s(),h()}},off:function(n){if(void 0===n||"clearAll"===l)e.off(t),null==c||c();else if("function"==typeof n){var r,i=null!=(r=f.get(n))?r:n;i&&e.off(t,i),null==c||c()}h()}}}function $S(e){return void 0===e&&(e={}),function(t,n){var r=t.key;t.finisher=function(t){t.exportApi(r,e)}}}function YS(e){return function(t,n){var r=t.key;t.finisher=function(t){t.injectDep(r,e)}}}var QS=function(e){hm(n,e),n.exportApi=function(e,t){this.hasOwnProperty("exports")||Object.defineProperty(this,"exports",{enumerable:!1,writable:!0,configurable:!0,value:this.exports?this.exports.slice():[]}),this.exports.push({name:e,options:t})},n.injectDep=function(e,t){this.hasOwnProperty("deps")||Object.defineProperty(this,"deps",{enumerable:!1,writable:!0,configurable:!0,value:this.deps?this.deps.slice():[]}),this.deps.push({name:e,type:t})};var t=n.prototype;function n(t){var n;return(n=e.call(this)||this).container=t,n.beforeInvoke=US,n.beforeInvokeFail=qS,n.createInvokeMethodApi=GS,n.createInvokeMethodSyncApi=JS,n._eventEmitter=void 0,n}return t.createEventApi=function(e,t){return KS(this.emitter,e,t)},t.createNativeEventApi=function(e,t){var n=this,r="__internal_"+e+"__";return this.addSetupHandler((function(){n.onMethod(e,(function(e){var i,o=null!=(i=null==t||null==t.transformData?void 0:t.transformData(e))?i:e;null==t||null==t.whenEventEmit||t.whenEventEmit(o),n.emitter.emit(r,e),null==t||null==t.whenEventEmitted||t.whenEventEmitted(o)}))})),KS(this.emitter,r,t)},ls(n,[{key:"invokeMethod",get:function(){return this.container.bridge.invokeMethod}},{key:"subscribe",get:function(){return this.container.bridge.subscribe}},{key:"onMethod",get:function(){return this.container.bridge.onMethod}},{key:"publish",get:function(){return this.container.bridge.publish}},{key:"emitter",get:function(){var e=this;return this._eventEmitter||(this._eventEmitter=new pm({wrapper:function(t){return v_(t,{context:null,errMsg:"at tt event api",data:e.container})}})),this._eventEmitter}}]),n}(zm);function XS(e,t){var n=e+"() { [native code] }";Object.defineProperty(t,"toString",{configurable:!0,writable:!0,enumerable:!1,value:function(){return n}})}QS.exports=void 0,QS.deps=void 0;var ZS=function(e){function t(t,n){var r;return(r=e.call(this)||this).container=t,r.exports=void 0,r.instance=new Map,r.apis=void 0,r.apis=Array.from(new Set(n)),r}hm(t,e),t.getExports=function(e,n){var r=new t(e,n);return Hm(r),r.exports};var n=t.prototype;return n.setup=function(){this.createApis(),this.setupApis(),this.exports=this.composeApis()},n.teardown=function(){for(var e,t=us(this.apis);!(e=t()).done;){var n=e.value;Gm(this.instance.get(n))}},n.createApis=function(){for(var e,t=us(this.apis);!(e=t()).done;){var n=e.value;this.instance.set(n,new n(this.container))}for(var r,i=us(this.apis);!(r=i()).done;){var o=r.value,a=this.instance.get(o),s=o.deps;if(null!=s&&s.length)for(var c,u=us(s);!(c=u()).done;){var l=c.value,f=l.name,d=(0,l.type)();if(!d)throw new Error("Cannot found dep class in "+f+" of "+o.name);var h=this.instance.get(d);if(!h)throw new Error("Cannot found dep in "+f+" with type "+d.name+" in "+o.name);a[f]=h}}},n.setupApis=function(){for(var e,t=us(this.apis);!(e=t()).done;){var n=e.value;Hm(this.instance.get(n))}},n.composeApis=function(){for(var e,t={},n=us(this.apis);!(e=n()).done;){var r=e.value,i=this.instance.get(r),o=i.constructor.exports;if(o)for(var a,s=us(o);!(a=s()).done;){var c=a.value.name,u=i[c];if("function"==typeof u){var l=aS(u.bind(i),"at tt."+c);XS(c,l),t[c]=l}else if(null!=u)if(u.on){var f=u,d=f.on,h=f.off,p=c[0].toUpperCase()+c.slice(1),v="on"+p;if(t[v]=d,XS(v,d),h){var g="off"+p;t[g]=h,XS(g,h)}}else t[c]=u}}return t},ls(t)}(zm),eC=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"authorize",value:function(){return this.createInvokeMethodApi("authorize",{checkParams:{scope:""}})}}]}}),QS);function tC(e,t,n){return!!this.container.checkUrlInConfig(t)||(this.beforeInvokeFail(e,n,'page "'+t+'" is not in app.json'),!1)}var nC=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"redirectTo",value:function(e){if(this.beforeInvoke("redirectTo",e,{url:""})){var t=this.container.LifecycleState;e.url=sm(t.path,e.url),e.url=nS(e.url),tC.call(this,"redirectTo",e.url,e)&&this.invokeMethod("redirectTo",e)}}},{kind:"method",decorators:[$S()],key:"reLaunch",value:function(e){if(this.beforeInvoke("reLaunch",e,{url:""})){var t=this.container.LifecycleState;e.url=sm(t.path,e.url),e.url=nS(e.url),tC.call(this,"reLaunch",e.url,e)&&this.invokeMethod("reLaunch",e)}}},{kind:"method",decorators:[$S()],key:"navigateTo",value:function(e){var t=this,n=getCurrentPages();if(this.beforeInvoke("navigateTo",e,{url:""})){var r=this.container.LifecycleState;e.url=sm(r.path,e.url),e.url=nS(e.url),tC.call(this,"navigateTo",e.url,e)&&this.invokeMethod("navigateTo",e,{beforeSuccess:function(){var e=n[n.length-1];e&&t.publish("onHide",{},[e.__webviewId__])}})}}},{kind:"method",decorators:[$S()],key:"switchTab",value:function(e){if(void 0===e&&(e={}),this.beforeInvoke("switchTab",e,{url:""})){/\?.*$/.test(e.url)&&(ps.warn('switchTab: queryString is not supported in parameter "url"'),e.url=e.url.replace(/\?.*$/,""));var t=this.container.LifecycleState;e.url=sm(t.path,e.url),e.url=nS(e.url),ps.log(t.path,e.url),tC.call(this,"switchTab",e.url,e)&&this.invokeMethod("switchTab",e)}}},{kind:"method",decorators:[$S()],key:"navigateBack",value:function(e){void 0===e&&(e={}),"number"!=typeof e.delta?e.delta=1:(e.delta=parseInt(e.delta,10),e.delta<1&&(e.delta=1)),this.invokeMethod("navigateBack",e)}}]}}),QS),rC=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getSystemInfo",value:function(){var e=this;return this.createInvokeMethodApi("getSystemInfo",{beforeSuccess:function(t){var n,r=e.container.getJSSDKVersion();t.SDKVersion=r.SDKVersion,t.SDKUpdateVersion=r.SDKUpdateVersion,t.platform=null==(n=t.platform)?void 0:n.toLocaleLowerCase(),t.devicePixelRatio=t.pixelRatio}})}},{kind:"field",decorators:[$S()],key:"getSystemInfoSync",value:function(){var e=this;return function(){var t={};return e.invokeMethod("getSystemInfoSync",{},{beforeSuccess:function(n){var r;void 0===n&&(n={});var i=e.container.getJSSDKVersion();n.platform=null==(r=n.platform)?void 0:r.toLocaleLowerCase(),n.SDKVersion=i.SDKVersion,n.SDKUpdateVersion=i.SDKUpdateVersion,n.devicePixelRatio=n.pixelRatio,t=n}}),t}}}]}}),QS),iC="waiting",oC="sending",aC="done",sC="aborted",cC="created",uC="in_queue";function lC(){if(AC=Math.max(AC-1,0),RC(),EC.length>0){var e=EC.shift();_C.set(e.item,Date.now());var t=IC.get(e.item);fC.call(e.item,t)}else 0===AC&&RC.cancel()}function fC(e){AC+=1;var t,n=this,r=mC.get(this),i=n.id;gC.set(this,oC),SC.set(this,Date.now());var o={},a=Km().agent.pcRequestUseJssdktaskId;a&&(o.taskId=i,vC.set(n,i),MC[i]=n,dC.call(n,r)),e.invokeMethod(OC.create,Object.assign({data:r.data,url:r.url,header:r.header,header2:Object.keys(r.header).map((function(e){return[e,String(r.header[e])]})),method:r.method,responseType:r.responseType,usePrefetchCache:r.usePrefetchCache||!1,requestType:r.requestType},o,{success:function(e){a||(vC.set(n,e.requestTaskId),MC[e.requestTaskId]=n,dC.call(n,r)),bC.set(n,e.trace)},fail:function(e){a&&(delete MC[i],xC.off(i+"success"),xC.off(i+"fail")),bC.set(n,e.trace),t=e.errMsg,PC(n,"fail",t),setTimeout((function(){var e={errMsg:t.replace("createRequestTask","request")};"function"==typeof r.fail&&r.fail(e),"function"==typeof r.complete&&r.complete(e),lC()}),0)},complete:function(){gC.set(n,aC)}}))}function dC(e){var t,n;t=TC.get(this),n={url:e.url,version:"v1"},xC.on(vC.get(this)+"success",(function(r){if(void 0!==t&&Yk.endParallel(t),r.errMsg="request:ok","string"==typeof r.data&&65279===r.data.charCodeAt(0)&&(r.data=r.data.substr(1)),"json"===e.dataType&&"string"==typeof r.data){var i;i=Yk.startStack({name:Jb,type:Ck,extra:n});try{r.data=JSON.parse(r.data)}catch(e){}Yk.endStack(i)}r.statusCode=parseInt(r.statusCode,10),"object"==typeof r.header&&(r.header=Object.keys(r.header).reduce((function(e,t){return Array.isArray(r.header[t])?e[t]=r.header[t].join(","):"string"==typeof r.header[t]&&(e[t]=r.header[t]),e}),{}));var o;o=Yk.startStack({name:dk("request"),type:Mk,extra:n}),"function"==typeof e.success&&e.success(r),"function"==typeof e.complete&&e.complete(r),Yk.endStack(o)})),xC.on(vC.get(this)+"fail",(function(r){void 0!==t&&Yk.endParallel(t),r.errMsg="request:fail "+r.errMsg;var i;i=Yk.startStack({name:dk("request"),type:Mk,extra:n}),"function"==typeof e.fail&&e.fail(r),"function"==typeof e.complete&&e.complete(r),Yk.endStack(i)}))}var hC=0,pC=new WeakMap,vC=new WeakMap,gC=new WeakMap,mC=new WeakMap,yC=new WeakMap,bC=new WeakMap,kC=new WeakMap,wC=new WeakMap,_C=new WeakMap,SC=new WeakMap,CC=new WeakMap,IC=new WeakMap,TC=new WeakMap,AC=0,EC=[],MC={},xC=new pm;function PC(e,t,n,r){var i=CC.get(e),o=gC.get(e)===sC,a=o?vb:pb,s=o?"cancel":t,c=mC.get(e),u=yC.get(e),l=Date.now()-u,f=c.reportParams||{},d=Object.assign({request_trace:bC.get(e)||"",request_url:c.url.split("?")[0],request_method:c.method||"GET",request_biz_invoke_time:yC.get(e),request_push_queue_time:kC.get(e)||0,request_shift_queue_time:_C.get(e)||0,request_queue_length:wC.get(e)||0,request_abort_type:i||"",request_version:"v1",api_name:"request",error_msg:n||"",duration:l,result_type:s,status_code:r},f);Lb($y,a).setPlatform("TeaSlardar").addMap(d).flush()}var OC,RC=cm((function(){if(0!==EC.length){var e=Date.now(),t={request_waiting_length:EC.length,request_waiting_tasks:EC.map((function(t){var n=t.item,r=mC.get(n);return{url:r.url.split("?")[0],method:r.method,duration:e-kC.get(n)}})),request_length:AC,request_tasks:Object.values(MC).map((function(t){var n=mC.get(t);return{url:n.url.split("?")[0],method:n.method,duration:e-SC.get(t)}})),request_type:"request"};Lb($y,wb).setPlatform("TeaSlardar").addMap(t).flush()}}),8e3);["onRequestTaskStateChange","onInnerRequestTaskStateChange"].forEach((function(e){FS(e,(function(e){void 0===e&&(e={});var t=e,n=t.state,r=t.errMsg,i=t.requestTaskId;if(delete e.state,delete e.requestTaskId,"success"!==n&&"fail"!==n||lC(),xC.emit(""+i+n,e),"success"===n||"fail"===n){var o=MC[i];if(o){try{PC(o,n,r,e.statusCode)}catch(e){}delete MC[i],xC.off(i+"success"),xC.off(i+"fail")}}}))}));var NC,jC=function(){function e(e,t,n){void 0===t&&(t=!1),this.requestVersion="v1",this.id=void 0;var r=Yk.startParallel({category:Bb,name:Gb,type:Sk,extra:{url:e.url,version:"v1"}});TC.set(this,r),yC.set(this,Date.now()),OC=t?{create:"createInnerRequestTask",operate:"operateInnerRequestTask",onChange:"onInnerRequestTaskStateChange"}:{create:"createRequestTask",operate:"operateRequestTask",onChange:"onRequestTaskStateChange"},this.id=hC++,pC.set(this,this.id),gC.set(this,iC),["success","fail","complete"].forEach((function(t){var n=e[t];"function"==typeof n&&(e[t]=sS(n,"at api request "+t+" callback function"))})),mC.set(this,e),IC.set(this,n),AC>=10?(kC.set(this,Date.now()),wC.set(this,EC.length),EC.push({id:this.id,item:this}),function(e){var t=mC.get(e),n={request_trace:bC.get(e)||"",request_url:t.url.split("?")[0],request_method:t.method||"GET",request_queue_length:AC+EC.length,request_type:"request"};Lb($y,kb).setPlatform("TeaSlardar").addMap(n).flush()}(this),RC()):fC.call(this,n)}return e.prototype.abort=function(){var e=this,t=gC.get(this),n=mC.get(this);if(gC.set(this,sC),t===iC){var r=EC.findIndex((function(t){return t.id===pC.get(e)}));r>-1&&EC.splice(r,1),CC.set(this,uC),setTimeout((function(){var t="request:fail abort";"function"==typeof n.fail&&n.fail({errMsg:t}),PC(e,"cancel",t),"function"==typeof n.complete&&n.complete({errMsg:t})}),0)}else if(t!==sC){CC.set(this,cC),IC.get(this).invokeMethod(OC.operate,{requestTaskId:vC.get(this),operationType:"abort"})}},ls(e)}();function DC(e){var t,n,r,i=e.invokeTime,o=e.url,a=e.trace,s=void 0===a?"":a,c=e.method,u=e.errMsg,l=void 0===u?"":u,f=e.resultType,d=e.errCode,h=Date.now()-i,p=d===NC.Cancelled||l.startsWith("request:fail Cancelled"),v=p?vb:pb,g=Object.assign({request_trace:s,request_url:"string"==typeof o?o.split("?")[0]:w_(e.url),request_method:"string"==typeof c?e.method:w_(c),request_biz_invoke_time:i,error_msg:l,error_code:d||0,errno:e.errno,err_string:e.errString,status_code:e.statusCode,duration:h,result_type:p?"cancel":f,request_version:"v2",api_name:"request",is_prefetch:null==e||null==(t=e.prefetchDetail)?void 0:t.isPrefetch,prefetch_errno:null==e||null==(n=e.prefetchDetail)?void 0:n.errno,prefetch_err_string:null==e||null==(r=e.prefetchDetail)?void 0:r.errString,has_podfile:void 0!==(null==e?void 0:e.podfile)&&null!==(null==e?void 0:e.podfile)},e.podfile);Lb($y,v).setPlatform("TeaSlardar").addMap(g).flush()}function LC(e,t,n,r,i,o){return function(o){void 0!==r&&Yk.endParallel(r);var a=o.payload,s=o.errCode,c=o.errno,u=o.errString,l=o.prefetchDetail,f=o.podfile,d=o.errMsg,h=null;if("string"==typeof a){var p;p=Yk.startStack({name:Kb,type:Ck,extra:i});try{h=_m.unpack(JSON.parse(a))}catch(e){d="request:fail sdk parse payload error"}Yk.endStack(p)}if("success"===n&&h){if("string"==typeof h.data&&65279===h.data.charCodeAt(0)&&(h.data=h.data.substr(1)),"json"===e.dataType&&"string"==typeof h.data){var v;v=Yk.startStack({name:Jb,type:Ck,extra:i});try{h.data=JSON.parse(h.data)}catch(e){}Yk.endStack(v)}h.statusCode=h.statusCode&&parseInt(String(h.statusCode),10),"object"==typeof h.header&&(h.header=Object.keys(h.header).reduce((function(e,t){var n=h.header?h.header[t]:void 0;return Array.isArray(n)?e[t]=n.join(","):"string"==typeof n&&(e[t]=n),e}),{}))}DC({resultType:n,invokeTime:t,url:e.url,trace:e.requestTaskId,method:e.method,errMsg:d,errCode:s,statusCode:o.statusCode,errno:c,errString:u,prefetchDetail:l,podfile:f});var g=h?Object.assign({trace:e.requestTaskId,errMsg:d},h):{trace:e.requestTaskId,errMsg:d};void 0!==c&&(g.errno=c),void 0!==u&&(g.errString=u),void 0!==l&&(g.prefetchDetail=l);var m;if(m=Yk.startStack({name:dk("request"),type:Mk,extra:i}),"success"===n&&h)"function"==typeof e.success&&e.success(g);else{var y=void 0===s?g:Object.assign({},g,{errCode:s});"function"==typeof e.fail&&e.fail(y)}"function"==typeof e.complete&&e.complete(g),Yk.endStack(m)}}function FC(e,t,n,r,i){void 0===t&&(t={}),void 0===r&&(r={}),n?n.invokeMethod(e,t,r):LS(e,t,r,i)}function BC(e,t){void 0===e&&(e={});var n="",r="";"string"!=typeof e.url?(n="param.url should pass string, not "+typeof e.url,r=M_("url")):n||tS(e.url)||(n='invalid url "'+e.url+'"',r=E_("url")),n||"function"!=typeof e.data||(n="data should not be Function",r=M_("data")),!n&&("string"!=typeof e.method&&e.method||0===e.method)&&(n="param.method should pass string, not "+typeof e.method,r=M_("method")),!n&&("string"!=typeof e.responseType&&e.responseType||0===e.responseType)&&(n="param.responseType should pass string, not "+typeof e.responseType,r=M_("responseType"));var i=Date.now(),o={trace:"",invokeTime:i,method:e.method,url:e.url,errMsg:"",errCode:NC.InternalError,resultType:"fail"};if(n)return o.errMsg="request:fail invalid parameter "+n,o.errCode=NC.InvalidParam,o.errno=U_,o.errString=r,DC(o),void qS("request",e,n,{errno:U_,errString:r});try{0;var a,s=CS(),c=Object.assign({},function(e){var t,n=Object.assign({},e);return"Object"!==w_(n.header)&&(n.header={"content-type":"application/json"}),Object.keys(n.header).filter((function(e){return"content-type"===e.toLowerCase()})).length<=0&&(n.header["content-type"]="application/json"),n.header=iS(n.header),n.header=Object.keys(n.header).reduce((function(e,t){return"content-type"===t.toLowerCase()?e[t.toLowerCase()]=n.header[t]:e[t]=n.header[t],e}),{}),"string"==typeof n.method&&(n.method=n.method.toUpperCase()),n.method||(n.method="GET"),"string"==typeof n.responseType&&(n.responseType=n.responseType.toLowerCase()),n.responseType||(n.responseType="text"),e.dataType||(n.dataType="json"),"GET"===n.method?(n.url=eS(n.url,n.data),n.data&&delete n.data):(t=void 0===n.data?"":"string"==typeof n.data||n.data instanceof ArrayBuffer?n.data:n.header["content-type"].includes("application/x-www-form-urlencoded")?Z_(n.data,!0):n.header["content-type"].includes("application/json")||"object"==typeof n.data?JSON.stringify(n.data):n.data.toString(),n.data=t),n.usePrefetchCache||(n.usePrefetchCache=!1),_m.pack(n)}(e),{requestTaskId:s}),u=-1;return a={url:c.url,version:"v2"},u=Yk.startParallel({category:Bb,name:Gb,type:Sk,extra:a}),FC("request",{payload:JSON.stringify(c),success:LC(c,i,"success",u,a),fail:LC(c,i,"fail",u,a)},t),{requestVersion:"v2",requestId:s,abort:function(){FC("requestAbort",{payload:JSON.stringify({requestTaskId:s})},t)}}}catch(e){o.errMsg="request:fail internal error "+(null==e?void 0:e.message),o.errCode=NC.InternalError,DC(o),qS("request",e,null==e?void 0:e.message,{errno:B_,errString:A_()})}}function UC(e,t,n){var r=pb,i={request_url:"string"==typeof e?e.split("?")[0]:w_(e),request_method:"string"==typeof t?t:w_(e),error_msg:n,result_type:"fail",request_version:"v1",api_name:"request"};Lb($y,r).setPlatform("TeaSlardar").addMap(i).flush()}!function(e){e[e.Cancelled=1000001]="Cancelled",e[e.InvalidParam=104]="InvalidParam",e[e.InternalError=102]="InternalError"}(NC||(NC={}));var qC=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"request",value:function(e){var t;if(void 0===e&&(e={}),((null==(t=Km())?void 0:t.agent)||{}).useNewRequestAPI)return BC(e);if(US("request",e,{url:""})){if(!tS(e.url))return UC(e.url,e.method,'request fail invalid url "'+e.url+'"'),void qS("request",e,'invalid url "'+e.url+'"');if("function"==typeof e.data)return UC(e.url,e.method,"request:fail data should not be Function"),void qS("request",e,"data should not be Function");var n=function(e,t){var n=0,r=0;if("object"==typeof t&&t)for(var i in t)if("object"==typeof t[i]){if(n=1,r)break}else if("boolean"==typeof t[i]&&(r=1,n))break;return{header_attributes_includes_object:n,header_attributes_includes_boolean:r,method:"string"==typeof e?e:Object.prototype.toString.apply(e)}}(e.method,e.header),r=w_(e.header);e.header=e.header?e.header:{},e.header=rS(e.header),"Undefined"!==r&&"Object"!==r&&(e.header={}),e.header=Object.keys(e.header).reduce((function(t,n){return"content-type"===n.toLowerCase()?t[n.toLowerCase()]=e.header[n]:t[n]=e.header[n],t}),{});var i=e.header||{},o="GET";e.method&&(e.method=e.method.toUpperCase()),"string"==typeof e.method&&(o=e.method.toUpperCase());var a,s="text";e.responseType&&(s=e.responseType.toLowerCase()),e.dataType=e.dataType||"json",i["content-type"]=i["content-type"]||"application/json",a=void 0===e.data?"":"string"==typeof e.data||e.data instanceof ArrayBuffer?e.data:i["content-type"].includes("application/x-www-form-urlencoded")?Z_(e.data,!0):i["content-type"].includes("application/json")||"object"==typeof e.data?JSON.stringify(e.data):e.data.toString(),"GET"===o&&(e.url=eS(e.url,e.data));try{return new jC(Object.assign({},e,{header:i,method:o,responseType:s,data:a,reportParams:n}),!1,this.container.bridge)}catch(t){UC(e.url,e.method,"request:fail "+(null==t?void 0:t.message)),qS("request",t,null==t?void 0:t.message)}}else UC(e.url,e.method,"request:fail param.url is not string")}}]}}),QS),WC=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"openSchema",value:function(){return this.createInvokeMethodApi("openSchema")}}]}}),QS),VC=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getPadDisplayScaleMode",value:function(){return this.createInvokeMethodApi("getPadDisplayScaleMode")}},{kind:"field",decorators:[$S()],key:"togglePadFullScreen",value:function(){return this.createInvokeMethodApi("togglePadFullScreen")}}]}}),QS),zC=i((function(e){e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ww(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports})),HC=r(i((function(e){function t(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=t=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=t=function(e,t,n){var r=zC(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},e.exports.__esModule=!0,e.exports.default=e.exports),t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}))),GC=OS(null,(function(e,t){var n=function(t){function n(n){var r;return r=t.call(this,n)||this,e(fm(r)),r}return hm(n,t),ls(n)}(t);return{F:n,d:[{kind:"field",key:"_titleConfig",value:function(){return{}}},{kind:"field",decorators:[$S()],key:"setNavigationBarTitle",value:function(){return this.createInvokeMethodApi("setNavigationBarTitle",{checkParams:{title:"String"}})}},{kind:"field",decorators:[$S()],key:"setNavigationBarColor",value:function(){return this.createInvokeMethodApi("setNavigationBarColor",{checkParams:{frontColor:"String",backgroundColor:"String"}})}},{kind:"field",decorators:[$S()],key:"setMainNavRightItems",value:function(){return null}},{kind:"field",decorators:[$S()],key:"onMainNavRightItemClick",value:function(){}},{kind:"field",decorators:[$S()],key:"offMainNavRightItemClick",value:function(){}},{kind:"field",decorators:[$S()],key:"showNavigationBarLoading",value:function(){return this.createInvokeMethodApi("showNavigationBarLoading")}},{kind:"field",decorators:[$S()],key:"hideNavigationBarLoading",value:function(){return this.createInvokeMethodApi("hideNavigationBarLoading")}},{kind:"field",decorators:[$S()],key:"hideHomeButton",value:function(){return this.createInvokeMethodApi("hideHomeButton")}},{kind:"field",decorators:[$S()],key:"setNavigationBar",value:function(){return null}},{kind:"field",decorators:[$S()],key:"onNavigationBarClick",value:void 0},{kind:"field",decorators:[$S()],key:"offNavigationBarClick",value:void 0},{kind:"field",decorators:[$S()],key:"onLeftNavigationBarClick",value:void 0},{kind:"field",decorators:[$S()],key:"offLeftNavigationBarClick",value:void 0},{kind:"field",decorators:[$S()],key:"onRightNavigationBarClick",value:void 0},{kind:"field",decorators:[$S()],key:"offRightNavigationBarClick",value:void 0},{kind:"method",key:"setup",value:function(){HC(_w(n.prototype),"setup",this).call(this)}},{kind:"method",key:"composeSafariCache",value:function(){return{navigationBarConfig:this._titleConfig}}}]}}),QS),JC=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getUserInfo",value:function(){return this.createInvokeMethodApi("getUserInfo")}},{kind:"field",decorators:[$S()],key:"getUserCustomAttr",value:function(){return this.createInvokeMethodApi("getUserCustomAttr")}}]}}),QS),KC=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"startPullDownRefresh",value:function(){return this.createInvokeMethodApi("startPullDownRefresh")}},{kind:"field",decorators:[$S()],key:"stopPullDownRefresh",value:function(){return this.createInvokeMethodApi("stopPullDownRefresh")}},{kind:"field",decorators:[$S()],key:"disablePullDownRefresh",value:function(){return this.createInvokeMethodApi("disablePullDownRefresh")}},{kind:"field",decorators:[$S()],key:"enablePullDownRefresh",value:function(){return this.createInvokeMethodApi("enablePullDownRefresh")}}]}}),QS),$C=!1,YC=[];function QC(){for(var e=0,t=YC.length;e<t;){for(;e<t;e++)try{YC[e].call(null)}catch(e){ps.error(e)}t=YC.length}YC=[],$C=!1}var XC,ZC=function(){function e(e){this.onExecute=e,this.isRunning=!1,this.taskList=[]}var t=e.prototype;return t.getTaskList=function(){return this.taskList},t.push=function(e){this.taskList.push(e),this.isRunning||(this.isRunning=!0,this.next())},t.unshift=function(e){this.taskList.unshift(e),this.isRunning||(this.isRunning=!0,this.next())},t.next=function(){var e,t=this;e=function(){t.execute()},YC.push(e),$C||($C=!0,setTimeout(QC,0))},t.execute=function(){var e=this;if(this.taskList.length<=0)this.isRunning=!1;else try{var t=this.taskList.shift();this.onExecute(t,(function(){e.next()}))}catch(e){ps.error(e),this.next()}},ls(e)}(),eI={src:"",startTime:0,paused:!0,currentTime:0,duration:0,buffered:0};!function(e){e[e.CREATE=0]="CREATE",e[e.DESTROY=1]="DESTROY",e[e.OPERATE=2]="OPERATE",e[e.SETSTATE=3]="SETSTATE",e[e.GETSTATE=4]="GETSTATE"}(XC||(XC={}));var tI,nI=[XC.OPERATE,XC.DESTROY,XC.OPERATE];!function(e){e.PLAY="play",e.PAUSE="pause",e.STOP="stop",e.SEEK="seek"}(tI||(tI={}));var rI,iI=function(){function e(e){var t=this;this.bridge=e,this.destroyed=!1,this.audioAttrStore=Object.assign({},this.getDefaultAudioAttr()),this.taskQueue=new ZC((function(e,n){switch(ps.log("InnerAudio: DoTask "+e.type+" with",e),e.type){case XC.CREATE:t.handleCreateTask(n);break;case XC.GETSTATE:t.handleGetStateTask(n);break;case XC.SETSTATE:var r=t.updatedAttrsList[0];t.handleSetStateTask(r,(function(){Object.assign(t.audioAttrStore,r),t.updatedAttrsList.shift(),r.src&&t.taskQueue.unshift({type:XC.GETSTATE}),n()}));break;case XC.OPERATE:t.handleOperateTask(e.operation,(function(){Object.assign(t.audioAttrStore,t.updatedAttrsList.shift()),n()}));break;case XC.DESTROY:t.handleDestroyTask(n)}})),this.emitter=new pm,this.updatedAttrsList=[],this.timeupdateTimer=null,this.stateUpdatingTimer=null,this.taskQueue.push({type:XC.CREATE})}var t=e.prototype;return t.getState=function(e){var t,n=this;if("currentTime"===e&&!this._isSeeking&&!this.destroyed){var r=this.getAudioStateSync();r&&(t=r.currentTime,Object.assign(this.audioAttrStore,r))}if(void 0===t)for(var i=this.updatedAttrsList.length-1;i>=0;i--)if(this.updatedAttrsList[i].hasOwnProperty(e)){t=this.updatedAttrsList[i][e];break}void 0===t&&(t=this.audioAttrStore[e]);var o=this.audioAttrStore.duration<this.audioAttrStore.currentTime||this.audioAttrStore.buffered<100;return!this.stateUpdatingTimer&&o&&(this.stateUpdatingTimer=setTimeout((function(){!!n.taskQueue.getTaskList().find((function(e){return e.type===XC.GETSTATE}))||n.taskQueue.push({type:XC.GETSTATE}),n.stateUpdatingTimer=null}),50)),t},t.setState=function(e,t){var n=this;if(!this.destroyed){for(var r,i=!1,o=this.taskQueue.getTaskList(),a=o.length-1;a>=0;a--)if(nI.includes(o[a].type)){i=!0;break}switch(this.updatedAttrsList.length||(i=!0),i?(r={},this.updatedAttrsList.push(r),this.taskQueue.push({type:XC.SETSTATE})):r=this.updatedAttrsList[this.updatedAttrsList.length-1],r[e]=t,e){case"src":setTimeout((function(){return n.emitter.emit("canplay",null)}))}}},t.on=function(e,t){this.emitter.on(e,t),"timeupdate"===e&&this.enableTimeupdateChecker()},t.off=function(e,t){this.emitter.off(e,t),"timeupdate"!==e||this.emitter.size(e)||this.disableTimeupdateChecker()},t.operate=function(e){var t={};switch(this.updatedAttrsList.push(t),e.operationType){case tI.PLAY:t.paused=!1;break;case tI.PAUSE:case tI.STOP:t.paused=!0;break;case tI.SEEK:t.currentTime=e.currentTime}this.taskQueue.push({type:XC.OPERATE,operation:e})},t.destroy=function(){this.destroyed||(this.destroyed=!0,this.disableTimeupdateChecker(),this.updatedAttrsList.push({paused:!0}),this.taskQueue.push({type:XC.DESTROY}))},t.handleStateChange=function(e,t){switch(e){case"play":this.audioAttrStore.paused=!1,this.enableTimeupdateChecker();break;case"ended":case"stop":case"pause":this.audioAttrStore.paused=!0,this.disableTimeupdateChecker();break;case"error":this.destroy()}this.emitter.emit(e,t)},t.enableTimeupdateChecker=function(){var e,t=this;this.audioAttrStore.paused||this.timeupdateTimer||!this.emitter.size("timeupdate")||(this.timeupdateTimer=setInterval((function(){if(!t.getState("paused")){var n=t.getState("currentTime");n!==e&&(t.emitter.emit("timeupdate",n),e=n)}}),250))},t.disableTimeupdateChecker=function(){this.timeupdateTimer&&(clearInterval(this.timeupdateTimer),this.timeupdateTimer=null)},ls(e,[{key:"_isSeeking",get:function(){return!!this.taskQueue.getTaskList().find((function(e){return e.type===XC.OPERATE&&e.operation.operationType===tI.SEEK}))}}]),e}(),oI=["audioId","state"],aI=Object.assign({},eI,{obeyMuteSwitch:!0,volume:1,autoplay:!1,loop:!1}),sI=new Map,cI=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).id=void 0,t.effectToken=void 0,t}hm(t,e);var n=t.prototype;return n.getDefaultAudioAttr=function(){return aI},n.getAudioStateSync=function(){var e=this.audioAttrStore;return this.bridge.invokeMethod("android"===TMAConfig.platform?"getAudioStateSync":"getAudioState",{audioId:this.id,success:function(t){e=t}}),e},n.handleCreateTask=function(e){var t=this;this.bridge.invokeMethod("createAudioInstance",{success:function(n){var r=n.audioId;t.id=r,t.destroyed||sI.set(r,t),e()}})},n.destroy=function(){sI.delete(this.id),e.prototype.destroy.call(this)},n.handleDestroyTask=function(e){var t=this.id;sI.delete(t),this.bridge.invokeMethod("destroyAudioInstance",{audioId:t}),e()},n.handleOperateTask=function(e,t){var n=this,r=e.operationType===tI.SEEK;r&&this.emitter.emit("seeking",{});var i=this.id;this.bridge.invokeMethod("operateAudio",Object.assign({audioId:i,complete:function(){r&&n.emitter.emit("seeked",{}),t()}},e))},n.handleSetStateTask=function(e,t){var n=this;this.bridge.invokeMethod("setAudioState",Object.assign({audioId:this.id,fail:function(){ps.error("Update InnerAudioContext state failed, audioId: "+n.id)},complete:function(){t()}},this.audioAttrStore,e))},n.handleGetStateTask=function(e){var t=this;this.bridge.invokeMethod("getAudioState",{audioId:this.id,success:function(e){Object.assign(t.audioAttrStore,e)},complete:function(){e()}})},ls(t)}(iI);function uI(e){var t=e.audioId,n=e.state,r=Dw(e,oI),i=n.toLowerCase(),o=sI.get(t);null==o||o.handleStateChange(i,r)}function lI(e,t){return void 0===t&&(t={}),{flag:e,options:t,__type:null}}function fI(e){return lI(rI.GETTER,e)}function dI(e){return lI(rI.GETSET,e)}function hI(){return lI(rI.EVENT)}function pI(e){return e/1e3}!function(e){e[e.GETTER=0]="GETTER",e[e.GETSET=1]="GETSET",e[e.METHOD=2]="METHOD",e[e.EVENT=3]="EVENT",e[e.OPERATOR=4]="OPERATOR"}(rI||(rI={}));var vI={src:dI({validator:function(e){return"string"==typeof e}}),startTime:dI({getter:pI,setter:function(e){return"number"==typeof e?Math.floor(1e3*e):e}}),duration:fI({getter:pI}),currentTime:fI({getter:pI}),buffered:fI(),paused:fI(),Play:hI(),Pause:hI(),Stop:hI(),Canplay:hI(),Error:hI(),Ended:hI(),Waiting:hI(),Seeking:hI(),Seeked:hI(),TimeUpdate:hI()};function gI(e,t){for(var n=function(){var t=i[r],n=t[0],o=t[1],a=o.flag,s=o.options;if(a===rI.EVENT){var c=n.toLowerCase();return Object.defineProperty(e.prototype,"on"+n,{configurable:!1,enumerable:!1,writable:!1,value:function(t){"function"==typeof t&&e.getShadow(this).on(c,t)}}),Object.defineProperty(e.prototype,"off"+n,{configurable:!1,enumerable:!1,writable:!1,value:function(t){"function"==typeof t&&e.getShadow(this).off(c,t)}}),"continue"}var u={configurable:!1,enumerable:!1};a!==rI.GETSET&&a!==rI.GETTER||(u.get=function(){var t,r=e.getShadow(this).getState(n);return null!=(t=null==s.getter?void 0:s.getter(r))?t:r},a===rI.GETSET&&(u.set=function(t){var r;return!1===(null==s.validator?void 0:s.validator(t))||e.getShadow(this).setState(n,null!=(r=null==s.setter?void 0:s.setter(t))?r:t),t})),Object.defineProperty(e.prototype,n,u)},r=0,i=Object.entries(t);r<i.length;r++)n()}var mI=Object.assign({},vI,{autoplay:dI({setter:function(e){return!!e}}),loop:dI({setter:function(e){return!!e}}),obeyMuteSwitch:dI({setter:function(e){return!!e}}),volume:dI({validator:function(e){return"number"==typeof e&&!Number.isNaN(e)}})}),yI=function(){function e(){}e.getShadow=function(t){return e.linker.get(t)};var t=e.prototype;return t.play=function(){e.getShadow(this).operate({operationType:tI.PLAY})},t.pause=function(){e.getShadow(this).operate({operationType:tI.PAUSE})},t.stop=function(){e.getShadow(this).operate({operationType:tI.STOP})},t.seek=function(t){"number"!=typeof t||t<0||Number.isNaN(t)?ps.warn("InnerAudioContext.seek() only accept number"):e.getShadow(this).operate({operationType:tI.SEEK,currentTime:1e3*t})},t.destroy=function(){e.getShadow(this).destroy()},ls(e)}();yI.linker=new WeakMap,gI(yI,mI);var bI=OS(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t);return{F:n,d:[{kind:"method",decorators:[$S({creator:!0})],key:"createInnerAudioContext",value:function(){var e=new yI,t=new cI(this.container.bridge);return yI.linker.set(e,t),e}},{kind:"method",key:"setup",value:function(){HC(_w(n.prototype),"setup",this).call(this),this.onMethod("onAudioStateChange",uI)}}]}}),QS),kI=Object.assign({},eI,{title:"",epname:"",protocol:"http",webUrl:"",singer:"",coverImgUrl:"",playbackRate:1}),wI=function(e){function t(){return e.apply(this,arguments)||this}hm(t,e);var n=t.prototype;return n.destroy=function(){},n.getAudioStateSync=function(){var e=this.audioAttrStore;return this.bridge.invokeMethod("getBgAudioStateSync",{success:function(t){e=t}}),e},n.getDefaultAudioAttr=function(){return kI},n.handleCreateTask=function(e){this.bridge.invokeMethod("getBackgroundAudioContextSync",{complete:function(){e()}})},n.handleDestroyTask=function(e){},n.handleGetStateTask=function(e){var t=this.getAudioStateSync();Object.assign(this.audioAttrStore,t),e()},n.handleOperateTask=function(e,t){this.bridge.invokeMethod("operateBgAudioSync",Object.assign({complete:function(){t()}},e))},n.handleSetStateTask=function(e,t){var n=this;this.bridge.invokeMethod("setBgAudioStateSync",Object.assign({},this.audioAttrStore,e,{fail:function(e){return n.handleStateChange("error",e)},complete:t}))},ls(t)}(iI),_I=function(){function e(){}e.getShadow=function(t){return e.manager};var t=e.prototype;return t.play=function(){e.manager.operate({operationType:tI.PLAY})},t.pause=function(){e.manager.operate({operationType:tI.PAUSE})},t.stop=function(){e.manager.operate({operationType:tI.STOP})},t.seek=function(t){"number"!=typeof t||t<0||Number.isNaN(t)||e.manager.operate({operationType:tI.SEEK,currentTime:1e3*t})},ls(e)}();_I.manager=void 0;var SI=Object.assign({},vI,{src:dI(),title:dI(),epname:dI(),protocol:dI(),webUrl:dI(),singer:dI(),coverImgUrl:dI(),playbackRate:dI({validator:function(e){return"number"==typeof e&&!Number.isNaN(e)}}),audioPage:dI(),Next:hI(),Prev:hI()});gI(_I,SI);var CI,II=OS(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t);return{F:n,d:[{kind:"field",key:"ctx",value:void 0},{kind:"method",decorators:[$S({creator:!0})],key:"getBackgroundAudioManager",value:function(){if(this.ctx)return this.ctx;var e=new _I,t=new wI(this.container.bridge);return _I.manager=t,this.ctx=e,e}},{kind:"method",key:"setup",value:function(){HC(_w(n.prototype),"setup",this).call(this),this.onMethod("onBgAudioStateChange",(function(e){var t,n=e.state.toLowerCase();null==(t=_I.manager)||t.handleStateChange(n,e)}))}}]}}),QS),TI=new(function(){function e(){this.insertedCanvas={},this.cachedActions={}}var t=e.prototype;return t.insertCanvas=function(e,t,n){var r,i,o;this.insertedCanvas[e]||(this.insertedCanvas[e]={});var a=this.insertedCanvas[e];a[n]||(a[n]={});var s=a[n];s[t]=!0;for(var c,u=null!=(r=null==(i=this.cachedActions[e])?void 0:i[n])?r:{},l=us(null!=(f=u[t])?f:[]);!(c=l()).done;){var f;(0,c.value)(t)}if(delete u[t],null!=(o=u[0])&&o.length&&1===Object.keys(s).length){for(var d,h=us(u[0]);!(d=h()).done;){(0,d.value)(t)}delete u[0]}},t.removeCanvas=function(e,t,n){this.insertedCanvas[e]&&this.insertedCanvas[e][n]&&delete this.insertedCanvas[e][n][t]},t.cacheAction=function(e,t,n,r){this.cachedActions[e]||(this.cachedActions[e]={});var i=this.cachedActions[e];i[n]||(i[n]={});var o=i[n];if(0===t){var a,s,c=null!=(a=null==(s=this.insertedCanvas[e])?void 0:s[n])?a:{},u=Object.keys(c);if(u.length)return void r(parseInt(u[0],10))}o[t]||(o[t]=[]),ps.info("Cache canvas draw action"),this.cachedActions[e][n][t].push(r)},t.hasCanvasInserted=function(e,t,n){var r,i,o;return 0!==t&&(null!=(r=null==(i=this.insertedCanvas[e])||null==(o=i[n])?void 0:o[t])&&r)},ls(e)}());!function(e){e[e.Request=0]="Request",e[e.Response=1]="Response"}(CI||(CI={}));var AI,EI=function(){function e(e,t){this.tunnel=e,this.fns=t,this.cid=0,this.callMap=new Map,this.onMessage=this.onMessage.bind(this),this.call=this.call.bind(this),e.addListener?e.addListener(this.onMessage):e.onMessage=this.onMessage}var t=e.prototype;return t.call=function(e,t){var n=this;return new Promise((function(r,i){var o=n.cid++,a={type:CI.Request,cid:o,method:e,args:t};n.callMap.set(o,{resolve:r,reject:i}),n.tunnel.send(a)}))},t.onMessage=function(e){var t=this;switch(e.type){case CI.Request:var n=e.method,r=e.args,i=e.cid,o=this.fns[n];if(!o)return void ps.warn("Method "+n+" doesn't exist");var a=function(e,n){var r={type:CI.Response,cid:i,error:e,result:n};t.tunnel.send(r)};try{var s=o.apply(void 0,r);s.then?Promise.resolve(s).then((function(e){return a(null,e)}),(function(e){return a(e,null)})):a(null,s)}catch(e){a(e,null),ps.error("CallError",e)}break;case CI.Response:var c=e.cid,u=e.result,l=e.error,f=this.callMap.get(c);if(this.callMap.delete(c),!f)return void ps.warn("Callback "+c+" doesn't exist");l?f.reject(l):f.resolve(u);break;default:ps.warn("Unknown type",e.type)}},t.dispose=function(){var e,t;this.tunnel.onMessage=null,null==(e=(t=this.tunnel).removeListener)||e.call(t,this.onMessage)},ls(e)}();function MI(e){return"number"==typeof AI[e]?AI[e]:e}function xI(e){return"string"==typeof AI[e]?AI[e]:e}!function(e){e[e.arc=0]="arc",e[e.arcTo=1]="arcTo",e[e.beginPath=2]="beginPath",e[e.bezierCurveTo=3]="bezierCurveTo",e[e.closePath=4]="closePath",e[e.lineTo=5]="lineTo",e[e.moveTo=6]="moveTo",e[e.quadraticCurveTo=7]="quadraticCurveTo",e[e.rect=8]="rect",e[e.clearRect=9]="clearRect",e[e.fillText=10]="fillText",e[e.fillRect=11]="fillRect",e[e.restore=12]="restore",e[e.rotate=13]="rotate",e[e.save=14]="save",e[e.scale=15]="scale",e[e.strokeText=16]="strokeText",e[e.strokeRect=17]="strokeRect",e[e.transform=18]="transform",e[e.translate=19]="translate",e[e.clip=20]="clip",e[e.fill=21]="fill",e[e.stroke=22]="stroke",e[e.setTransform=23]="setTransform",e[e.setLineDash=24]="setLineDash",e[e.fillStyle=25]="fillStyle",e[e.shadowOffsetX=26]="shadowOffsetX",e[e.shadowOffsetY=27]="shadowOffsetY",e[e.shadowColor=28]="shadowColor",e[e.shadowBlur=29]="shadowBlur",e[e.strokeStyle=30]="strokeStyle",e[e.lineWidth=31]="lineWidth",e[e.lineCap=32]="lineCap",e[e.lineJoin=33]="lineJoin",e[e.miterLimit=34]="miterLimit",e[e.lineDashOffset=35]="lineDashOffset",e[e.globalAlpha=36]="globalAlpha",e[e.globalCompositeOperation=37]="globalCompositeOperation",e[e.lineStyle=38]="lineStyle",e[e.textBaseline=39]="textBaseline",e[e.setLineCap=40]="setLineCap",e[e.setLineJoin=41]="setLineJoin",e[e.setLineWidth=42]="setLineWidth",e[e.setMiterLimit=43]="setMiterLimit",e[e.setTextAlign=44]="setTextAlign",e[e.setTextBaseline=45]="setTextBaseline",e[e.setGlobalAlpha=46]="setGlobalAlpha",e[e.setFillStyle=47]="setFillStyle",e[e.setStrokeStyle=48]="setStrokeStyle",e[e.setShadow=49]="setShadow",e[e.drawImage=50]="drawImage",e[e.setProperty=51]="setProperty",e[e.setFont=52]="setFont"}(AI||(AI={}));var PI=/[\'\"]/,OI=function(e){return e?(PI.test(e.charAt(0))&&(e=e.substr(1)),PI.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""},RI=["caption","icon","menu","message-box","small-caption","status-bar"],NI=["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"],jI=["normal","italic","oblique"],DI=["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"],LI=i((function(e,t){function n(e,t,n){var r=(void 0===n?{}:n).last,i=void 0!==r&&r;if("string"!=typeof e)throw new TypeError("expected a string");if(!Array.isArray(t))throw new TypeError("expected a string array of separators");if("boolean"!=typeof i)throw new TypeError("expected a Boolean value for options.last");for(var o=[],a="",s=!1,c=0,u=!1,l=!1,f=0,d=e;f<d.length;f++){var h=d[f];u?l?l=!1:"\\"===h?l=!0:h===u&&(u=!1):'"'===h||"'"===h?u=h:"("===h?c+=1:")"===h?c>0&&(c-=1):0===c&&-1!==t.indexOf(h)&&(s=!0),s?(""!==a&&o.push(a.trim()),a="",s=!1):a+=h}return(i||""!==a)&&o.push(a.trim()),o}Object.defineProperty(t,"__esModule",{value:!0}),t.split=n,t.splitBySpaces=function(e){return n(e,[" ","\n","\t"])},t.splitByCommas=function(e){return n(e,[","],{last:!0})}})),FI=["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"],BI=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSize=function(e){return/^[\d\.]/.test(e)||-1!==e.indexOf("/")||-1!==FI.indexOf(e)}})),UI=r(i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=["style","weight","stretch","variant"];function r(e,t){return void 0===t&&(t=Error),new t("[parse-css-font] "+e)}function i(e){var t=parseFloat(e);return t.toString()===e?t:e}t.default=function(e){if("string"!=typeof e)throw r("Expected a string.",TypeError);if(""===e)throw r("Cannot parse an empty string.");if(-1!==RI.indexOf(e))return{system:e};var t={lineHeight:"normal",stretch:"",style:"",variant:"",weight:""},o=[function(e){if(-1===jI.indexOf(e))return;if(t.style)throw r("Font style already defined.");return t.style=e},function(e){if(-1===NI.indexOf(e))return;if(t.weight)throw r("Font weight already defined.");return t.weight=e},function(e){if(-1===DI.indexOf(e))return;if(t.stretch)throw r("Font stretch already defined.");return t.stretch=e},function(e){return!BI.isSize(e)&&(t.variant=t.variant?[t.variant,e].join(" "):e)}],a=LI.splitBySpaces(e);e:for(var s=a.shift();s;s=a.shift())if("normal"!==s){for(var c=0,u=o;c<u.length;c++){if((0,u[c])(s))continue e}var l=LI.split(s,["/"]);if(t.size=l[0],l[1]?t.lineHeight=i(l[1]):"/"===a[0]&&(a.shift(),t.lineHeight=i(a.shift())),!a.length)throw r("Missing required font-family.");t.family=LI.splitByCommas(a.join(" ")).map(OI);for(var f=0,d=n;f<d.length;f++){var h=d[f];t[h]=t[h]||"normal"}return t}throw r("Missing required font-size.")},e.exports=Object.assign(t.default,t)}))),qI={moveTo:0,lineTo:0,bezierCurveTo:0,quadraticCurveTo:0,arc:0,arcTo:0,ellipse:0,rect:0,addPath:0,closePath:0},WI=function(){function e(){this._paths=[]}var t=e.prototype;return t.addPath=function(t,n){t instanceof e?this._paths.push(["addPath",[t.toJSON(),n]]):ps.warn("Please pass Path2D object as first argument")},t.toJSON=function(){return["path2d",this._paths]},ls(e)}();WI._=_S(WI,qI,(function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._paths.push([e,n])}}));var VI="sans-serif",zI=12,HI=64,GI={arc:2,arcTo:2,bezierCurveTo:2,closePath:2,moveTo:2,quadraticCurveTo:2,rect:2,clearRect:4,fillText:4,fillRect:4,restore:4,rotate:4,save:4,scale:4,strokeText:4,strokeRect:4,transform:4,translate:4,clip:20,fill:20,stroke:20,setTransform:4,setLineDash:4,fillStyle:72,shadowOffsetX:8,shadowOffsetY:8,shadowColor:8,shadowBlur:8,strokeStyle:72,lineWidth:8,lineCap:8,lineJoin:8,miterLimit:8,lineDashOffset:8,globalAlpha:8,globalCompositeOperation:8,textAlign:8,textBaseline:8,setLineCap:zI,setLineJoin:zI,setLineWidth:zI,setMiterLimit:zI,setTextAlign:zI,setTextBaseline:zI,setGlobalAlpha:zI,setFillStyle:76,setStrokeStyle:76,setShadow:4};function JI(){}var KI=function(){function e(e,t){this.type=e,this.data=t,this.colorStop=[]}var t=e.prototype;return t.addColorStop=function(e,t){this.colorStop.push([e,t])},t.toJSON=function(){return[this.type,this.data,this.colorStop]},ls(e)}(),$I=function(){function e(e,t){this.image=e,this.repetition=t}return e.prototype.toJSON=function(){return["pattern",this.image,this.repetition]},ls(e)}(),YI=function(){function e(e,t,n,r){var i=this;this.canvasId=e,this.appKey=t,this.webviewId=n,this.cmpId=r,this.path=[],this.actions=[],this._font={value:"10px sans-serif",fontSize:10,fontFamily:[VI]},this._propertyValue=new Map,this.tunnel=new EI({send:function(e){jS("canvas"+i.appKey+i.cmpId+i.canvasId+"Tunnel",e,[i.webviewId])}},{})}var t=e.prototype;return t.draw=function(e,t){var n=this;void 0===e&&(e=!1),void 0===t&&(t=JI);var r=[].concat(this.actions);this.actions=[],this.path=[];var i={canvasId:this.canvasId,webviewId:this.webviewId,appKey:this.appKey,cmpId:this.cmpId,actions:r,reserve:e,callback:t};TI.hasCanvasInserted(this.webviewId,this.cmpId,this.canvasId)?QI(i):TI.cacheAction(this.webviewId,this.cmpId,this.canvasId,(function(e){e!==n.cmpId&&(n.cmpId=e),i.cmpId=e,QI(i)}))},t.createPath2D=function(){return new WI},t.beginPath=function(){this.path=[],this._pushAction(AI.beginPath)},t.lineTo=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.path.length>0?this._pushPath(AI.lineTo,t):this._pushPath(AI.moveTo,t)},t.setFontSize=function(e){if(e=+e,!Number.isNaN(e)){e=Math.max(e,0);var t=this._font.value;this._font.fontSize=e,this._font.value=t.replace(/\d+\.?\d*(?=px)/,""+e),this._pushAction(AI.setFont,[this._font.value])}},t.createLinearGradient=function(e,t,n,r){return new KI("linear",[e,t,n,r])},t.createCircularGradient=function(e,t,n){return new KI("radial",[e,t,0,e,t,n])},t.drawImage=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ps.log("drawImage inner webcanvas",e,n);var i=n.length;if(2!==i&&4!==i&&8!==i)throw new Error("drawImage parameters are invalid");this._pushAction(AI.drawImage,[this._normalizeImagePath(e)].concat(n))},t.measureText=function(e){e=null==e?""+e:e.toString();var t={width:0},n=this._font;return LS("measureText",{fontSize:n.fontSize,font:n.fontFamily,text:e,success:function(e){void 0===e&&(e={}),t=e.data||t}}),t},t.createPattern=function(e,t){return new $I(this._normalizeImagePath(e),t)},t.getImageData=function(e,t,n,r,i){this._runCommand("getImageData",{sx:e,sy:t,sw:n,sh:r},(function(e,t){if(e){var n={errMsg:"getImageData:fail"};return null==i||null==i.fail||i.fail(n),void(null==i||null==i.complete||i.complete(n))}var r={errMsg:"getImageData:ok",width:t.width,height:t.height,data:new Uint8ClampedArray(t.data)};null==i||null==i.success||i.success(r),null==i||null==i.complete||i.complete(r)}))},t.putImageData=function(e,t,n,r,i,o,a,s){s="number"==typeof r?s:r;var c={width:e.width,height:e.height,data:Array.from(e.data)},u="number"==typeof i?{imageData:c,dx:t,dy:n,dirtyX:r,dirtyY:i,dirtyWidth:o,dirtyHeight:a}:{imageData:c,dx:t,dy:n};this._runCommand("putImageData",u,(function(e){var t,n,r,i={errMsg:"putImageData:"+(e?"fail":"ok")};e?null==(n=s)||null==n.fail||n.fail(i):null==(r=s)||null==r.success||r.success(i);null==(t=s)||null==t.complete||t.complete(i)}))},t.isPointInStroke=function(){for(var e,t=this.actions.length-1;t>=0;t--)if(this.actions[t][0]===AI.setLineDash){e=this.actions[t][1][0];break}for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];this._checkPointIn("isPointInStroke",{lineWidth:this._getProperty("lineWidth"),lineDash:e,lineDashOffset:this._getProperty("lineDashOffset")},r)},t.isPointInPath=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[2]?e=n[2]:"string"==typeof n[3]&&(e=n[3]),this._checkPointIn("isPointInPath",{fillRule:e},n)},t._checkPointIn=function(e,t,n){var r,i,o,a,s;if("number"==typeof n[0]&&"number"==typeof n[1])i=void 0,o=n[0],a=n[1],s=n[2];else{if(!(n[0]instanceof WI&&"number"==typeof n[1]&&"number"==typeof n[2])){var c,u;s="object"==typeof n[2]?n[2]:"object"==typeof n[3]?n[3]:void 0;var l={errMsg:e+":fail arguments are not valid"};return null==(c=s)||null==c.fail||c.fail(l),void(null==(u=s)||null==u.complete||u.complete(l))}i=n[0],o=n[1],a=n[2],s=n[3]}this._runCommand(e,Object.assign({x:o,y:a,path:null!=(r=i)?r:["path2d",this.path]},t),(function(t,n){var r,i;if(t){var o,a,c={errMsg:e+":fail "+t.message};return null==(o=s)||null==o.fail||o.fail(c),void(null==(a=s)||null==a.complete||a.complete(c))}var u={errMsg:"isPointInStroke:ok",result:n};null==(r=s)||null==r.success||r.success(u),null==(i=s)||null==i.complete||i.complete(u)}))},t._normalizeImagePath=function(e){return e.startsWith("ttfile://")&&LS("protocolPathToAbsPath",{protocolPath:e,success:function(t){var n=t.absPath;n.startsWith("file://")||n.startsWith("native-resource://")||(n="file://"+n),e=n}}),e},t._getProperty=function(e){return this._propertyValue.get(xI(e))},t._setProperty=function(e,t){this._pushAction(AI.setProperty,[e,t]),this._propertyValue.set(xI(e),t)},t._pushAction=function(e,t){this.actions.push(void 0!==t?[e,t]:[e])},t._pushPath=function(e,t){this.path.push(void 0!==t?[e,t]:[e])},t._runCommand=function(e,t,n){var r=this;TI.hasCanvasInserted(this.webviewId,this.cmpId,this.canvasId)?(DS("canvas"+this.appKey+this.cmpId+this.canvasId+"Tunnel",(function(e,t){t===r.webviewId&&r.tunnel.onMessage(e)})),this.tunnel.call(e,[t]).then((function(e){return n(null,e)})).catch((function(e){return n(e,void 0)}))):TI.cacheAction(this.webviewId,this.cmpId,this.canvasId,(function(i){i!==r.cmpId&&(r.cmpId=i),r._runCommand(e,t,n)}))},ls(e,[{key:"font",get:function(){return this._font.value},set:function(e){try{var t=UI(e);if("size"in t&&"family"in t&&t.size&&t.family){var n=t.size,r=t.family;r.includes(VI)||r.push(VI);var i=n.endsWith("px")?parseInt(n.slice(0,-2),10):NaN;Number.isNaN(i)||(this._font={value:e,fontSize:i,fontFamily:r})}this._pushAction(AI.setFont,[e])}catch(t){ps.warn("No support canvas font syntax: "+e+"("+t.message+")")}}}]),e}();function QI(e){ps.log("invoke callDraw",e);var t=e.canvasId,n=e.webviewId,r=e.appKey,i=e.cmpId,o=e.actions,a=e.reserve,s=e.callback,c="xxxxxxxx".replace(/x/g,(function(){return(16*Math.random()|0).toString(16)}));jS("canvas"+r+i+t+"Draw",{actions:o,reserve:a,randid:c},[n]),DS("canvas"+r+i+t+"DrawDone"+c,(function(e){s()}))}function XI(e,t){var n=MI(e),r={enumerable:!1,configurable:!0};if(4==(t&zI))r.value=16&t?function(){this._pushAction(n,[].concat(this.path))}:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._pushAction(n,t)};else if(8==(8&t)){var i=4==(4&t),o=(t&HI)===HI,a=MI(i?""+e.charAt(3).toLowerCase()+e.slice(4):e),s=o?function(t){"string"==typeof t||"number"==typeof t||t instanceof KI||t instanceof $I?this._setProperty(a,t):ps.warn('Canvas: Only string, number, Gradient, Pattern value are valid for property "'+e+'", values of other types will be ignored. The type of current value is '+typeof t+".")}:function(t){"string"==typeof t||"number"==typeof t?this._setProperty(a,t):ps.warn('Canvas: Only string, number value are valid for property "'+e+'", values of other types will be ignored. The type of current value is '+typeof t+".")};i?r.value=s:(r.set=s,r.get=function(){})}else 2==(2&t)&&(r.value=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._pushPath(n,t)});if(r.value)r.writable=!1;else if(!r.set)return null;return r}YI._=_S(YI,GI,XI);var ZI=OS(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t);return{F:n,d:[{kind:"field",key:"manager",value:function(){return TI}},{kind:"method",decorators:[$S()],key:"createCanvasContext",value:function(e,t){var n,r=this.container.appKey,i=getCurrentPages(),o=i.length>=1?i[i.length-1].__webviewId__:-1;return ps.log("createCanvasContext",e,o),new YI(e,r,o,null!=(n=null==t?void 0:t.__nodeId__)?n:0)}},{kind:"method",decorators:[$S()],key:"canvasToTempFilePath",value:function(e,t){var n=this;this.createCanvasContext(e.canvasId,t)._runCommand("canvasToTempFilePath",e,(function(t,r){var i;t?n.beforeInvokeFail("canvasToTempFilePath",e,null!=(i=null==t?void 0:t.message)?i:""):LS("base64ToTempFilePath",Object.assign({base64Data:r.dataUrl},e),{beforeAll:function(e){e.errMsg=e.errMsg.replace("base64ToTempFilePath","canvasToTempFilePath")}})}))}},{kind:"method",decorators:[$S()],key:"canvasGetImageData",value:function(e,t){this.createCanvasContext(e.canvasId,t).getImageData(e.x,e.y,e.width,e.height,e)}},{kind:"method",decorators:[$S()],key:"canvasPutImageData",value:function(e,t){this.createCanvasContext(e.canvasId,t).putImageData({width:e.width,height:e.height,data:e.data},e.x,e.y,e)}},{kind:"method",key:"setup",value:function(){var e=this;HC(_w(n.prototype),"setup",this).call(this),this.subscribe("canvasInsert",(function(t,n){ps.log("subscribe [canvasInsert]",t,n),e.manager.insertCanvas(n,t.cmpId,t.canvasId)})),this.subscribe("canvasRemove",(function(t,n){ps.log("subscribe [canvasRemove]",t,n),e.manager.removeCanvas(n,t.cmpId,t.canvasId)}))}}]}}),QS),eT=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"createSelectorQuery",value:function(e){var t=null;if(null!=e&&e.page)t=e.page.__webviewId__;else{var n=o_();if(0===n.length)return null;t=n[n.length-1].__webviewId__}return new tT(t)}}]}}),QS),tT=function(){function e(e){var t=this;this._webviewid=e,this._component=-1,this._queue=[],this._queueCb=[],"kernel"===Km().runningSpace&&Object.defineProperties(this,{kernelSelect:{writable:!1,configurable:!1,enumerable:!1,value:function(e,n,r){return void 0===n&&(n=-1),void 0===r&&(r=!1),new rT(t,n,e,!0,r)}},kernelSelectAll:{writable:!1,configurable:!1,enumerable:!1,value:function(e,n,r){if(void 0===n&&(n=-1),void 0===r&&(r=!1),"string"!=typeof e)throw new Error("kernelSelectAll only accept string selector");return new rT(t,n,e,!1,r)}}})}var t=e.prototype;return t.in=function(e){return null===this._webviewid?(this._webviewid=e.__webviewId__,this._component=e.__nodeId__):this._webviewid===e.__webviewId__?this._component=e.__nodeId__:ps.error("A single SelectorQuery could not work in components in different pages. A SelectorQuery#in call has been ignored and the page root is used as the current component."),this},t.select=function(e){return new nT(this,this._component,e,!0)},t.selectAll=function(e){return new nT(this,this._component,e,!1)},t.selectViewport=function(){return new nT(this,0,"",!0)},t._push=function(e,t,n,r,i){this._queue.push({component:t,selector:e,single:n,fields:r}),this._queueCb.push(i?sS(i,"at tt.createSelectorQuery callback"):null)},t.exec=function(e){var t=this,n=function(){!function(e,t,n){iT++,oT[iT]=n,jS("requestComponentInfo",{reqId:iT,reqs:t},[e])}(t._webviewid,t._queue,(function(n){var r=t._queueCb;n.forEach((function(e,n){var i=t._queue[n];if(i.fields.context&&e)for(var o,a=i.single?[e]:e,s=us(a);!(o=s()).done;){var c=o.value;if(c.context)switch(c.context.type){case"canvas":var u=Km().getContainer(Uw).appKey;c.context=new YI(c.context.canvasId,u,t._webviewid,c.context.cmpId);break;default:c.context=null}}if(Km().newFramework){var l=Km().getContainer().getRenderer(t._webviewid);Array.isArray(e)?e.forEach((function(e){null!==e&&l.restoreDataset(e)})):null!==e&&l.restoreDataset(e)}var f=r[n];"function"==typeof f&&f.call(t,e)})),"function"==typeof e&&p_(e,[n],{context:t,errMsg:"at tt.createSelectorQuery callback"})}))};if(Km().newFramework){var r=Km().getContainer().getRenderer(this._webviewid);if(null!=r&&r.pending)return r.nextRender(n)}return n()},ls(e)}(),nT=function(){function e(e,t,n,r){this._selectorQuery=e,this._component=t,this._selector=n,this._single=r}var t=e.prototype;return t.fields=function(e,t){return this._selectorQuery._push(this._selector,this._component,this._single,e,t),this._selectorQuery},t.boundingClientRect=function(e){return this.fields({id:!0,dataset:!0,rect:!0,size:!0},e)},t.scrollOffset=function(e){return this.fields({id:!0,dataset:!0,scrollOffset:!0},e)},t.context=function(e){return this.fields({context:!0},e)},ls(e)}(),rT=function(e){function t(t,n,r,i,o){var a;return void 0===o&&(o=!1),(a=e.call(this,t,n,r,i)||this)._rangSelect=o,a}hm(t,e);var n=t.prototype;return n.fields=function(t,n){return e.prototype.fields.call(this,Object.assign({},t,{_rangeSelect:this._rangSelect}),n)},n.triggerEvent=function(e,t,n){return this.fields({_triggerEvent:{event:e,argument:t}},n)},n.callMethod=function(e,t,n){return this.fields({_callMethod:{method:e,args:null!=t?t:[]}},n)},ls(t)}(nT),iT=1,oT={};DS("responseComponentInfo",(function(e,t){var n=e.reqId,r=oT[n];if(r){delete oT[n];var i=Km();if(i.newFramework){var o=i.getContainer().getRenderer(t);o&&(e.res.forEach((function(e){o.restoreDataset(e)})),r(e.res))}else r(e.res)}}));var aT=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"login",value:function(e){var t=Object.assign({force:!0},e),n="ios"!==TMAConfig.platform?"login":"tma_login";this.invokeMethod(n,t,{beforeAll:function(e){e.errMsg=e.errMsg.replace("tma_login","login")}})}},{kind:"field",decorators:[$S()],key:"checkSession",value:function(){return this.createInvokeMethodApi("checkSession")}}]}}),QS),sT=function(){function e(e,t){this.store=void 0,this.enabled=void 0,this._storageInfo=void 0;try{var n=JSON.parse(e);this.store=new Map(Object.entries(n).map((function(e){var t=e[0],n=e[1],r=n.type,i=n.value;return[t,uS(i,r)]})));var r=JSON.parse(t);if(r.keys=JSON.parse(r.keys),r.keySet=new Set(r.keys),I_(null==r?void 0:r.currentSize)||I_(null==r?void 0:r.limitSize)||!Array.isArray(null==r?void 0:r.keys))throw new Error("irlegal storageInfo");this._storageInfo=r,this.enabled=!0}catch(e){Lb(Jy,cb).addMap({api_name:"_storageBuffer",error:"StorageBufferInitFail: "+(null==e?void 0:e.message),stack:null==e?void 0:e.stack}).flush(),this.store=new Map,this.enabled=!1}}var t=e.prototype;return t.has=function(e){return this.store.has(e)},t.setCurrentSize=function(e){this.isEnabled&&(this.storageInfo.currentSize=e)},t.get=function(e){return this.store.get(e)},t.getString=function(e){return cS(this.store.get(e))},t.remove=function(e){var t,n;this.store.delete(e),null==(t=this._storageInfo)||null==(n=t.keySet)||null==n.delete||n.delete(e)},t.clear=function(){var e,t;this.store.clear(),null==(e=this._storageInfo)||null==(t=e.keySet)||null==t.clear||t.clear()},t.set=function(e,t){var n,r;this.store.set(e,t),null==(n=this._storageInfo)||null==(r=n.keySet)||null==r.add||r.add(e)},ls(e,[{key:"storageInfo",get:function(){var e=this._storageInfo,t=e.currentSize,n=e.limitSize,r=e.keySet;return{currentSize:t,limitSize:n,keys:Array.from(r.keys())}}},{key:"isEnabled",get:function(){return this.enabled}}]),e}(),cT=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",key:"inited",value:function(){return!1}},{kind:"field",key:"buf",value:void 0},{kind:"field",decorators:[$S()],key:"getStorage",value:function(){var e=this;return this.createInvokeMethodApi("getStorage",{addStandardError:!0,checkParams:{key:""},beforeSuccess:function(t,n){var r,i,o=t;(o.data=uS(o.data,o.dataType),r=null==n?void 0:n.get("key"))&&(null==(i=e.getStorageBuf())||i.set(r,o.data));delete o.dataType},beforeInvokeHook:function(t,n){var r,i,o=t.key;if(null!=(r=e.getStorageBuf())&&r.has(o))return null==(i=e.getStorageBuf())||null==i.getString?void 0:i.getString(o);null==n||n.set("key",o)}})}},{kind:"field",decorators:[$S()],key:"getStorageSync",value:function(){var e=this;return function(t){var n,r;if(e.beforeInvoke("getStorageSync",t,""))return(r=null==(n=e.getStorageBuf())||null==n.get?void 0:n.get(t))||e.invokeMethod("getStorageSync",{key:t},{beforeAll:function(e){void 0===e&&(e={}),r=uS(e.data,e.dataType)},beforeSuccess:function(){var n;null==(n=e.getStorageBuf())||n.set(t,r)}}),r}}},{kind:"field",decorators:[$S()],key:"setStorage",value:function(){var e=this;return this.createInvokeMethodApi("setStorage",{paramsTransformer:function(e,t){var n=e.key,r=e.data,i=cS(r);return null==t||t.set("data",r),null==t||t.set("key",n),Object.assign({},e,{key:n,data:i.data,dataType:i.dataType})},beforeSuccess:function(t,n){var r,i,o,a,s=t.currentSize;(null==(r=e.getStorageBuf())||null==r.setCurrentSize||r.setCurrentSize(s),(i=null==n?void 0:n.get("key"))&&(o=null==n?void 0:n.get("data")))&&(null==(a=e.getStorageBuf())||null==a.set||a.set(i,o))}})}},{kind:"field",decorators:[$S()],key:"setStorageSync",value:function(){var e=this;return function(t,n){if(void 0===n&&(n=""),e.beforeInvoke("setStorageSync",t,"")){var r,i,o=cS(n),a=o.data,s=o.dataType,c=!1,u="";if(e.invokeMethod("setStorageSync",{key:t,data:a,dataType:s,fail:function(e){void 0===e&&(e={}),u=e.errMsg,r=e.errString,i=e.errno,c=!0}},{beforeSuccess:function(r){var i,o,a=r.currentSize;(null==(i=e.getStorageBuf())||null==i.set||i.set(t,n),C_(a))&&(null==(o=e.getStorageBuf())||null==o.setCurrentSize||o.setCurrentSize(a))}}),c){var l=new Ow(u);throw l.errString=r,l.errno=i,l}}}}},{kind:"field",decorators:[$S()],key:"removeStorage",value:function(){return this.createInvokeMethodApi("removeStorage",{addStandardError:!0,checkParams:{key:""}})}},{kind:"field",decorators:[$S()],key:"removeStorageSync",value:function(){var e=this;return function(t){e.beforeInvoke("removeStorageSync",t,"")&&e.invokeMethod("removeStorageSync",{key:t},{beforeSuccess:function(n){var r,i,o=n.currentSize;C_(o)&&(null==(i=e.getStorageBuf())||null==i.setCurrentSize||i.setCurrentSize(o));null==(r=e.getStorageBuf())||null==r.remove||r.remove(t)}})}}},{kind:"field",decorators:[$S()],key:"clearStorage",value:function(){var e=this;return this.createInvokeMethodApi("clearStorage",{beforeSuccess:function(t){var n,r,i=t.currentSize;C_(i)&&(null==(r=e.getStorageBuf())||null==r.setCurrentSize||r.setCurrentSize(i));null==(n=e.getStorageBuf())||null==n.clear||n.clear()}})}},{kind:"field",decorators:[$S()],key:"clearStorageSync",value:function(){var e=this;return function(){e.invokeMethod("clearStorageSync",{},{beforeSuccess:function(t){var n,r=t.currentSize;C_(r)&&(null==(n=e.getStorageBuf())||null==n.setCurrentSize||n.setCurrentSize(r))}})}}},{kind:"field",decorators:[$S()],key:"getStorageInfo",value:function(){var e=this;return this.createInvokeMethodApi("getStorageInfo",{beforeInvokeHook:function(){var t=e.getStorageBuf();if(t)return Object.assign({},t.storageInfo,{errMsg:""})}})}},{kind:"field",decorators:[$S()],key:"getStorageInfoSync",value:function(){var e=this;return function(){var t,n;return(n=null==(t=e.getStorageBuf())?void 0:t.storageInfo)||e.invokeMethod("getStorageInfoSync",{},{beforeAll:function(e){n=e,delete e.errMsg}}),n}}},{kind:"method",key:"getStorageBuf",value:function(){return this.inited||(this.buf=this.initBuf()),this.buf}},{kind:"method",key:"initBuf",value:function(){var e;this.inited=!0;var t=Km().global,n=t.nativeStorageInfo,r=t.nativeStorage,i=null!=n&&n.data&&null!=r&&r.data?new sT(r.data,n.data):void 0;return null!=(e=i)&&e.isEnabled||(i=void 0),i}}]}}),QS),uT=0,lT=new WeakMap,fT=new WeakMap,dT=new WeakMap,hT=new WeakMap,pT={},vT=new pm;FS("onSocketTaskStateChange",(function(e){void 0===e&&(e={});var t=e.state,n=e.socketTaskId,r=pT[n],i=lT.get(r);delete e.state,delete e.socketTaskId,r&&("open"===t?r.readyState=r.OPEN:"close"!==t&&"error"!==t||(r.readyState=r.CLOSED),vT.emit(""+i+t,e),vT.emit("onSocket"+(t[0].toUpperCase()+t.substr(1)),{res:e,task:r}),"close"===t&&(delete pT[n],vT.off(i+"open"),vT.off(i+"close"),vT.off(i+"error"),vT.off(i+"message")),mT(r,t))}));var gT=function(e,t){lT.get(this),vT.on(""+lT.get(this)+e,sS(t,"at socketTask.on"+e+" callback function"))};function mT(e,t){if(e&&"message"!==t){var n="open"===t?_b:"close"===t||"error"===t?Sb:"max"===t?Cb:null,r=dT.get(e);if(r&&n){var i=r.url;"string"!=typeof i&&(i="");var o={socket_url:i.split("?")[0],socket_state:t,socket_connected_count:Object.keys(pT).length};Lb($y,n).setPlatform("TeaSlardar").addMap(o).flush()}}}var yT,bT=function(){function e(e,t,n){var r=this;this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3,this.readyState=this.CONNECTING;var i,o=uT++;if(lT.set(this,o),dT.set(this,t),hT.set(this,n),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1}),["success","fail","complete"].forEach((function(e){"function"==typeof t[e]&&(t[e]=sS(t[e],"at api connectSocket "+e+" callback function"))})),Object.keys(pT).length>=5)return this.readyState=this.CLOSED,"function"==typeof t.fail&&t.fail({errMsg:"connectSocket:fail reach max websocket connect count 5"}),mT(this,"max"),this;n.invokeMethod("createSocketTask",t,{beforeAll:function(e){e.errMsg=e.errMsg.replace("createSocketTask","connectSocket")},beforeSuccess:function(e){fT.set(r,e.socketTaskId),pT[e.socketTaskId]=r},beforeFail:function(e){i=e.errMsg}}),i&&(this.readyState=this.CLOSED,setTimeout((function(){vT.emit(o+"error",{errMsg:i})}),0))}var t=e.prototype;return t.send=function(e){US("SocketTask.send",e,{})&&("[object Object]"===Object.prototype.toString.call(e.data)&&(e.data=JSON.stringify(e.data)),this.readyState===this.OPEN?hT.get(this).invokeMethod("operateSocketTask",Object.assign({},e,{operationType:"send",socketTaskId:fT.get(this)}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateSocketTask","sendSocketMessage")}}):qS("SocketTask.send",e,"SocketTask.readState is not OPEN"))},t.close=function(e){void 0===e&&(e={}),hT.get(this).invokeMethod("operateSocketTask",Object.assign({},e,{operationType:"close",code:1e3,socketTaskId:fT.get(this)}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateSocketTask","closeSocket")}})},t.onOpen=function(e){gT.call(this,"open",e)},t.onClose=function(e){gT.call(this,"close",e)},t.onMessage=function(e){gT.call(this,"message",e)},t.onError=function(e){gT.call(this,"error",e)},ls(e)}(),kT=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",key:"socketTaskPool",value:function(){return new WeakMap}},{kind:"field",key:"commandCallbackMap",value:function(){return{}}},{kind:"field",key:"instanceKey",value:function(){return{}}},{kind:"method",decorators:[$S()],key:"connectSocket",value:function(e){if(this.beforeInvoke("connectSocket",e,{url:""})){if(!tS(e.url,"websocket"))return void this.beforeInvokeFail("request",e,'invalid url "'+e.url+'"');e.protocols&&!T_(e.protocols)&&this.beforeInvokeFail("connectSocket",e,"protocols should be an array."),function(e){return T_(e)&&0===e.length}(e.protocols)&&(e.protocols=null,delete e.protocols),"object"!=typeof e.header&&void 0!==e.header&&delete e.header;var t={};e.header&&(t=rS(e.header));try{var n=this.socketTaskPool.get(this.instanceKey),r=new bT(this.instanceKey,Object.assign({},e,{header:t,header2:Object.keys(t).map((function(e){return[e,String(t[e])]}))}),this.container.bridge);return n&&n.readyState!==n.CLOSED||this.socketTaskPool.set(this.instanceKey,r),r}catch(t){this.beforeInvokeFail("connectSocket",e,t.message)}}}},{kind:"method",key:"closeSocket",value:function(e){var t=this.socketTaskPool.get(this.instanceKey);for(var n in t&&t.readyState!==t.CLOSED?(t.readyState=t.CLOSED,t.close(e)):this.beforeInvokeFail("closeSocket",e,"WebSocket is not connected"),pT){var r=pT[n];r.__socketInstance__===this.instanceKey&&(r.readyState=r.CLOSED,r!==t&&r.close())}}},{kind:"method",key:"sendSocketMessage",value:function(e){var t=this.socketTaskPool.get(this.instanceKey);t&&t.readyState===t.OPEN?t.send(e):this.beforeInvokeFail("sendSocketMessage",e,"WebSocket is not connected")}},{kind:"field",key:"onSocketOpen",value:function(){return this.onSocket(this.instanceKey,"Open")}},{kind:"field",key:"onSocketClose",value:function(){return this.onSocket(this.instanceKey,"Close")}},{kind:"field",key:"onSocketMessage",value:function(){return this.onSocket(this.instanceKey,"Message")}},{kind:"field",key:"onSocketError",value:function(){return this.onSocket(this.instanceKey,"Error")}},{kind:"method",key:"onSocket",value:function(e,t){var n=this;return this.commandCallbackMap[t]||(this.commandCallbackMap[t]=new WeakMap,vT.on("onSocket"+t,this._check(t))),function(r){n.beforeInvoke("onSocket"+t,r,BS)&&n.commandCallbackMap[t].set(e,r)}}},{kind:"method",key:"_check",value:function(e){var t=this;return function(n){var r=n.res,i=n.task,o=i.__socketInstance__,a=t.commandCallbackMap[e].get(o),s=t.socketTaskPool.get(o);a&&i===s&&sS(a,"at onSocket"+e+" callback function")(r)}}}]}}),QS),wT=OS(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t);return{F:n,d:[{kind:"field",decorators:[$S()],key:"WindowResize",value:function(){return this.createEventApi(Sy)}},{kind:"method",key:"setup",value:function(){var e=this;HC(_w(n.prototype),"setup",this).call(this),this.container,this.container.emitter.on(Sy,(function(t){e.emitter.emit(Sy,t)}))}}]}}),QS),_T=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",key:"_leaveConfirmConfig",value:function(){return{}}},{kind:"method",decorators:[$S()],key:"enableLeaveConfirm",value:function(e){var t=this;void 0===e&&(e={});e=Object.assign({},{effect:["back","close"],title:"",content:"",confirmText:"",cancelText:"",confirmColor:"#3CC51F",cancelColor:"#000000"},e);var n=function(n,r){return IS(e[n])>r&&(t.beforeInvokeFail("enableLeaveConfirm",e,"invalid parameter: "+n+" length can not exceed "+r+" characters"),!0)};this.beforeInvoke("enableLeaveConfirm",e,{effect:[],title:"String",content:"String",confirmText:"String",cancelText:"String",confirmColor:"String",cancelColor:"String"})&&(0===e.effect.length?this.beforeInvokeFail("enableLeaveConfirm",e,"invalid parameter: effect length can not be empty"):e.title||e.content?n("title",16)||n("content",80)||n("confirmText",8)||n("cancelText",8)||this.invokeMethod("enableLeaveConfirm",e,{beforeSuccess:function(){t._leaveConfirmConfig=function(e){return e.success,e.fail,e.complete,e.cancel,Dw(e,b_)}(e)}}):this.beforeInvokeFail("enableLeaveConfirm",e,"invalid parameter: title and content can not be empty at the same time"))}},{kind:"field",decorators:[$S()],key:"disableLeaveConfirm",value:function(){var e=this;return this.createInvokeMethodApi("disableLeaveConfirm",{beforeSuccess:function(){e._leaveConfirmConfig={}}})}},{kind:"field",decorators:[$S()],key:"LeaveConfirmCancel",value:function(){return this.createNativeEventApi("onLeaveConfirmCancel")}},{kind:"field",key:"composeSafariCache",value:function(){var e=this;return function(){return{leaveConfirmConfig:e._leaveConfirmConfig}}}}]}}),QS),ST=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"shareWebContent",value:function(){return this.createInvokeMethodApi("shareWebContent")}}]}}),QS),CT=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"setMiniProgramCopyable",value:function(){var e=this;return function(t){var n,r,i=t.enable,o=void 0===i||i;null==(n=Km())||null==(r=n.getContainer())||r.setAppCopyable(!!o),e.publish("onSetAppCopyable",{enable:o},e.container.getAllPageWebviewIds());var a={errString:"setMiniProgramCopyable:ok",errno:0,errMsg:"setMiniProgramCopyable:ok"};["success","complete"].forEach((function(e){"function"==typeof t[e]&&t[e](a)}))}}}]}}),QS),IT=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"reportAnalytics",value:function(){var e=this;return function(t,n,r){if(!lS(t)||!t)throw new xw("eventName must be a string.");if(t.length>110)throw new xw("eventName exceeded the maximum length: 110.");if(!__(n))throw new xw("data must be an object.");0!==r&&1!==r&&(r=0);var i,o=Object.keys(n),a={value:{}};if(o.length>256)throw new xw("data exceeded the maximum number of fields: 256.");o.filter((function(e){return!__(n[e])})).forEach((function(e){if(e.length>128)throw new xw(e+" exceeded the maximum number of bytes: 128.");if(String(n[e]).length>1024)throw new xw("the value of data["+e+"] exceeded the maximum number of bytes: 1024.");if(e&&"_"===e[0]&&1!==r)throw new xw("the key first char can not be _.");if(("mp_id"===e||"mp_name"===e)&&1!==r)throw new xw("the key can not be mp_name or mp_id.");a.value[e]=n[e]})),null!=n&&n.page_path&&(i={page:null==n?void 0:n.page_path}),Yk.mark({name:zb,type:zk,extra:i,start:null==n?void 0:n.timestamp}),e.invokeMethod("reportAnalytics",Object.assign({},a,{event:t,type:r}))}}},{kind:"field",decorators:[$S()],key:"reportTTI",value:function(){var e=this;return function(t){var n,r=getCurrentPages();return e.reportAnalytics("mp_page_tti",{timestamp:"number"==typeof(null==t?void 0:t.timestamp)?t.timestamp:Date.now(),page_path:"string"==typeof(null==t?void 0:t.pagePath)?t.pagePath:null==(n=r[r.length-1])?void 0:n.__route__})}}}]}}),QS);!function(e){e.BLOCK="block",e.CREATOR="creator"}(yT||(yT={}));var TT=["onLoad","onReady","onShow","onHide","onUnload","onReload"],AT=["setup","created","ready","attached","moved","detached"],ET=["__webviewId__","__route__","route","data"],MT=function(e){var t=this,n=this.route=this.__route__;__(e.data)?this.data=Yw(e.data):(ps.error("Page.data should be an object"),this.data={}),c_("page",this,e,TT,{context:this,route:n});var r=function(r){var i=e[r];if(ET.includes(r)||TT.includes(r))return"continue";e_(i)?t[r]=v_((function(){for(var e=Yk.startStack({name:gk(r),type:Fk,extra:{page:this.__route__}}),t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var a=i.apply(this,n);return Yk.endStack(e),a}),{errMsg:'in the "'+r+'" of the page "'+n+'"',context:t}):t[r]=Yw(e[r])};for(var i in e)r(i)};function xT(e,t,n,r){var i=e.__route__;if(s_(e,t)){var o=e[t];if(e_(o))return p_(o,n,{context:e,errMsg:'in the "'+t+'" of the page "'+i+'"'});ps.warn("The type "+typeof o+" of page "+i+' property "'+t+'" is not a function')}else r||ps.warn('Cannot found method "'+t+'" in page '+i)}var PT=new WeakMap,OT=function(e,t){var n=this;this.is=e.is,this.route=this.__route__,this.__properties__=Yw(e.standardizedProperties);var r=Yw(e.data);for(var i in this.__properties__)r[i]=this.__properties__[i].value;if(this.data=this.properties=r,"Object"===rm(t)&&this.__properties__)for(var o in t)this.__properties__[o]&&(this.data[o]=t[o]);TT.forEach((function(e){n[e]=$w}));var a=function(t){var r=e.methods[t];tm(r)&&(n[t]=v_((function(){for(var e=Yk.startStack({name:yk("name"),type:Uk,extra:{page:Yk.getPagePath(this.__webviewId__),component:this.__route__,webviewID:this.__webviewId__}}),t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=r.apply(this,n);return Yk.endStack(e),o}),{errMsg:"at "+n.__route__+" component "+t+" function",context:n}))};for(var s in e.methods)a(s);PT.set(this,e)},RT=function(e,t){var n=PT.get(e);return!(null==n||!n.hasBehavior(t))},NT=function(e,t,n){void 0===n&&(n={});var r=PT.get(e),i=Yk.startStack({name:mk(t),type:Bk,extra:{page:Yk.getPagePath(e.__webviewId__),component:e.__route__,webviewID:e.__webviewId__}});null==r||r.callbackLifetime(t,e,n),Yk.endStack(i)},jT=function(e,t,n){void 0===n&&(n=!1);var r=e.getContainer(),i=r.host.newFramework&&n?e.rind.data:e.properties,o=[];return Object.keys(t).forEach((function(a){var s=i[a];if(e.__properties__[a]){var c=e.__properties__[a].type,u=function(e,t){if("null"===t)return e;if(t===rm(e).toLowerCase())return e;switch(t){case"string":return null==e?"":"object"!=typeof e||Array.isArray(e)?e.toString():"[object Object]";case"number":var n=+e;return isNaN(n)?0:n;case"boolean":return!!e;case"array":return[];case"object":return Array.isArray(e)||null===e?e:"object"==typeof e?{}:null}}(t[a],c);t[a]=u,s!==u&&(r.host.newFramework&&n?(e.rind.data[a]=u,o.push({oldValue:Yw(s),newValue:Yw(u),key:a})):(e.data[a]=e.properties[a]=u,o.push({oldValue:s,newValue:u,key:a})))}var l,f=PT.get(e),d=r.getRenderer(e.__webviewId__);r.host.newFramework&&null!=f&&f.externalClasses.includes((void 0===am[l=a]&&(am[l]=l.replace(om,"$1-$2").toLowerCase()),am[l]))&&d&&d.setAttribute(e.rind.element,a,t[a])})),!r.host.newFramework&&n?DT(e,o,n):Promise.resolve().then((function(){return DT(e,o,n)})),t},DT=function(e,t,n){e.getContainer().host.newFramework&&n&&t.forEach((function(t){var n=t.key,r=t.newValue;e.data[n]=e.properties[n]=r})),t.forEach((function(t){var n=t.key,r=t.newValue,i=t.oldValue,o=e.__properties__[n].observer;if(function(e){return"string"==typeof e}(o)&&(o=e[o]),tm(o)){var a=Yk.startStack({name:bk(n),type:qk,extra:{page:Yk.getPagePath(e.__webviewId__),component:e.__route__,webviewID:e.__webviewId__}});p_(o,[r,i],{context:e,errMsg:'in the property "'+n+'" observer of the component '+e.__route__}),Yk.endStack(a)}}))};function LT(e,t){var n=t.type,r=t.data,i=t.webviewId,o=t.nodeId,a=e.C,s=e.componentInstances;if(a.hasOwnProperty(i)){var c=a[i].page,u=e.getRenderer(i);if(ps.info("Invoke event "+n+" in page: "+c.__route__),"__DOMReady"!==n){if("selectionChange"===n)return e.host.newFramework&&u&&r.selectedObject.forEach((function(e){u.restoreDataset(e)})),void("function"==typeof c.onSelectionChange?xT(c,"onSelectionChange",[r],!0):"function"==typeof c.onSelectChange&&(ps.deprecated("Please use onSelectionChange instead of onSelectChange"),xT(c,"onSelectChange",[r],!0)));if("onReachBottom"!==n&&"onPageScroll"!==n)return e.host.newFramework&&u?("target"in r&&u.restoreDataset(r.target),"currentTarget"in r&&u.restoreDataset(r.currentTarget),void u.triggerEvent(o,n,r)):o>0?s.hasOwnProperty(i)&&s[i].hasOwnProperty(o)?void function(e,t,n){if(s_(e,t)){var r=e[t];if(tm(r))p_(r,n,{context:e,errMsg:'in the method "'+t+" of the component "+e.__route__+'"'})}else ps.warn("The component "+e.__route__+' does not have a method "'+t+'"')}(s[i][o].instance,n,Array.isArray(r)?r:[r]):void ps.warn("Cannot found component "+o+" in webview "+i+" with event "+n):xT(c,n,[r]);xT(c,n,[r],!0)}else xT(c,"onReady",[],!0)}else ps.warn("Cannot found page "+i+' with event "'+n+'"')}var FT,BT=Kw("onWebviewEvent",(function(e,t){t.data&&!Array.isArray(t.data)&&"string"==typeof t.data.type&&(e.detectUserInteraction=t.data.type),LT(e,t),e.detectUserInteraction=null})),UT=function(e,t){var n=Km(),r=n.getContainer().getRenderer(t);n.newFramework&&r&&(r.restoreDataset(e.target),r.restoreDataset(e.currentTarget))};FS("onCoverImageTapped",(function(e,t){void 0===t&&(t=0);var n=Km().getContainer();if(e.data){var r=JSON.parse(e.data);r.bindtap&&(UT(r,t),BT(n,{data:{type:r.eventType||"cover-image",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{}},type:r.bindtap,webviewId:t,nodeId:r.nodeId}))}})),FS("onKeyboardValueChange",(function(e,t){jS("setKeyboardValue",{value:e.value,cursor:e.cursor,inputId:e.inputId},[t]),clearTimeout(FT),FT=setTimeout((function(){!function(e,t){void 0===t&&(t=0);var n=Km(),r=e.value,i=n.getContainer();if(e.data){var o=JSON.parse(e.data);if(UT(o,t),o.bindinput){var a=BT(i,{data:{type:"input",target:o.target,currentTarget:o.target,timeStamp:Date.now(),touches:[],detail:{value:e.value,cursor:e.cursor}},type:o.bindinput,webviewId:t,nodeId:o.nodeId});if(null==a||!1===a);else if("Object"===w_(a)){var s={inputId:e.inputId};r!=a.value&&void 0!==a.value&&(s.value=""+a.value),isNaN(parseInt(a.cursor,10))||(s.cursor=parseInt(a.cursor,10)),void 0===s.value&&(s.value=r),s.cursor>s.value.length&&(s.cursor=-1),LS("setKeyboardValue",s)}else{var c={value:""+a,cursor:-1,inputId:e.inputId};r!=a&&LS("setKeyboardValue",c)}}}}(e,t)}),60)})),[{message:"onVideoPlay",handlerName:"bindplay",type:"play"},{message:"onVideoPause",handlerName:"bindpause",type:"pause"},{message:"onVideoEnded",handlerName:"bindended",type:"ended"},{message:"onVideoError",handlerName:"binderror",type:"error"},{message:"onVideoTimeUpdate",handlerName:"bindtimeupdate",type:"timeupdate"},{message:"onVideoFullScreenChange",handlerName:"bindfullscreenchange",type:"fullscreenchange"},{message:"onVideoWaiting",handlerName:"bindwaiting",type:"waiting"},{message:"onTimeUpdate",handlerName:"bindtimeupdate",type:"timeupdate"}].forEach((function(e){var t=e.message,n=e.handlerName,r=e.type;FS(t,(function(e,t){var i=Km().getContainer();if(e.data){var o=JSON.parse(e.data);if(UT(o.event,t),o.handlers&&o.handlers[n]){var a={};"timeupdate"===r?(a.currentTime=e.currentTime/1e3,a.duration=e.duration/1e3):"fullscreenchange"===r?(a.fullScreen=e.fullScreen,a.direction=e.direction):"statechange"===r?a.code=e.code:"error"===r&&(a.errMsg=e.errMsg),BT(i,{data:{type:r,target:o.event.target,currentTarget:o.event.target,timeStamp:Date.now(),touches:[],detail:a},type:o.handlers[n],webviewId:t,nodeId:o.nodeId})}}}))})),DS("editorAtCallback",(function(e,t){var n=Km().getContainer(),r=e.data,i=r.nodeId,o=r.editorId;UT(e.data,t),delete e.data.nodeId,e.data.atFinderCallback=function(e){jS("editorAtCallback"+o,e,[t])},e.webviewId=t,e.nodeId=i,BT(n,e)})),DS("EditorInsertImages",(function(e,t){var n=Km().getContainer(),r=e.data,i=r.nodeId,o=r.editorId;UT(e.data,t),delete e.data.nodeId,e.data.insertImagesCallback=function(e){jS("EditorInsertImagesCallback"+o,e,[t])},e.webviewId=t,e.nodeId=i,BT(n,e)})),DS("EditorInsertVideo",(function(e,t){var n=Km().getContainer(),r=e.data,i=r.nodeId,o=r.editorId;UT(e.data,t),delete e.data.nodeId,e.data.insertVideoCallback=function(e){jS("EditorInsertVideoCallback"+o,e,[t])},e.webviewId=t,e.nodeId=i,BT(n,e)})),DS("EditorGetFileInfo",(function(e,t){var n=Km().getContainer(),r=e.data,i=r.nodeId,o=r.editorId,a=r.customId;UT(e.data,t),delete e.data.nodeId,e.data.getFileInfoCallback=function(e){jS("EditorGetFileInfoCallback"+a+o,e,[t])},e.webviewId=t,e.nodeId=i,BT(n,e)})),DS("pcEditorUploadPasteImage",(function(e,t){var n=Km().getContainer(),r=e.data,i=r.nodeId,o=r.editorId,a=r.customId,s=r.imageKey;UT(e.data,t),delete e.data.nodeId,e.data.uploadPasteImageCallback=function(e){jS("pcEditorUploadPasteImageCallback"+a+o+s,e,[t])},e.webviewId=t,e.nodeId=i,BT(n,e)})),DS("EditorMentionSelect",(function(e,t){var n=Km().getContainer(),r=e.data,i=r.nodeId,o=r.editorId,a=r.customId;UT(e.data,t),delete e.data.nodeId,e.data.mentionSelectCallback=function(e){jS("EditorMentionSelectCallback"+a+o,e,[t])},e.webviewId=t,e.nodeId=i,BT(n,e)}));var qT=["log","warn","error","info","debug"],WT=["group","groupEnd"];function VT(){if("object"==typeof TMAConfig&&"debug"in TMAConfig&&TMAConfig.debug||"object"==typeof nativeTMAConfig&&"debug"in nativeTMAConfig&&nativeTMAConfig.debug){var e=[],t=[],n={};DS("GenerateFuncReady",(function(n,r){-1===t.indexOf(r)&&t.push(r),jS("vconsole_synchronize_logs",{logs:e},[r])})),[].concat(qT,WT).forEach((function(r){n[r]=console[r];var i=!1;console[r]=function(){var o=hS(arguments);e.length>1024&&e.shift(),e.push({method:r,args:o}),n[r].apply(console,arguments),t.length>0&&!i&&(i=!0,jS("vconsole_"+r,{log:o},t),i=!1)}})),t.length>0&&jS("vconsole_synchronize_logs",{logs:e},t)}}$m((function(e){var t=e.global;"function"==typeof t.TMAConfig.onReady&&t.TMAConfig.onReady(VT),"function"==typeof t.TMAConfig.onRealReady&&t.TMAConfig.onRealReady(VT)}));var zT=["log","info","warn","error"];FS("console",(function(e){void 0===e&&(e={}),(e.logs||[]).forEach((function(e){var t=e.method,n=e.msg;t&&n&&zT.includes(t)&&console&&console[t](n)}))}));var HT=i((function(e,t){!function(t){var n=Object.hasOwnProperty,r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i="object"==typeof process&&"function"==typeof process.nextTick,o="function"==typeof Symbol,a="object"==typeof Reflect,s="function"==typeof setImmediate?setImmediate:setTimeout,c=o?a&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function u(){this._events={},this._conf&&l.call(this,this._conf)}function l(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==t&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function f(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),"undefined"!=typeof process&&process.emitWarning){var r=new Error(n);r.name="MaxListenersExceededWarning",r.emitter=this,r.count=e,process.emitWarning(r)}else console.error(n),console.trace&&console.trace()}var d=function(e,t,n){var r=arguments.length;switch(r){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var i=new Array(r);r--;)i[r]=arguments[r];return i}};function h(e,n){for(var r={},i=e.length,o=n?value.length:0,a=0;a<i;a++)r[e[a]]=a<o?n[a]:t;return r}function p(e,t,n){var r,i;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(r=n.on,i=n.off),t.addEventListener?(r=t.addEventListener,i=t.removeEventListener):t.addListener?(r=t.addListener,i=t.removeListener):t.on&&(r=t.on,i=t.off),!r&&!i)throw Error("target does not implement any known event API");if("function"!=typeof r)throw TypeError("on method must be a function");if("function"!=typeof i)throw TypeError("off method must be a function");this._on=r,this._off=i;var o=e._observers;o?o.push(this):e._observers=[this]}function v(e,r,i,o){var a=Object.assign({},r);if(!e)return a;if("object"!=typeof e)throw TypeError("options must be an object");var s,c,u,l=Object.keys(e),f=l.length;function d(e){throw Error('Invalid "'+s+'" option value'+(e?". Reason: "+e:""))}for(var h=0;h<f;h++){if(s=l[h],!o&&!n.call(r,s))throw Error('Unknown "'+s+'" option');(c=e[s])!==t&&(u=i[s],a[s]=u?u(c,d):c)}return a}function g(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function m(e){var t="value must be type of "+e.join("|"),n=e.length,r=e[0],i=e[1];return 1===n?function(e,n){if(typeof e===r)return e;n(t)}:2===n?function(e,n){var o=typeof e;if(o===r||o===i)return e;n(t)}:function(r,i){for(var o=typeof r,a=n;a-- >0;)if(o===e[a])return r;i(t)}}Object.assign(p.prototype,{subscribe:function(e,t,n){var r=this,i=this._target,o=this._emitter,a=this._listeners,s=function(){var r=d.apply(null,arguments),a={data:r,name:t,original:e};if(n){var s=n.call(i,a);!1!==s&&o.emit.apply(o,[a.name].concat(r))}else o.emit.apply(o,[t].concat(r))};if(a[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,o._newListener&&o._removeListener&&!r._onNewListener?(this._onNewListener=function(n){n===t&&null===a[e]&&(a[e]=s,r._on.call(i,e,s))},o.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===t&&!o.hasListeners(n)&&a[e]&&(a[e]=null,r._off.call(i,e,s))},a[e]=null,o.on("removeListener",this._onRemoveListener)):(a[e]=s,r._on.call(i,e,s))},unsubscribe:function(e){var t,n,r,i=this,o=this._listeners,a=this._emitter,s=this._off,u=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function l(){i._onNewListener&&(a.off("newListener",i._onNewListener),a.off("removeListener",i._onRemoveListener),i._onNewListener=null,i._onRemoveListener=null);var e=w.call(a,i);a._observers.splice(e,1)}if(e){if(!(t=o[e]))return;s.call(u,e,t),delete o[e],--this._listenersCount||l()}else{for(r=(n=c(o)).length;r-- >0;)e=n[r],s.call(u,e,o[e]);this._listeners={},this._listenersCount=0,l()}}});var y=m(["function"]),b=m(["object","function"]);function k(e,t,n){var r,i,o,a=0,s=new e((function(c,u,l){function f(){i&&(i=null),a&&(clearTimeout(a),a=0)}n=v(n,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}}),r=!n.overload&&"function"==typeof e.prototype.cancel&&"function"==typeof l;var d=function(e){f(),c(e)},h=function(e){f(),u(e)};r?t(d,h,l):(i=[function(e){h(e||Error("canceled"))}],t(d,h,(function(e){if(o)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");i.push(e)})),o=!0),n.timeout>0&&(a=setTimeout((function(){var e=Error("timeout");e.code="ETIMEDOUT",a=0,s.cancel(e),u(e)}),n.timeout))}));return r||(s.cancel=function(e){if(i){for(var t=i.length,n=1;n<t;n++)i[n](e);i[0](e),i=null}}),s}function w(e){var t=this._observers;if(!t)return-1;for(var n=t.length,r=0;r<n;r++)if(t[r]._target===e)return r;return-1}function _(e,t,n,r,i){if(!n)return null;if(0===r){var o=typeof t;if("string"===o){var a,s,u=0,l=0,f=this.delimiter,d=f.length;if(-1!==(s=t.indexOf(f))){a=new Array(5);do{a[u++]=t.slice(l,s),l=s+d}while(-1!==(s=t.indexOf(f,l)));a[u++]=t.slice(l),t=a,i=u}else t=[t],i=1}else"object"===o?i=t.length:(t=[t],i=1)}var h,p,v,g,m,y,b,k=null,w=t[r],S=t[r+1];if(r===i&&n._listeners)return"function"==typeof n._listeners?(e&&e.push(n._listeners),[n]):(e&&e.push.apply(e,n._listeners),[n]);if("*"===w){for(s=(y=c(n)).length;s-- >0;)"_listeners"!==(h=y[s])&&(b=_(e,t,n[h],r+1,i))&&(k?k.push.apply(k,b):k=b);return k}if("**"===w){for((m=r+1===i||r+2===i&&"*"===S)&&n._listeners&&(k=_(e,t,n,i,i)),s=(y=c(n)).length;s-- >0;)"_listeners"!==(h=y[s])&&("*"===h||"**"===h?(n[h]._listeners&&!m&&(b=_(e,t,n[h],i,i))&&(k?k.push.apply(k,b):k=b),b=_(e,t,n[h],r,i)):b=_(e,t,n[h],h===S?r+2:r,i),b&&(k?k.push.apply(k,b):k=b));return k}if(n[w]&&(k=_(e,t,n[w],r+1,i)),(p=n["*"])&&_(e,t,p,r+1,i),v=n["**"])if(r<i)for(v._listeners&&_(e,t,v,i,i),s=(y=c(v)).length;s-- >0;)"_listeners"!==(h=y[s])&&(h===S?_(e,t,v[h],r+2,i):h===w?_(e,t,v[h],r+1,i):((g={})[h]=v[h],_(e,t,{"**":g},r+1,i)));else v._listeners?_(e,t,v,i,i):v["*"]&&v["*"]._listeners&&_(e,t,v["*"],i,i);return k}function S(e,t,n){var r,i,o=0,a=0,s=this.delimiter,c=s.length;if("string"==typeof e)if(-1!==(r=e.indexOf(s))){i=new Array(5);do{i[o++]=e.slice(a,r),a=r+c}while(-1!==(r=e.indexOf(s,a)));i[o++]=e.slice(a)}else i=[e],o=1;else i=e,o=e.length;if(o>1)for(r=0;r+1<o;r++)if("**"===i[r]&&"**"===i[r+1])return;var u,l=this.listenerTree;for(r=0;r<o;r++)if(l=l[u=i[r]]||(l[u]={}),r===o-1)return l._listeners?("function"==typeof l._listeners&&(l._listeners=[l._listeners]),n?l._listeners.unshift(t):l._listeners.push(t),!l._listeners.warned&&this._maxListeners>0&&l._listeners.length>this._maxListeners&&(l._listeners.warned=!0,f.call(this,l._listeners.length,u))):l._listeners=t,!0;return!0}function C(e,t,n,r){for(var i,o,a,s,u=c(e),l=u.length,f=e._listeners;l-- >0;)i=e[o=u[l]],a="_listeners"===o?n:n?n.concat(o):[o],s=r||"symbol"==typeof o,f&&t.push(s?a:a.join(this.delimiter)),"object"==typeof i&&C.call(this,i,t,a,s);return t}function I(e){for(var t,n,r,i=c(e),o=i.length;o-- >0;)(t=e[n=i[o]])&&(r=!0,"_listeners"===n||I(t)||delete e[n]);return r}function T(e,t,n){this.emitter=e,this.event=t,this.listener=n}function A(e,n,r){if(!0===r)a=!0;else if(!1===r)o=!0;else{if(!r||"object"!=typeof r)throw TypeError("options should be an object or true");var o=r.async,a=r.promisify,c=r.nextTick,u=r.objectify}if(o||c||a){var l=n,f=n._origin||n;if(c&&!i)throw Error("process.nextTick is not supported");a===t&&(a="AsyncFunction"===n.constructor.name),(n=function(){var e=arguments,t=this,n=this.event;return a?c?Promise.resolve():new Promise((function(e){s(e)})).then((function(){return t.event=n,l.apply(t,e)})):(c?process.nextTick:s)((function(){t.event=n,l.apply(t,e)}))})._async=!0,n._origin=f}return[n,u?new T(this,e,n):this]}function E(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,l.call(this,e)}T.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},E.EventEmitter2=E,E.prototype.listenTo=function(e,n,i){if("object"!=typeof e)throw TypeError("target musts be an object");var o=this;function a(t){if("object"!=typeof t)throw TypeError("events must be an object");var n,r=i.reducers,a=w.call(o,e);n=-1===a?new p(o,e,i):o._observers[a];for(var s,u=c(t),l=u.length,f="function"==typeof r,d=0;d<l;d++)s=u[d],n.subscribe(s,t[s]||s,f?r:r&&r[s])}return i=v(i,{on:t,off:t,reducers:t},{on:y,off:y,reducers:b}),r(n)?a(h(n)):a("string"==typeof n?h(n.split(/\s+/)):n),this},E.prototype.stopListeningTo=function(e,t){var n=this._observers;if(!n)return!1;var r,i=n.length,o=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;i-- >0;)r=n[i],e&&r._target!==e||(r.unsubscribe(t),o=!0);return o},E.prototype.delimiter=".",E.prototype.setMaxListeners=function(e){e!==t&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},E.prototype.getMaxListeners=function(){return this._maxListeners},E.prototype.event="",E.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},E.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},E.prototype._once=function(e,t,n,r){return this._many(e,1,t,n,r)},E.prototype.many=function(e,t,n,r){return this._many(e,t,n,!1,r)},E.prototype.prependMany=function(e,t,n,r){return this._many(e,t,n,!0,r)},E.prototype._many=function(e,t,n,r,i){var o=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function a(){return 0==--t&&o.off(e,a),n.apply(this,arguments)}return a._origin=n,this._on(e,a,r,i)},E.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||u.call(this);var e,t,n,r,i,a,s=arguments[0],c=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return!1;if(c&&(e=s,"newListener"!==s&&"removeListener"!==s&&"object"==typeof s)){if(n=s.length,o)for(r=0;r<n;r++)if("symbol"==typeof s[r]){a=!0;break}a||(s=s.join(this.delimiter))}var l,f=arguments.length;if(this._all&&this._all.length)for(r=0,n=(l=this._all.slice()).length;r<n;r++)switch(this.event=s,f){case 1:l[r].call(this,s);break;case 2:l[r].call(this,s,arguments[1]);break;case 3:l[r].call(this,s,arguments[1],arguments[2]);break;default:l[r].apply(this,arguments)}if(c)l=[],_.call(this,l,e,this.listenerTree,0,n);else{if("function"==typeof(l=this._events[s])){switch(this.event=s,f){case 1:l.call(this);break;case 2:l.call(this,arguments[1]);break;case 3:l.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(f-1),i=1;i<f;i++)t[i-1]=arguments[i];l.apply(this,t)}return!0}l&&(l=l.slice())}if(l&&l.length){if(f>3)for(t=new Array(f-1),i=1;i<f;i++)t[i-1]=arguments[i];for(r=0,n=l.length;r<n;r++)switch(this.event=s,f){case 1:l[r].call(this);break;case 2:l[r].call(this,arguments[1]);break;case 3:l[r].call(this,arguments[1],arguments[2]);break;default:l[r].apply(this,t)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===s)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},E.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||u.call(this);var e,t,n,r,i,a,s=arguments[0],c=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(c&&(e=s,"newListener"!==s&&"removeListener"!==s&&"object"==typeof s)){if(r=s.length,o)for(i=0;i<r;i++)if("symbol"==typeof s[i]){t=!0;break}t||(s=s.join(this.delimiter))}var l,f=[],d=arguments.length;if(this._all)for(i=0,r=this._all.length;i<r;i++)switch(this.event=s,d){case 1:f.push(this._all[i].call(this,s));break;case 2:f.push(this._all[i].call(this,s,arguments[1]));break;case 3:f.push(this._all[i].call(this,s,arguments[1],arguments[2]));break;default:f.push(this._all[i].apply(this,arguments))}if(c?(l=[],_.call(this,l,e,this.listenerTree,0)):l=this._events[s],"function"==typeof l)switch(this.event=s,d){case 1:f.push(l.call(this));break;case 2:f.push(l.call(this,arguments[1]));break;case 3:f.push(l.call(this,arguments[1],arguments[2]));break;default:for(n=new Array(d-1),a=1;a<d;a++)n[a-1]=arguments[a];f.push(l.apply(this,n))}else if(l&&l.length){if(l=l.slice(),d>3)for(n=new Array(d-1),a=1;a<d;a++)n[a-1]=arguments[a];for(i=0,r=l.length;i<r;i++)switch(this.event=s,d){case 1:f.push(l[i].call(this));break;case 2:f.push(l[i].call(this,arguments[1]));break;case 3:f.push(l[i].call(this,arguments[1],arguments[2]));break;default:f.push(l[i].apply(this,n))}}else if(!this.ignoreErrors&&!this._all&&"error"===s)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(f)},E.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},E.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},E.prototype.onAny=function(e){return this._onAny(e,!1)},E.prototype.prependAny=function(e){return this._onAny(e,!0)},E.prototype.addListener=E.prototype.on,E.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},E.prototype._on=function(e,n,r,i){if("function"==typeof e)return this._onAny(e,n),this;if("function"!=typeof n)throw new Error("on only accepts instances of Function");this._events||u.call(this);var o,a=this;return i!==t&&(n=(o=A.call(this,e,n,i))[0],a=o[1]),this._newListener&&this.emit("newListener",e,n),this.wildcard?(S.call(this,e,n,r),a):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(n):this._events[e].push(n),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,f.call(this,this._events[e].length,e))):this._events[e]=n,a)},E.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,i=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();if(!(i=_.call(this,null,o,this.listenerTree,0)))return this}else{if(!this._events[e])return this;n=this._events[e],i.push({_listeners:n})}for(var a=0;a<i.length;a++){var s=i[a];if(n=s._listeners,r(n)){for(var c=-1,u=0,l=n.length;u<l;u++)if(n[u]===t||n[u].listener&&n[u].listener===t||n[u]._origin&&n[u]._origin===t){c=u;break}if(c<0)continue;return this.wildcard?s._listeners.splice(c,1):this._events[e].splice(c,1),0===n.length&&(this.wildcard?delete s._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete s._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&I(this.listenerTree),this},E.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},E.prototype.removeListener=E.prototype.off,E.prototype.removeAllListeners=function(e){if(e===t)return!this._events||u.call(this),this;if(this.wildcard){var n,r=_.call(this,null,e,this.listenerTree,0);if(!r)return this;for(n=0;n<r.length;n++)r[n]._listeners=null;this.listenerTree&&I(this.listenerTree)}else this._events&&(this._events[e]=null);return this},E.prototype.listeners=function(e){var n,r,i,o,a,s=this._events;if(e===t){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!s)return[];for(o=(n=c(s)).length,i=[];o-- >0;)"function"==typeof(r=s[n[o]])?i.push(r):i.push.apply(i,r);return i}if(this.wildcard){if(!(a=this.listenerTree))return[];var u=[],l="string"==typeof e?e.split(this.delimiter):e.slice();return _.call(this,u,l,a,0),u}return s&&(r=s[e])?"function"==typeof r?[r]:r:[]},E.prototype.eventNames=function(e){var t=this._events;return this.wildcard?C.call(this,this.listenerTree,[],null,e):t?c(t):[]},E.prototype.listenerCount=function(e){return this.listeners(e).length},E.prototype.hasListeners=function(e){if(this.wildcard){var n=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return _.call(this,n,r,this.listenerTree,0),n.length>0}var i=this._events,o=this._all;return!!(o&&o.length||i&&(e===t?c(i).length:i[e]))},E.prototype.listenersAny=function(){return this._all?this._all:[]},E.prototype.waitFor=function(e,n){var r=this,i=typeof n;return"number"===i?n={timeout:n}:"function"===i&&(n={filter:n}),k((n=v(n,{timeout:0,filter:t,handleError:!1,Promise:Promise,overload:!1},{filter:y,Promise:g})).Promise,(function(t,i,o){function a(){var o=n.filter;if(!o||o.apply(r,arguments))if(r.off(e,a),n.handleError){var s=arguments[0];s?i(s):t(d.apply(null,arguments).slice(1))}else t(d.apply(null,arguments))}o((function(){r.off(e,a)})),r._on(e,a,!1)}),{timeout:n.timeout,overload:n.overload})};var M=E.prototype;Object.defineProperties(E,{defaultMaxListeners:{get:function(){return M._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");M._maxListeners=e},enumerable:!0},once:{value:function(e,t,n){return k((n=v(n,{Promise:Promise,timeout:0,overload:!1},{Promise:g})).Promise,(function(n,r,i){var o;if("function"==typeof e.addEventListener)return o=function(){n(d.apply(null,arguments))},i((function(){e.removeEventListener(t,o)})),void e.addEventListener(t,o,{once:!0});var a,s=function(){a&&e.removeListener("error",a),n(d.apply(null,arguments))};"error"!==t&&(a=function(n){e.removeListener(t,s),r(n)},e.once("error",a)),i((function(){a&&e.removeListener("error",a),e.removeListener(t,s)})),e.once(t,s)}),{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties(M,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),e.exports=E}()}));function GT(e){var t=e.errCode===NC.Cancelled||e.errMsg.startsWith("uploadFile:fail Canceled"),n=t?mb:gb,r=t?"cancel":e.resultType,i=Date.now()-e.bizInvokeTime,o={request_trace:e.uploadTaskId,request_url:"string"==typeof e.url?e.url.split("?")[0]:w_(e.url),request_biz_invoke_time:e.bizInvokeTime,error_code:e.errCode?e.errCode:0,error_msg:e.errMsg||"",errno:e.errno,err_string:e.errString,duration:i,result_type:r,request_version:"v2",api_name:"uploadFile",request_method:"string"==typeof e.method?e.method:w_(e.method)};Lb($y,n).setPlatform("TeaSlardar").addMap(o).flush()}var JT=new HT.EventEmitter2,KT=new Map;function $T(e,t,n){return function(r){var i=r.payload,o=r.errCode,a=r.errno,s=r.errString,c=r.errMsg,u=null;if("string"==typeof i)try{u=JSON.parse(i)}catch(e){c="uploadFile:fail sdk parse payload error",ps.error("[js-sdk-uploadFile] biz callback payload json parse error")}var l=u?Object.assign({trace:e.uploadTaskId,errMsg:c},u):{trace:e.uploadTaskId,errMsg:c};if(void 0!==a&&(l.errno=a),void 0!==s&&(l.errString=s),"success"===n&&u)"function"==typeof e.success&&e.success(l);else{var f=void 0===o?l:Object.assign({},l,{errCode:o});"function"==typeof e.fail&&e.fail(f)}"function"==typeof e.complete&&e.complete(l),JT.removeAllListeners(e.uploadTaskId),GT({resultType:n,errMsg:c,bizInvokeTime:t,errCode:o,errno:a,errString:s,uploadTaskId:e.uploadTaskId,url:e.url,method:e.method})}}FS("onUploadFileProgress",(function(e){void 0===e&&(e={});var t=e,n=t.uploadTaskId,r=t.progress,i=t.totalBytesSent,o=t.totalBytesExpectedToSend;if(n){var a=KT.get(n);if((a||0===a)&&r<a)return;KT.set(n,r),JT.emit(n,{progress:r,totalBytesSent:i,totalBytesExpectedToSend:o})}}));var YT=new WeakMap,QT=ls((function(e){var t=this;this.requestVersion="v2",this.requestId=void 0,this.abort=function(){var e=YT.get(t);LS("uploadFileAbort",{payload:JSON.stringify({uploadTaskId:e})})},this.onProgressUpdate=function(e){var n=YT.get(t);JT.on(n,(function(t){"function"==typeof e&&sS(e,"at UploadTask.onProgressUpdate callback function")(t)}))};var n=CS();this.requestId=n,YT.set(this,n);var r=Date.now(),i=Object.assign({},e,{uploadTaskId:n});LS("uploadFile",{payload:JSON.stringify(i),fail:$T(i,r,"fail"),success:$T(i,r,"success")})}));var XT="waiting",ZT="sending",eA="done",tA="aborted",nA="created",rA="in_queue";function iA(e){var t,n=sA.get(e);pA.set(e,Date.now());var r=e.id;cA.set(e,ZT),LS("createUploadTask",{url:n.url,header:n.header,filePath:n.filePath,name:n.name,formData:n.formData,taskId:r,success:function(t){lA.set(e,t.trace),e.taskId=String(t.uploadTaskId),mA.set(String(t.uploadTaskId),e.id),yA+=1,gA[t.uploadTaskId]=e},fail:function(n){lA.set(e,n.trace),t=n.errMsg,wA(e,"fail",t)},complete:function(){cA.set(e,eA)}}),t?setTimeout((function(){var e={errMsg:t.replace("createUploadTask","uploadFile")};"function"==typeof n.fail&&n.fail(e),"function"==typeof n.complete&&n.complete(e)}),0):(kA.on(e.id+"success",(function(e){e.errMsg="uploadFile:ok",e.statusCode=parseInt(e.statusCode,10),-1===[200,304].indexOf(e.statusCode)&&delete e.tempPath,"function"==typeof n.success&&n.success(e),"function"==typeof n.complete&&n.complete(e)})),kA.on(e.id+"fail",(function(e){e.errMsg="uploadFile:fail "+e.errMsg,"function"==typeof n.fail&&n.fail(e),"function"==typeof n.complete&&n.complete(e)})))}var oA=1,aA=new WeakMap,sA=new WeakMap,cA=new WeakMap,uA=new WeakMap,lA=new WeakMap,fA=new WeakMap,dA=new WeakMap,hA=new WeakMap,pA=new WeakMap,vA=new WeakMap,gA={},mA=new Map,yA=0,bA=[],kA=new HT.EventEmitter2;function wA(e,t,n){var r=vA.get(e),i=cA.get(e)===tA,o=i?mb:gb,a=i?"cancel":t,s=sA.get(e),c=uA.get(e),u=Date.now()-c,l={request_trace:lA.get(e)||"",request_url:s.url.split("?")[0],request_method:s.method||"POST",request_biz_invoke_time:uA.get(e),request_push_queue_time:fA.get(e)||0,request_shift_queue_time:hA.get(e)||0,request_queue_length:dA.get(e)||0,request_abort_type:r||"",error_msg:n||"",duration:u,result_type:a,request_version:"v1",api_name:"uploadFile"};Lb($y,o).setPlatform("TeaSlardar").addMap(l).flush()}FS("onUploadTaskStateChange",(function(e){var t;void 0===e&&(e={});var n=e,r=n.state,i=n.uploadTaskId,o=null!=(t=mA.get(String(i)))?t:0;if(delete e.state,delete e.uploadTaskId,o&&kA.emit(""+o+r,e),"success"===r||"fail"===r){if(yA=Math.max(yA-1,0),bA.length>0){var a=bA.shift().item;hA.set(a,Date.now()),iA(a)}var s=gA[i];if(s){try{wA(s,r,e.errMsg)}catch(e){}delete gA[i],mA.delete(String(i)),kA.removeAllListeners(o+"success"),kA.removeAllListeners(o+"fail"),kA.removeAllListeners(o+"progressUpdate")}}}));var _A=ls((function(e){var t=this;this.requestVersion="v1",this.id=void 0,this.taskId=void 0,this.abort=function(){var e=cA.get(t),n=sA.get(t);if(cA.set(t,tA),e===XT){var r=bA.findIndex((function(e){return e.id===aA.get(t)}));r>-1&&bA.splice(r,1),vA.set(t,rA),setTimeout((function(){var e="uploadFile:fail abort";"function"==typeof n.fail&&n.fail({errMsg:e}),wA(t,"cancel",e),"function"==typeof n.complete&&n.complete()}),0)}else e!==tA&&t.taskId&&(vA.set(t,nA),LS("operateUploadTask",{uploadTaskId:t.taskId,operationType:"abort"}))},this.onProgressUpdate=function(e){kA.on(t.id+"progressUpdate",(function(t){"function"==typeof e&&sS(e,"at UploadTask.onProgressUpdate callback function")(t)}))},uA.set(this,Date.now());var n=oA++;this.id=n,["success","fail","complete"].forEach((function(t){var n=e[t];"function"==typeof n&&(e[t]=sS(n,"at api uploadFile "+t+" callback function"))})),aA.set(this,n),sA.set(this,e),cA.set(this,XT),yA>=5?(fA.set(this,Date.now()),dA.set(this,bA.length),bA.push({id:n,item:this}),function(e){var t=sA.get(e),n={request_trace:lA.get(e)||"",request_url:t.url.split("?")[0],request_method:t.method||"GET",request_queue_length:5+bA.length,request_type:"request"};Lb($y,kb).setPlatform("TeaSlardar").addMap(n).flush()}(this)):iA(this)}));function SA(e,t,n){var r=pb,i={request_url:"string"==typeof e?e.split("?")[0]:w_(e),request_method:"string"==typeof t?t:w_(t),error_msg:n,result_type:"fail",request_version:"v1",api_name:"uploadFile"};Lb($y,r).setPlatform("TeaSlardar").addMap(i).flush()}var CA=new HT,IA={8e3:[16e3,48e3],11025:[16e3,48e3],12e3:[24e3,64e3],16e3:[24e3,96e3],22050:[32e3,128e3],24e3:[32e3,128e3],32e3:[48e3,192e3],44100:[64e3,32e4],48e3:[64e3,32e4]},TA=Object.keys(IA).map((function(e){return parseInt(e)}));function AA(e){LS("operateRecorder",Object.assign({},e))}FS("onRecorderStateChange",(function(e){void 0===e&&(e={});var t=e.state;delete e.state,CA.emit("onRecorderStateChange_"+t,e)}));var EA={start:function(e){void 0===e&&(e={});var t=Object.assign({format:"aac",sampleRate:8e3,encodeBitRate:48e3,numberOfChannels:2,duration:6e4},e,{operationType:"start",fail:function(e){CA.emit("onRecorderStateChange_error",e)}});if(-1===TA.indexOf(t.sampleRate))throw new Error('invalid sampleRate "'+t.sampleRate+'", sampleRate should be one of '+JSON.stringify(Object.keys(IA)));if(t.encodeBitRate>IA[t.sampleRate][1]||t.encodeBitRate<IA[t.sampleRate][0])throw new Error('invalid encodeBitRate "'+t.encodeBitRate+'", encodeBitRate should be greater than '+IA[t.sampleRate][0]+" and less than "+IA[t.sampleRate][1]);(t.duration>6e5||t.duration<0)&&(t.duration=6e4),AA(t)},pause:function(){AA({operationType:"pause",fail:function(e){CA.emit("onRecorderStateChange_error",e)}})},resume:function(){AA({operationType:"resume",fail:function(e){CA.emit("onRecorderStateChange_error",e)}})},stop:function(){AA({operationType:"stop",fail:function(e){CA.emit("onRecorderStateChange_error",e)}})},onStart:function(e){CA.removeAllListeners("onRecorderStateChange_start"),CA.on("onRecorderStateChange_start",(function(t){"function"==typeof e&&sS(e,"at recorderManager.onStart callback function")(t)}))},onResume:function(e){CA.removeAllListeners("onRecorderStateChange_resume"),CA.on("onRecorderStateChange_resume",(function(t){"function"==typeof e&&sS(e,"at recorderManager.onResume callback function")(t)}))},onPause:function(e){CA.removeAllListeners("onRecorderStateChange_pause"),CA.on("onRecorderStateChange_pause",(function(t){"function"==typeof e&&sS(e,"at recorderManager.onPause callback function")(t)}))},onStop:function(e){CA.removeAllListeners("onRecorderStateChange_stop"),CA.on("onRecorderStateChange_stop",(function(t){"function"==typeof e&&sS(e,"at recorderManager.onStop callback function")(t)}))},onFrameRecorded:function(e){CA.removeAllListeners("onRecorderStateChange_frameRecorded"),CA.on("onRecorderStateChange_frameRecorded",(function(t){if("function"==typeof e){var n=t.frameBuffer;"string"==typeof n&&(t.frameBuffer=Xg(n)),sS(e,"at recorderManager.onFrameRecorded callback function")(t)}}))},onError:function(e){CA.removeAllListeners("onRecorderStateChange_error"),CA.on("onRecorderStateChange_error",(function(t){"function"==typeof e&&sS(e,"at recorderManager.onError callback function")(t)}))}};var MA=function(){function e(e,t){this.domId=e,t&&(this.componentId=t.__nodeid__);var n=getCurrentPages();this.__webviewId__=n[n.length-1].__webviewId__}e.sendCommand=function(e,t,n){jS("operateVideoContext",{op:e,data:t,id:n.domId,componentId:n.componentId},[n.__webviewId__])};var t=e.prototype;return t.play=function(){e.sendCommand("play",void 0,this)},t.pause=function(){e.sendCommand("pause",void 0,this)},t.stop=function(){e.sendCommand("stop",void 0,this)},t.seek=function(t){isNaN(Number(t))||e.sendCommand("seek",t,this)},t.requestFullScreen=function(){e.sendCommand("requestFullScreen",void 0,this)},t.exitFullScreen=function(){e.sendCommand("exitFullScreen",void 0,this)},t.playbackRate=function(t){isNaN(Number(t))||e.sendCommand("playbackRate",t,this)},ls(e)}();var xA=GS("vibrateShort"),PA=GS("vibrateLong");function OA(e){return e+"deg"}function RA(e){return"number"==typeof e?e+"px":e}function NA(e){var t=e.animates,n=e.option,r=t.filter((function(e){return"style"!==e.type})).map((function(e){var t=e.type,n=e.args;switch(t){case"matrix":return"matrix("+n.join(",")+")";case"matrix3d":return"matrix3d("+n.join(",")+")";case"rotate":return"rotate("+(n=n.map(OA))[0]+")";case"rotate3d":var r=n[3];return r&&!String(r).endsWith("deg")&&(n[3]=OA(r)),"rotate3d("+n.join(",")+")";case"rotateX":return"rotateX("+(n=n.map(OA))[0]+")";case"rotateY":return"rotateY("+(n=n.map(OA))[0]+")";case"rotateZ":return"rotateZ("+(n=n.map(OA))[0]+")";case"scale":return"scale("+n.join(",")+")";case"scale3d":return"scale3d("+n.join(",")+")";case"scaleX":return"scaleX("+n[0]+")";case"scaleY":return"scaleY("+n[0]+")";case"scaleZ":return"scaleZ("+n[0]+")";case"translate":return"translate("+(n=n.map(RA)).join(",")+")";case"translate3d":return"translate3d("+(n=n.map(RA)).join(",")+")";case"translateX":return"translateX("+(n=n.map(RA))[0]+")";case"translateY":return"translateY("+(n=n.map(RA))[0]+")";case"translateZ":return"translateZ("+(n=n.map(RA))[0]+")";case"skew":return"skew("+(n=n.map(OA)).join(",")+")";case"skewX":return"skewX("+(n=n.map(OA))[0]+")";case"skewY":return"skewY("+(n=n.map(OA))[0]+")";default:return""}})).join(" "),i=t.filter((function(e){return"style"===e.type})).reduce((function(e,t){return e[t.args[0]]=t.args[1],e}),{}),o=";";for(var a in i)o+=a+": "+i[a]+"; ";n.transformOrigin&&(o+="transform-origin: "+n.transformOrigin+"; ");var s=n.duration+"ms "+n.timingFunction+" "+n.delay+"ms",c=["transform"];return Object.keys(i).length>0&&(c=c.concat(Object.keys(i))),o+="transition: ",o+=c.map((function(e){return e+" "+s})).join(" , "),o+=";",r&&(o+="transform: "+r+";"),o}var jA=function(){function e(e){void 0===e&&(e={}),this.actions=[],this.currentTransform=[],this.currentStepAnimates=[],this.option={duration:"number"==typeof e.duration&&e.duration>=0?e.duration:400,timingFunction:e.timingFunction||"linear",delay:e.delay||0,transformOrigin:e.transformOrigin||"50% 50% 0"}}var t=e.prototype;return t.export=function(){var e=this.actions;return this.actions=[],JSON.stringify({steps:e})},t.step=function(e){var t=this;void 0===e&&(e={}),this.currentStepAnimates.forEach((function(e){"style"===e.type?t.currentTransform[e.type+"."+e.args[0]]=e:t.currentTransform[e.type]=e}));var n=Object.keys(this.currentTransform).reduce((function(e,n){return[].concat(e,[t.currentTransform[n]])}),[]),r=Object.assign({},this.option,e);return this.actions.push({text:NA({animates:n,option:r}),option:r}),this.currentStepAnimates=[],this},t.scale=function(e,t){return void 0===e&&(e=1),t=void 0!==t?t:e,this.currentStepAnimates.push({type:"scale",args:[e,t]}),this},t.translate=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),this.currentStepAnimates.push({type:"translate",args:[e,t]}),this},t.skew=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),this.currentStepAnimates.push({type:"skew",args:[e,t]}),this},t.rotate3d=function(e,t,n,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.currentStepAnimates.push({type:"rotate3d",args:[e,t,n,r]}),this},t.scale3d=function(e,t,n){return void 0===e&&(e=1),void 0===t&&(t=1),void 0===n&&(n=1),this.currentStepAnimates.push({type:"scale3d",args:[e,t,n]}),this},t.translate3d=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),this.currentStepAnimates.push({type:"translate3d",args:[e,t,n]}),this},t.matrix=function(e,t,n,r,i,o){return void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===o&&(o=1),this.currentStepAnimates.push({type:"matrix",args:[e,t,n,r,i,o]}),this},t.matrix3d=function(e,t,n,r,i,o,a,s,c,u,l,f,d,h,p,v){return void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=1),void 0===a&&(a=0),void 0===s&&(s=0),void 0===c&&(c=0),void 0===u&&(u=0),void 0===l&&(l=1),void 0===f&&(f=0),void 0===d&&(d=0),void 0===h&&(h=0),void 0===p&&(p=0),void 0===v&&(v=1),this.currentStepAnimates.push({type:"matrix3d",args:[e,t,n,r,i,o,a,s,c,u,l,f,d,h,p,v]}),this},ls(e)}();["opacity","backgroundColor"].forEach((function(e){jA.prototype[e]=function(t){var n;return this.currentStepAnimates.push({type:"style",args:[(n=e,n.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))),t]}),this}})),["width","height","top","bottom","left","right"].forEach((function(e){jA.prototype[e]=function(t){return"number"==typeof t&&(t+="px"),this.currentStepAnimates.push({type:"style",args:[e,t]}),this}})),["rotate","rotateX","rotateY","rotateZ"].forEach((function(e){jA.prototype[e]=function(t){return void 0===t&&(t=0),this.currentStepAnimates.push({type:e,args:[t]}),this}})),["scaleX","scaleY","scaleZ"].forEach((function(e){jA.prototype[e]=function(t){return void 0===t&&(t=1),this.currentStepAnimates.push({type:e,args:[t]}),this}})),["translateX","translateY","translateZ"].forEach((function(e){jA.prototype[e]=function(t){return void 0===t&&(t=0),this.currentStepAnimates.push({type:e,args:[t]}),this}})),["skewX","skewY"].forEach((function(e){jA.prototype[e]=function(t){return void 0===t&&(t=0),this.currentStepAnimates.push({type:e,args:[t]}),this}}));function DA(e,t){return new LA(e,t)}var LA=function(){function e(e,t){if(this._component=e,this._options=t,this._relativeInfo=[],this._observerId=null,this._disconnected=!1,e)this._webviewId=e.__webviewId__;else{var n=getCurrentPages();this._webviewId=n[n.length-1].__webviewId__}}var t=e.prototype;return t.relativeTo=function(e,t){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:e,margins:t}),this},t.relativeToViewport=function(e){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:null,margins:e}),this},t.observe=function(e,t){var n=this;if(null!==this._observerId)throw new Error('"observe" call can be only called once in IntersectionObserver');this._observerId="";var r=this._component;UA(this._webviewId,{type:"addIntersectionObserver",pluginId:"unsuport",nodeId:r&&void 0!==r.__nodeId__&&r.__nodeId__>0?r.__nodeId__:null,targetSelector:e,relativeInfo:this._relativeInfo,options:this._options},(function(e){n._disconnected||(e.observerId&&(n._observerId=e.observerId),e.info&&p_(t,[e.info],{context:n,errMsg:"at intersection observer callback"}))}))},t.disconnect=function(){UA(this._webviewId,{type:"removeIntersectionObserver",observerId:this._observerId}),this._disconnected=!0},ls(e)}(),FA=1,BA={};function UA(e,t,n){FA++,BA[FA]=n,jS("requestComponentObserver",{reqId:FA,req:t},[e])}DS("responseComponentObserver",(function(e,t){var n=e.reqEnd,r=e.reqId,i=e.res,o=r,a=BA[o];if(n)delete BA[o];else if(a){var s=Km();if(s.newFramework){var c=s.getContainer().getRenderer(t);c&&(c.restoreDataset(null==i?void 0:i.info),a(i))}else a(i)}})),new(function(){function e(){}var t=e.prototype;return t.destroy=function(){},t.hide=function(){},t.show=function(){},ls(e)}());var qA=GS("getSetting"),WA=GS("openSetting");var VA=function(){function e(e){e&&(this.traceId=e.traceId,this.createTime=String((new Date).valueOf()),this.extensions=[])}return e.prototype.generateSpan=function(){var t=[0,0,0,0,0,0,0,0].map((function(){return Math.floor(36*Math.random()).toString(36)})).join("");return new e({traceId:this.traceId+"-"+t,createTime:String((new Date).valueOf()),extensions:this.extensions})},ls(e)}();var zA=GS("getTenantAppScopes"),HA=GS("applyTenantAppScope");var GA=new HT.EventEmitter2,JA="onNavigateBack";FS("onNavigateBackListener",(function(e){var t=o_(),n=JA+"_"+t[t.length-1].__webviewId__;GA.emit(n,e)}));var KA=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getDeviceUUID",value:function(){return this.createInvokeMethodApi("getDeviceUUID")}}]}}),QS),$A={scene:-1,query:"",isSticky:!1,shareTicket:"",referrerInfo:{appId:"",extraData:{}}};function YA(){var e=Object.assign({},$A);return this.invokeMethod("getLaunchOptionsSync",{success:function(t){if(t.query&&"string"==typeof t.query)try{t.query=JSON.parse(decodeURIComponent(t.query))}catch(e){}Object.assign(e,t)},fail:function(e){throw new Error(e.errMsg)}}),e}var QA=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S({sync:!0})],key:"getLaunchOptionsSync",value:function(){return YA}}]}}),QS),XA=["success","fail","complete","cancel"];function ZA(e){var t={};return this.invokeMethod("getHostLaunchQuerySync",e,{beforeAll:function(e){void 0===e&&(e={}),t.launchQuery=e.launchQuery}}),t}var eE=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getHostLaunchQuery",value:function(){return function(e){void 0===e&&(e={});var t=e;t.success,t.fail,t.complete,t.cancel;var n=Dw(t,XA);try{X_("getHostLaunchQuery",e,tt.getHostLaunchQuerySync(n))}catch(t){Q_("getHostLaunchQuery",e,null==t?void 0:t.message)}}}},{kind:"field",decorators:[$S({sync:!0})],key:"getHostLaunchQuerySync",value:function(){return ZA}}]}}),QS),tE=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"onUnhandledRejection",value:function(e){this.container.emitter.on(Ny,e)}},{kind:"method",decorators:[$S()],key:"offUnhandledRejection",value:function(e){this.container.emitter.off(Ny,e)}}]}}),QS),nE=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",key:"errorMap",value:function(){return new WeakMap}},{kind:"field",decorators:[$S()],key:"AppShow",value:function(){return this.createEventApi("show")}},{kind:"field",decorators:[$S()],key:"AppHide",value:function(){return this.createEventApi("hide")}},{kind:"method",decorators:[$S()],key:"onError",value:function(e){if("function"==typeof e)if(this.errorMap.has(e))e=this.errorMap.get(e);else{var t=f_(e,{context:null,errMsg:"at tt.onError"});this.errorMap.set(e,t),e=t}this.container.emitter.on(jy,e)}},{kind:"method",decorators:[$S()],key:"offError",value:function(e){var t;"function"==typeof e&&(e=null!=(t=this.errorMap.get(e))?t:e);this.container.emitter.off(jy,e)}},{kind:"method",key:"_triggerShow",value:function(e){this.emitter.emit("show",e)}},{kind:"method",key:"_triggerHide",value:function(){this.emitter.emit("hide",void 0)}}]}}),QS),rE=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"isNewFramework",value:function(){return Km().newFramework}}]}}),QS),iE=function(){function e(){}var t=e.prototype;return t._reportUndefinedDefaultCode=function(){var e={domain:"js.open_platform.gadget",code:1e4,level:bm.warn,message:"undefined_default_code"};return new oy({name:"undefined_default_code",code:e})},t._buildParams=function(e,t){var n;return void 0===t&&(t={}),(n={}).biz_event_name=e,n.biz_data=t,n.common_data={},n},t.report=function(e,t,n,r){void 0===n&&(n={}),e||this._reportUndefinedDefaultCode();var i=new oy({name:"op_biz_event",code:new iy(t)});null!=r&&r.traceId&&i.tracing(r.traceId);var o=this._buildParams(e,n);return i.addMap(o).flush()},ls(e)}(),oE=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",key:"ins",value:void 0},{kind:"field",decorators:[$S()],key:"opmonitor",value:function(){var e=this;return function(){return e.ins||(e.ins=new iE),e.ins}}}]}}),QS),aE=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"onAppRoute",value:function(e){this.container.emitter.on("onAppRoute",e)}}]}}),QS),sE=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"setTabBarBadge",value:function(){return this.createInvokeMethodApi("setTabBarBadge",{checkParams:{index:1,text:"String"}})}},{kind:"field",decorators:[$S()],key:"removeTabBarBadge",value:function(){return this.createInvokeMethodApi("removeTabBarBadge",{checkParams:{index:1}})}},{kind:"field",decorators:[$S()],key:"showTabBarRedDot",value:function(){return this.createInvokeMethodApi("showTabBarRedDot",{checkParams:{index:1}})}},{kind:"field",decorators:[$S()],key:"hideTabBarRedDot",value:function(){return this.createInvokeMethodApi("hideTabBarRedDot",{checkParams:{index:1}})}},{kind:"field",decorators:[$S()],key:"showTabBar",value:function(){return this.createInvokeMethodApi("showTabBar",{paramsTransformer:function(e){return Object.assign({},e,{animation:Boolean(e.animation)})}})}},{kind:"field",decorators:[$S()],key:"hideTabBar",value:function(){return this.createInvokeMethodApi("hideTabBar",{paramsTransformer:function(e){return Object.assign({},e,{animation:Boolean(e.animation)})}})}},{kind:"field",decorators:[$S()],key:"setTabBarItem",value:function(){return this.createInvokeMethodApi("setTabBarItem",{checkParams:{index:1}})}},{kind:"field",decorators:[$S()],key:"setTabBarStyle",value:function(){return this.createInvokeMethodApi("setTabBarStyle",{checkParams:{color:"color",selectedColor:"selectedColor",backgroundColor:"backgroundColor",borderStyle:"borderStyle"}})}},{kind:"method",decorators:[$S()],key:"addTabBarItem",value:function(e){var t=this;this._addTabBarItem(Object.assign({},e,{success:function(n){t.container.tabs.add(e.index,e.pagePath),null==e||null==e.success||e.success(n)}}))}},{kind:"method",decorators:[$S()],key:"removeTabBarItem",value:function(e){var t=this;this._removeTabBarItem(Object.assign({},e,{success:function(n){t.container.tabs.remove(e.tag),null==e||null==e.success||e.success(n)}}))}},{kind:"field",decorators:[$S()],key:"TabBarReady",value:function(){return this.createNativeEventApi("onTabBarReady",{transformData:function(e){return{status:e.tab_bar_ready}}})}},{kind:"field",key:"_addTabBarItem",value:function(){return this.createInvokeMethodApi("addTabBarItem")}},{kind:"field",key:"_removeTabBarItem",value:function(){return this.createInvokeMethodApi("removeTabBarItem")}}]}}),QS),cE=function(){function e(t,n){var r=this;if(void 0===n&&(n=!1),this.requestVersion="v2",this.requestId=void 0,this.taskId=CS(),this.bizInvokeTime=(new Date).valueOf(),this.illegal=!1,this.abort=function(){r.illegal||LS("downloadFileAbort",{payload:JSON.stringify({downloadTaskId:r.taskId})})},this.onProgressUpdate=function(t){r.illegal||"function"!=typeof t||e.eventNexus.on(r.taskId,(function(e){sS(t,"at downloadTask.onProgressUpdate callback function")(e)}))},this.requestId=this.taskId,n)this.illegal=!0;else{var i=Object.assign({},t,{taskId:this.taskId});LS("downloadFile",{payload:JSON.stringify(Object.assign({},t,{downloadTaskId:this.taskId})),fail:e.callBackWrapper(i,this.bizInvokeTime,"fail"),success:e.callBackWrapper(i,this.bizInvokeTime,"success")})}}return e.reportResult=function(e){var t=e.errCode===NC.Cancelled||e.errMsg.toLocaleLowerCase().startsWith("downloadFile:fail canceled"),n=t?bb:yb,r=t?"cancel":e.resultType,i=Date.now()-e.bizInvokeTime,o={request_version:"v2",request_trace:e.taskId,request_url:"string"==typeof e.url?e.url.split("?")[0]:rm(e.url),request_biz_invoke_time:e.bizInvokeTime,error_code:e.errCode?e.errCode:0,error_msg:e.errMsg||"",errno:e.errno,err_string:e.errString,duration:i,result_type:r,api_name:"downloadFile"};Lb($y,n).setPlatform("TeaSlardar").addMap(o).flush()},e.callBackWrapper=function(t,n,r){return function(i){var o=t.taskId,a=t.success,s=t.fail,c=t.complete,u=i.payload,l=i.errCode,f=i.errno,d=i.errString,h=null,p=i.errMsg;if("string"==typeof u)try{h=JSON.parse(u)}catch(e){p="downloadFile:fail sdk parse payload error",ps.error("[js-sdk-downloadFile] biz callback payload json parse error")}var v=h?Object.assign({},h,{trace:o,errMsg:p}):{errMsg:p,trace:o};if(void 0!==f&&(v.errno=f),void 0!==d&&(v.errString=d),"success"===r&&h&&"function"==typeof a)a(v);else if("function"==typeof s){s(void 0===l?v:Object.assign({},v,{errCode:l}))}"function"==typeof c&&c(v),e.eventNexus.off(t.taskId),e.reportResult({resultType:r,errMsg:p,bizInvokeTime:n,errCode:l,errno:f,errString:d,taskId:t.taskId,url:t.url})}},ls(e)}();cE.eventNexus=new pm,cE.progressCacheMap=new Map,FS("onDownloadFileProgress",(function(e){var t;void 0===e&&(e={});var n=e,r=n.progress,i=n.downloadTaskId,o=n.totalBytesExpectedToWrite,a=n.totalBytesWritten;i&&!isNaN(r)&&(Number(r)<(null!=(t=cE.progressCacheMap.get(i))?t:0)||(cE.progressCacheMap.set(i,Number(r)),cE.eventNexus.emit(i,{progress:r,totalBytesWritten:a,totalBytesExpectedToWrite:o})))}));var uE="waiting",lE="sending",fE="done",dE="aborted",hE="created",pE="in_queue",vE=0,gE=0;function mE(){var e=SE.get(this);_E.set(this,lE),ME.set(this,Date.now());var t,n=this,r=(new Date).valueOf()%1e6;gE===r?vE++:(gE=r,vE=0);var i=+(""+r+(vE<10?"0"+vE:vE));vE>=99&&(vE=0),wE.set(n,i||r),LS("createDownloadTask",{url:e.url,header:e.header,data:e.data,method:e.method,filePath:e.filePath,taskId:i,success:function(e){IE.set(n,e.trace),wE.set(n,e.downloadTaskId),PE+=1,RE[e.downloadTaskId]=n},fail:function(e){IE.set(n,e.trace),t=e.errMsg,jE(n,"fail",t)},complete:function(){_E.set(n,fE)}}),t?setTimeout((function(){var n={errMsg:t.replace("createDownloadTask","downloadFile")};"function"==typeof e.fail&&e.fail(n),"function"==typeof e.complete&&e.complete(n)}),0):(ps.log("taskID",this,wE.get(this)),NE.on(wE.get(this)+"success",(function(t){t.errMsg="downloadFile:ok",t.statusCode=parseInt(t.statusCode,10),-1===[200,304].indexOf(t.statusCode)&&delete t.tempPath,delete t.timeInterval,"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)})),NE.on(wE.get(this)+"fail",(function(t){t.errMsg="downloadFile:fail "+t.errMsg,"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)})))}var yE=0,bE=new WeakMap,kE=new WeakMap,wE=new WeakMap,_E=new WeakMap,SE=new WeakMap,CE=new WeakMap,IE=new WeakMap,TE=new WeakMap,AE=new WeakMap,EE=new WeakMap,ME=new WeakMap,xE=new WeakMap,PE=0,OE=[],RE={},NE=new HT.EventEmitter2;function jE(e,t,n){var r=xE.get(e),i=_E.get(e)===dE,o=i?bb:yb,a=i?"cancel":t,s=SE.get(e),c=CE.get(e),u=Date.now()-c,l={request_version:"v1",request_trace:IE.get(e)||"",request_url:s.url.split("?")[0],request_method:s.method||"GET",request_biz_invoke_time:CE.get(e),request_push_queue_time:TE.get(e)||0,request_shift_queue_time:EE.get(e)||0,request_queue_length:AE.get(e)||0,request_abort_type:r||"",error_msg:n||"",duration:u,result_type:a,api_name:"downloadFile"};Lb($y,o).setPlatform("TeaSlardar").addMap(l).flush()}FS("onDownloadTaskStateChange",(function(e){void 0===e&&(e={}),"string"==typeof e&&(e=JSON.parse(e));var t=e.state,n=e.downloadTaskId;if(delete e.state,delete e.downloadTaskId,NE.emit(""+n+t,e),"success"===t||"fail"===t){if(PE=Math.max(PE-1,0),OE.length>0){var r=OE.shift();EE.set(r.item,Date.now()),mE.call(r.item)}var i=RE[n];if(i){try{jE(i,t,e.errMsg)}catch(e){}delete RE[n],NE.removeAllListeners(n+"success"),NE.removeAllListeners(n+"fail"),NE.removeAllListeners(n+"progressUpdate")}}}));var DE=ls((function(e){var t=this;this.requestVersion="v1",this.abort=function(){var e=_E.get(t),n=SE.get(t);if(_E.set(t,dE),e===uE){var r=OE.findIndex((function(e){return e.id===bE.get(t)}));r>-1&&OE.splice(r,1),xE.set(t,pE),setTimeout((function(){var e="downloadFile:fail abort";"function"==typeof n.fail&&n.fail({errMsg:e}),jE(t,"cancel",e),"function"==typeof n.complete&&n.complete({errMsg:e})}),0)}else e!==dE&&(xE.set(t,hE),LS("operateDownloadTask",{downloadTaskId:wE.get(t),operationType:"abort"}))},this.onProgressUpdate=function(e){NE.on(wE.get(t)+"progressUpdate",(function(t){"function"==typeof e&&sS(e,"at DownloadTask.onProgressUpdate callback function")(t)}))},CE.set(this,Date.now());var n=yE++;kE.set(this,n),bE.set(this,n),_E.set(this,uE),["success","fail","complete"].forEach((function(t){var n=e[t];"function"==typeof n&&(e[t]=sS(n,"at api downloadFile "+t+" callback function"))})),SE.set(this,e),PE>=5?(TE.set(this,Date.now()),AE.set(this,OE.length),OE.push({id:n,item:this}),function(e){var t=SE.get(e),n={request_trace:IE.get(e)||"",request_url:t.url.split("?")[0],request_method:t.method||"GET",request_queue_length:5+OE.length,request_type:"downloadFile"};Lb($y,kb).setPlatform("TeaSlardar").addMap(n).flush()}(this)):mE.call(this)}));function LE(e,t,n){var r=pb,i={request_url:"string"==typeof e?e.split("?")[0]:rm(e),request_method:"string"==typeof t?t:rm(t),error_msg:n,result_type:"fail",request_version:"v1",api_name:"downloadFile"};Lb($y,r).setPlatform("TeaSlardar").addMap(i).flush()}var FE=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"downloadFile",value:function(e){if(void 0===e&&(e={}),this.container.useNewDownloadAPI)return function(e){void 0===e&&(e={});var t={resultType:"fail",errMsg:"downloadFile:fail",bizInvokeTime:Date.now(),taskId:"",url:e.url};if(!US("downloadFile",e,{url:""},!0))return t.errMsg="downloadFile:fail invalid param.url type",t.errno=U_,t.errString=M_("url"),void cE.reportResult(t);var n="",r="";if(tS(e.url)||(n='invalid url "'+e.url+'"',r=E_("url")),!n&&("string"!=typeof e.method&&e.method||0===e.method)&&(n="param.method should pass string, not "+typeof e.method,r=M_("method")),n)return t.errMsg="downloadFile:fail "+n,t.errno=U_,t.errString=r,cE.reportResult(t),void qS("downloadFile",e,n,{errno:U_,errString:r});var i=!1,o=e.filePath;if(null==o||""===o?delete e.filePath:"string"!=typeof o&&(t.errMsg="downloadFile:fail invalid param.filePath type",t.errno=U_,t.errString=M_("filePath"),cE.reportResult(t),qS("downloadFile",e,"filePath could only be string or null/undefined",{errno:U_,errString:M_("filePath")}),i=!0),i)return new cE(e,!0);var a=Object.assign({},e);if("object"==typeof a.header&&null!==a.header||(ps.warn("downloadFile: header must be an object"),a.header={}),a.header=iS(a.header),["success","fail","complete"].forEach((function(e){var t=a[e];"function"==typeof t&&(a[e]=sS(t,"at api downloadFile "+e+" callback function"))})),a.method||(a.method="GET"),"string"==typeof a.method&&(a.method=a.method.toUpperCase()),"GET"===a.method)a.url=eS(a.url,a.data),a.data&&delete a.data;else{var s,c,u=void 0;void 0===a.data||(u="string"==typeof a.data||a.data instanceof ArrayBuffer?a.data:null!=(s=a.header["content-type"])&&s.includes("application/x-www-form-urlencoded")?Z_(a.data,!0):null!=(c=a.header["content-type"])&&c.includes("application/json")||"object"==typeof a.data?JSON.stringify(a.data):a.data.toString()),a.data=u}["success","fail","complete"].forEach((function(e){var t=a[e];"function"==typeof t&&(a[e]=sS(t,"at api downloadFile "+e+" callback function"))}));var l=_m.pack(a);try{return new cE(l)}catch(n){var f;t.errMsg="downloadFile:fail create downloadFile instant catch error",cE.reportResult(t),qS("downloadFile",e,null!=(f=null==n?void 0:n.message)?f:"create downloadFile instant catch error",{errno:B_,errString:A_()})}}(e);if(this.beforeInvoke("downloadFile",e,{url:""})){var t,n="string"==typeof e.url?e.url.split("?")[0]:rm(e.url),r="string"==typeof e.method?e.method.toUpperCase():e.method,i={};tS(e.url)||(t="uncertain",i.url=n),r&&"GET"!==r||!e.data||(t="uncertain",i.data="method is GET"),"string"!=typeof r||""!==r&&!["HEAD","PUT","DELETE","CONNECT","OPTIONS","TRACE","PATCH"].includes(r.toUpperCase())||(t="certain",i.method=e.method),t&&Lb(Yy,Ib).setPlatform("TeaSlardar").addMap({url:n,bk_type:t,api_name:"downloadFile",params:i}).flush();try{return new DE(e)}catch(t){LE(e.url,e.method,"downloadFile:fail create downloadFile instant catch error "),this.beforeInvokeFail("downloadFile",e,t.message)}}else LE(e.url,e.method,"downloadFile:fail invalid param.url type")}}]}}),QS);function BE(e){var t=this;this.beforeInvoke("getImageInfo",e,{src:""},!0)&&(/^(http|https):\/\//.test(e.src)?this.downloadFileAPI.downloadFile({url:e.src,success:function(n){e.src=n.tempFilePath,t.invokeMethod("getImageInfo",e,{beforeSuccess:function(t){t.path=e.src}})},fail:function(n){var r={errno:z_,errString:R_()};t.beforeInvokeFail("getImageInfo",e,"download image fail",r)}}):(/^(tt)?file:\/\//.test(e.src)||(e.src=this.getRealRoute(e.src)),this.invokeMethod("getImageInfo",e,{beforeSuccess:function(t){t.path=e.src}})))}var UE=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[YS((function(){return FE}))],key:"downloadFileAPI",value:void 0},{kind:"field",decorators:[$S()],key:"chooseImage",value:function(){return this.createInvokeMethodApi("chooseImage",{defaults:{count:9,sizeType:["original","compressed"],sourceType:["album","camera"]},beforeSuccess:function(e){e.tempFileSizes&&(e.tempFiles=e.tempFilePaths.map((function(t,n){return{path:t,size:e.tempFileSizes[n]}}))),delete e.tempFileSizes}})}},{kind:"field",decorators:[$S()],key:"previewImage",value:function(){return this.createInvokeMethodApi("previewImage")}},{kind:"field",decorators:[$S()],key:"getImageInfo",value:function(){return BE.bind(this)}},{kind:"field",decorators:[$S()],key:"saveImageToPhotosAlbum",value:function(){return this.createInvokeMethodApi("saveImageToPhotosAlbum")}},{kind:"field",decorators:[$S()],key:"compressImage",value:function(){var e=this;return this.createInvokeMethodApi("compressImage",{addStandardError:!0,checkParams:{src:""},paramsTransformer:function(t){return/^(tt)?file:\/\//.test(t.src)||/^(http|https):\/\//.test(t.src)?t:Object.assign({},t,{src:e.getRealRoute(t.src)})}})}},{kind:"method",key:"getRealRoute",value:function(e){return sm(this.container.LifecycleState.path,e)}}]}}),QS),qE=["success","loading","none","info","error","warning"],WE=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"showToast",value:function(e){void 0===e&&(e={}),(e=Object.assign({duration:1500,title:"",icon:"success"},e)).icon&&-1!==qE.indexOf(e.icon)?"none"===e.icon&&(e.icon=""):e.icon="success",this.beforeInvoke("showToast",e,{duration:1,title:"String",icon:"String"},!0)&&this.invokeMethod("showToast",e)}},{kind:"field",decorators:[$S()],key:"hideToast",value:function(){return this.createInvokeMethodApi("hideToast")}}]}}),QS),VE=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"showLoading",value:function(e){void 0===e&&(e={});var t={icon:"loading",duration:864e5};e=Object.assign(e,t),this.beforeInvoke("showLoading",e,{title:"String"})&&(e.title=function(e,t){var n=/[^\u0000-\u00ff]/g;if(e.replace(n,"aa").length<=t)return e;for(var r=Math.floor(t/2),i=e.length;r<i;r++)if(e.substring(0,r).replace(n,"aa").length>=t)return e.substring(0,r);return e}(e.title,14),this.invokeMethod("showToast",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("showToast","showLoading")}}))}},{kind:"method",decorators:[$S()],key:"hideLoading",value:function(e){void 0===e&&(e={}),this.invokeMethod("hideToast",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("hideToast","hideLoading")}})}}]}}),QS),zE=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"showActionSheet",value:function(e){void 0===e&&(e={});this.beforeInvoke("showActionSheet",e,{itemList:["String"]})&&(e.itemList.length<1&&this.beforeInvokeFail("showActionSheet",e,"param.itemList should has at least 1 item"),e.itemList.length>6?this.beforeInvokeFail("showActionSheet",e,"param.itemList should has at most 6 items"):this.invokeMethod("showActionSheet",e))}}]}}),QS),HE=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"setAuthenticationInfo",value:function(){return this.createInvokeMethodApi("setAuthenticationInfo",{checkParams:{mobile:"String",identifyCode:"String",identifyName:"String"}})}},{kind:"field",decorators:[$S()],key:"startFaceIdentify",value:function(){return this.createInvokeMethodApi("startFaceIdentify")}},{kind:"field",decorators:[$S()],key:"startFaceVerify",value:function(){return this.createInvokeMethodApi("startFaceVerify",{checkParams:{userId:"String"},addStandardError:!0})}}]}}),QS),GE=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getClipboardData",value:function(){return this.createInvokeMethodApi("getClipboardData")}},{kind:"field",decorators:[$S()],key:"setClipboardData",value:function(){return this.createInvokeMethodApi("setClipboardData",{addStandardError:!0,checkParams:{data:"String"}})}}]}}),QS),JE=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"MemoryWarning",value:function(){return this.createNativeEventApi("onMemoryWarning")}}]}}),QS),KE=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"requestAppReview",value:function(){return this.createInvokeMethodApi("requestAppReview")}},{kind:"field",decorators:[$S()],key:"endAppReview",value:function(){return this.createInvokeMethodApi("endAppReview",{checkParams:{trace:"",app_id:""}})}}]}}),QS),$E=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",key:"enabled",value:function(){return!1}},{kind:"method",decorators:[$S()],key:"startCompass",value:function(e){void 0===e&&(e={}),this.invokeMethod("startCompass",e),this.enabled=!0}},{kind:"method",decorators:[$S()],key:"stopCompass",value:function(e){void 0===e&&(e={}),this.invokeMethod("stopCompass",e),this.enabled=!1}},{kind:"field",decorators:[$S()],key:"CompassChange",value:function(){var e=this;return this.createNativeEventApi("onCompassChange",{whenListenerAdd:function(){e.enabled||e.startCompass()}})}}]}}),QS),YE=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",key:"enabled",value:function(){return!1}},{kind:"method",decorators:[$S()],key:"startAccelerometer",value:function(e){void 0===e&&(e={}),this.invokeMethod("enableAccelerometer",Object.assign({},e,{enable:!0}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableAccelerometer","startAccelerometer")}}),this.enabled=!0}},{kind:"method",decorators:[$S()],key:"stopAccelerometer",value:function(e){void 0===e&&(e={}),this.invokeMethod("enableAccelerometer",Object.assign({},e,{enable:!1}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableAccelerometer","stopAccelerometer")}}),this.enabled=!0}},{kind:"field",decorators:[$S()],key:"AccelerometerChange",value:function(){var e=this;return this.createNativeEventApi("onAccelerometerChange",{whenListenerAdd:function(){e.enabled||e.startAccelerometer()}})}}]}}),QS);function QE(e){return(e.devices||[]).forEach((function(e){var t=e.advertisData;t?e.advertisData=Xg(t):delete e.advertisData;var n=e.serviceData,r=void 0===n?{}:n;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o?r[i]=Xg(o):delete r[i]}})),e}var XE=new WeakMap,ZE=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"openBluetoothAdapter",value:function(){return this.createInvokeMethodApi("openBluetoothAdapter")}},{kind:"field",decorators:[$S()],key:"closeBluetoothAdapter",value:function(){return this.createInvokeMethodApi("closeBluetoothAdapter")}},{kind:"field",decorators:[$S()],key:"getBluetoothAdapterState",value:function(){return this.createInvokeMethodApi("getBluetoothAdapterState")}},{kind:"field",decorators:[$S()],key:"startBluetoothDevicesDiscovery",value:function(){return this.createInvokeMethodApi("startBluetoothDevicesDiscovery",{addStandardError:!0,checkExtendParams:{services:{type:"Array",required:!1},allowDuplicatesKey:{type:"Boolean",required:!1},interval:{type:"Number",required:!1}}})}},{kind:"field",decorators:[$S()],key:"stopBluetoothDevicesDiscovery",value:function(){return this.createInvokeMethodApi("stopBluetoothDevicesDiscovery")}},{kind:"field",decorators:[$S()],key:"getConnectedBluetoothDevices",value:function(){return this.createInvokeMethodApi("getConnectedBluetoothDevices",{addStandardError:!0,checkExtendParams:{services:{type:"Array",required:!0}}})}},{kind:"field",decorators:[$S()],key:"getBluetoothDevices",value:function(){return this.createInvokeMethodApi("getBluetoothDevices",{paramsTransformer:function(e){var t=e.success;return t&&(e.success=function(e){var n=QE(e);t(n)}),e}})}},{kind:"field",decorators:[$S()],key:"BluetoothAdapterStateChange",value:function(){return this.createNativeEventApi("bluetoothAdapterStateChange")}},{kind:"field",decorators:[$S()],key:"BluetoothDeviceFound",value:function(){return this.createNativeEventApi("bluetoothDeviceFound",{wrapper:function(e){return function(t){var n=XE.get(t)||QE(t);XE.set(t,n),e(n)}}})}}]}}),QS),eM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"connectBLEDevice",value:function(){return this.createInvokeMethodApi("connectBLEDevice",{addStandardError:!0,checkExtendParams:{deviceId:{type:"String",required:!0}}})}},{kind:"field",decorators:[$S()],key:"disconnectBLEDevice",value:function(){return this.createInvokeMethodApi("disconnectBLEDevice",{addStandardError:!0,checkExtendParams:{deviceId:{type:"String",required:!0}}})}},{kind:"field",decorators:[$S()],key:"getBLEDeviceCharacteristics",value:function(){return this.createInvokeMethodApi("getBLEDeviceCharacteristics",{addStandardError:!0,checkExtendParams:{deviceId:{type:"String",required:!0},serviceId:{type:"String",required:!0}}})}},{kind:"field",decorators:[$S()],key:"getBLEDeviceServices",value:function(){return this.createInvokeMethodApi("getBLEDeviceServices",{addStandardError:!0,checkExtendParams:{deviceId:{type:"String",required:!0}}})}},{kind:"field",decorators:[$S()],key:"notifyBLECharacteristicValueChange",value:function(){return this.createInvokeMethodApi("notifyBLECharacteristicValueChange",{addStandardError:!0,checkExtendParams:{deviceId:{type:"String",required:!0},serviceId:{type:"String",required:!0},characteristicId:{type:"String",required:!0},descriptorId:{type:"String",required:!1},state:{type:"Boolean",required:!1}}})}},{kind:"field",decorators:[$S()],key:"readBLECharacteristicValue",value:function(){return this.createInvokeMethodApi("readBLECharacteristicValue",{addStandardError:!0,checkExtendParams:{deviceId:{type:"String",required:!0},serviceId:{type:"String",required:!0},characteristicId:{type:"String",required:!0}}})}},{kind:"field",decorators:[$S()],key:"writeBLECharacteristicValue",value:function(){return this.createInvokeMethodApi("writeBLECharacteristicValue",{addStandardError:!0,checkExtendParams:{deviceId:{type:"String",required:!0},serviceId:{type:"String",required:!0},characteristicId:{type:"String",required:!0},value:{type:"String",required:!0}}})}},{kind:"method",decorators:[$S()],key:"setBLEMTU",value:function(e){void 0===e&&(e={}),Y_()?this.beforeInvokeFail("setBLEMTU",e,"iOS does not support"):this._setBLEMTU(e)}},{kind:"field",decorators:[$S()],key:"BLECharacteristicValueChange",value:function(){return this.createNativeEventApi("BLECharacteristicValueChange")}},{kind:"field",decorators:[$S()],key:"BLEConnectionStateChange",value:function(){return this.createNativeEventApi("BLEConnectionStateChange")}},{kind:"field",key:"_setBLEMTU",value:function(){return this.createInvokeMethodApi("setBLEMTU",{addStandardError:!0,checkExtendParams:{deviceId:{type:"String",required:!0},mtu:{type:"Number",required:!0}}})}}]}}),QS),tM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getEnvVariable",value:function(){return this.createInvokeMethodApi("getEnvVariable")}}]}}),QS),nM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getKAInfo",value:function(){return this.createInvokeMethodApi("getKAInfo")}}]}}),QS),rM=function(){function e(){var t=this;this.onDownloadComplete=function(n){return e.onDownloadComplete(t,n)}}return e.createInstance=function(t){var n=new e,r=CS();this.taskIDMap.set(n,r);var i=Object.assign({},t,{taskID:r});return GS(this.apiName)(i),n},e.onDownloadComplete=function(e,t){var n=this,r=this.taskIDMap.get(e);r&&sM.on(r,(function(e){"function"==typeof t&&sS(t,"at "+n.apiName+".onDownloadComplete callback function")(e)}))},ls(e)}();rM.apiName="openFileFromCloud",rM.taskIDMap=new WeakMap;var iM=function(){function e(){}return e.createInstance=function(e){var t=this,n=new this,r=CS();this.taskIDMap.set(n,r);var i=Object.assign({},e,{taskID:r});return GS(this.apiName,{beforeAll:function(){t.finishMap.set(n,!0)}})(i),n},e.onProgressUpdate=function(e,t){var n=this,r=this.taskIDMap.get(e);r&&!e.finish&&sM.on(r,(function(e){"function"==typeof t&&sS(t,"at "+n.apiName+".onProgressUpdate callback function")(e)}))},e.abortWith=function(e,t){var n=this,r=this.taskIDMap.get(e);if(r&&!e.finish){GS(this.abortName,{afterSuccess:function(){n.finishMap.set(e,!0)}})(Object.assign({taskID:r},t))}else{Q_(this.apiName+".abort",t,void 0,{errString:"Task completed",errno:2500004})}},e.isFinishWith=function(e){return!!this.finishMap.get(e)},ls(e,[{key:"finish",get:function(){return!1}}]),e}();iM.apiName=void 0,iM.abortName=void 0,iM.taskIDMap=void 0,iM.finishMap=void 0;var oM=function(e){function t(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).onProgressUpdate=function(e){return t.onProgressUpdate(fm(n),e)},n.abort=function(e){return t.abortWith(fm(n),e)},n}return hm(t,e),ls(t,[{key:"finish",get:function(){return t.isFinishWith(this)}}]),t}(iM);oM.apiName="uploadFileToCloud",oM.abortName="uploadFileToCloudAbort",oM.taskIDMap=new WeakMap,oM.finishMap=new WeakMap;var aM=function(e){function t(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).onProgressUpdate=function(e){return t.onProgressUpdate(fm(n),e)},n.abort=function(e){return t.abortWith(fm(n),e)},n}return hm(t,e),ls(t,[{key:"finish",get:function(){return t.isFinishWith(this)}}]),t}(iM);aM.apiName="downloadFileFromCloud",aM.abortName="downloadFileFromCloudAbort",aM.taskIDMap=new WeakMap,aM.finishMap=new WeakMap;var sM=new HT.EventEmitter2,cM=new Map;["onUploadFileToCloudUpdate","onDownloadFileFromCloudUpdate"].forEach((function(e){FS(e,(function(e){var t=e.taskID,n=e.progress;if(t&&n&&C_(n)){var r=cM.get(t);if((r||0===r)&&n<r)return;cM.set(t,n),sM.emit(t,{progress:n})}}))})),["onOpenFileFromCloudDownloadComplete"].forEach((function(e){FS(e,(function(e){var t=e.taskID;t&&(delete e.taskID,sM.emit(t,e))}))}));var uM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"uploadFileToCloud",value:function(){return function(e){return oM.createInstance(e)}}},{kind:"field",decorators:[$S()],key:"downloadFileFromCloud",value:function(){return function(e){return aM.createInstance(e)}}},{kind:"field",decorators:[$S()],key:"openFileFromCloud",value:function(){return function(e){return rM.createInstance(e)}}}]}}),QS),lM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getLocation",value:function(){return this.createInvokeMethodApi("getLocation",{frequencyStrategy:"throttle",frequencyTime:0,frequencyReportTimeout:1e4,frequencyReporter:this.reportGetLocationTimeout.bind(this)})}},{kind:"field",decorators:[$S()],key:"openLocation",value:function(){return this.createInvokeMethodApi("openLocation",{addStandardError:!0,checkParams:{latitude:0,longitude:0}})}},{kind:"field",decorators:[$S()],key:"chooseLocation",value:function(){return this.createInvokeMethodApi("chooseLocation")}},{kind:"field",decorators:[$S()],key:"getLocationStatus",value:function(){return this.createInvokeMethodApi("getLocationStatus")}},{kind:"field",decorators:[$S()],key:"startLocationUpdate",value:function(){return this.createInvokeMethodApi("startLocationUpdate")}},{kind:"field",decorators:[$S()],key:"stopLocationUpdate",value:function(){return this.createInvokeMethodApi("stopLocationUpdate")}},{kind:"field",decorators:[$S()],key:"LocationChange",value:function(){return this.createNativeEventApi("onLocationChange")}},{kind:"field",decorators:[$S()],key:"LocationChangeError",value:function(){return this.createNativeEventApi("onLocationChangeError")}},{kind:"method",key:"reportGetLocationTimeout",value:function(e){var t=e.timeout,n=e.apiName,r=e.waitingLength;Lb(Jy,ub).addMap({api_name:n,api_queue_length:r,api_timeout:t}).flush()}}]}}),QS),fM={button:{"1.0.0":[{size:["default","mini"]},{type:["primary","default","warn"]},"plagin","disabled","loading",{"form-type":["submit","reset"]},{"open-type":["share"]},"hover-class","hover-start-time","hover-stay-time","hover-stop-propagation"],"1.14.0":["bindgetphonenumber",{"open-type":["getPhoneNumber"]}]},canvas:{"1.0.0":["canvas-id"]},"checkbox-group":{"1.0.0":["bindchange"]},checkbox:{"1.0.0":["value","disabled","checked","color"]},form:{"1.0.0":["bindsubmit","bindreset"],"1.29.0":["report-submit"]},icon:{"1.0.0":[{type:["success","success_no_circle","info","warn","waiting","cancel","download","search","clear"]},"size","color"]},image:{"1.0.0":["src",{mode:["scaleToFill","aspectFit","aspectFill","widthFix","top","bottom","center","left","right","top left","top right","bottom left","bottom right"]},"lazy-load","binderror","bindload"]},input:{"1.0.0":["value",{type:["text","number","idcard","digit"]},"password","placeholder","placeholder-style","disabled","maxlength","focus","bindinput","bindfocus","bindblur","bindconfirm","cursor-spacing","cursor","selection-start","selection-end"]},label:{"1.0.0":["for"]},navigator:{"1.0.0":["url","delta",{"open-type":["navigate","redirect","switchTab","navigateBack"]},"hover-class","hover-start-time","hover-stay-time","hover-stop-propagation"]},"picker-view":{"1.0.0":["value","indicator-style","mask-style","bindchange"]},"picker-view-column":{"1.0.0":[]},picker:{"1.0.0":["range","range-key","value","bindchange","disabled","bindcancel",{mode:["selector","multiSelector","time","date","region"]}]},"radio-group":{"1.0.0":["bindchange"]},radio:{"1.0.0":["value","checked","disabled","color"]},"rich-text":{"1.0.0":["nodes"]},"scroll-view":{"1.0.0":["scroll-x","scroll-y","upper-threshold","lower-threshold","scroll-top","scroll-left","scroll-into-view","scroll-with-animation","bindscroll","bindscrolltoupper","bindscrolltolower"]},slider:{"1.0.0":["min","max","step","disabled","vaue","color","selected-color","active-color","background-color","block-size","block-color","show-value","bindchange","bindchanging"]},swiper:{"1.0.0":["indicator-dots","indicator-color","indicator-active-color","autoplay","current","current-item-id","interval","duration","circular","vertical","bindchange","display-multiple-items"],"1.20.0":["bindtransition"]},"swiper-item":{"1.0.0":["item-id"]},switch:{"1.0.0":["checked","disabled",{type:["switch","checkbox"]},"bindchange","color"]},text:{"1.0.0":["selectable","space","decode"]},textarea:{"1.0.0":["value","placeholder","placeholder-style","disabled","maxlength","focus","auto-height","fixed","cursor-spacing","cursor","selection-start","selection-end","bindinput","bindfocus","bindblur","bindconfirm","show-confirm-bar"]},view:{"1.0.0":["hover-class","hover-start-time","hover-stay-time","hover-stop-propagation"]},"web-view":{"1.0.0":["src","bindmessage"]},progress:{"1.0.0":["percent","stroke-width","color","active-color","background-color","active",{"active-mode":["backwards","forwards"]}]},video:{"1.0.0":["src","autoplay","poster","bindplay","bindpause","bindended","binderror"],"1.18.0":["bindtimeupdate","bindfullscreenchange"]},ad:{"1.19.0":["unit-id","bindload"],"1.26.2":["binderror"],"1.31.0":["bindclose"],"1.32.1":["ad-intervals"],"1.34.0":["fixed"]},"live-player":{"1.35.0":["src","autoplay","muted","orientation","object-fit","bindstatechange","binderror","bindfullscreenchange","showFullscreenControl"]}},dM={request:{"1.0.0":[{object:["url","data","header",{method:["GET","POST","PUT"]},"dataType","responseType"]},{success:["data","statusCode","header"]}]},uploadFile:{"1.0.0":[{object:["url","filePath","name","header","formData"]},{success:["data","statusCode"]}]},UploadTask:{"1.0.0":["abort",{onProgressUpdate:[{callback:["progress","totalBytesSent","totalBytesExpectedToSend"]}]}]},downloadFile:{"1.0.0":[{object:["url","header"]},{success:["tempFilePath","statusCode"]}]},DownloadTask:{"1.0.0":["abort",{onProgressUpdate:[{callback:["progress","totalBytesWritten","totalBytesExpectedToWrite"]}]}]},connectSocket:{"1.0.0":[{object:["url","header","protocols"]}]},chooseImage:{"1.0.0":[{object:["count","sizeType","sourceType"]},{success:["tempFilePaths","tempFiles"]}]},SocketTask:{"1.0.0":[{send:[{object:["data"]}]},{close:[{object:["code","reason"]}]},"onOpen","onClose","onError","onMessage"]},previewImage:{"1.0.0":[{object:["urls","current"]}]},getImageInfo:{"1.10.0":[{object:["src"]},{success:["width","height","type"]}]},saveImageToPhotosAlbum:{"1.0.0":[{object:["filePath"]}]},createInnerAudioContext:{"1.0.0":[]},innerAudioContext:{"1.0.0":["src","startTime","autoplay","loop","obeyMuteSwitch","duration","currentTime","paused","buffered","volume","play","pause","stop","seek","destory","onCanplay","offCanplay","onPlay","offPlay","onPause","offPause","onStop","offStop","onEnded","offEnded","onTimeUpdate","offTimeUpdate","onError","offError","onWaiting","offWaiting","onSeeking","offSeeking","onSeeked","offSeeked"]},getRecorderManager:{"1.0.0":[]},RecorderManager:{"1.0.0":[{start:[{object:["duration","sampleRate","numberOfChannels","encodeBitRate","frameSize"]}]},"pause","resume","stop","onStart","onPause","onStop","onError"]},chooseVideo:{"1.0.0":[{object:["sourceType","maxDuration","camera","compressed"]},{success:["tempFilePath","duration","size","height","width"]}]},saveVideoToPhotosAlbum:{"1.0.0":[{object:["filePath"]}]},createVideoContext:{"1.18.0":[{object:["id","component"]}]},VideoContext:{"1.18.0":["play","pause","stop","seek","requestFullScreen","exitFullScreen"]},saveFile:{"1.0.0":[{object:["tempFilePath"]},{success:["savedFilePath"]}]},getFileInfo:{"1.15.0":[{object:["filePath"]},{success:["size"]}]},getSavedFileList:{"1.15.0":[{success:["fileList"]}]},FileItem:{"1.15.0":["filePath","size","createTime"]},removeSavedFile:{"1.15.0":[{object:["filePath"]}]},getSavedFileInfo:{"1.15.0":[{object:["filePath"]}]},getFileSystemManager:{"1.15.0":[]},FileSystemManager:{"1.15.0":[{access:[{object:["path"]}]},{saveFile:[{object:["tempFilePath","fillPath"]},{success:["savedFilePath"]}]},{getSavedFileList:[{success:["fileList"]}]},{removeSavedFile:[{object:["filePath"]}]},{copyFile:[{object:["srcPath","destPath"]}]},{getFileInfo:[{object:["fillPath"]},{success:["size"]}]},{getSavedFileInfo:[{object:["filePath"]},{success:["size","createTime"]}]},{mkdir:[{object:["dirPath"]}]},{readdir:[{object:["dirPath"]},{success:["files"]}]},{readFile:[{object:["filePath","encoding"]},{success:["data"]}]},{rename:[{object:["oldPath","newPath"]}]},{rmdir:[{object:["dirPath"]}]},{stat:[{object:["path"]},{success:["stat"]}]},{unlink:[{object:["filePath"]}]},{unzip:[{object:["zipFilePath","targetPath"]}]},{writeFile:[{object:["filePath","data","encoding"]}]}]},Stats:{"1.15.0":["mode","size","lastAccessedTime","lastModifiedTime","isDirectory","isFile"]},getStorage:{"1.0.0":[{object:["key"]},{success:["data"]}]},getStorageSync:{"1.0.0":[]},setStorage:{"1.0.0":[{object:["key","data"]}]},setStorageSync:{"1.0.0":[]},removeStorage:{"1.0.0":[{object:["key"]}]},removeStorageSync:{"1.0.0":[]},clearStorage:{"1.0.0":[]},clearStorageSync:{"1.0.0":[]},getStorageInfo:{"1.0.0":[{success:["keys","currentSize","limitSize"]}]},getStorageInfoSync:{"1.0.0":[]},getLocation:{"1.0.0":[{object:["type"]},{success:["latitude","longitude","altitude","accuracy","verticalAccuracy","horizontalAccuracy","speed","city"]}]},openLocation:{"1.0.0":[{object:["latitude","longitude","scale","name","address"]}]},getSystemInfo:{"1.0.0":[{success:["appName","model","pixelRatio","windowWidth","windowHeight","version","system","platform","brand","screenWidth","screenHeight","SDKVersion"]}]},getSystemInfoSync:{"1.0.0":[]},getNetworkType:{"1.0.0":[{success:["networkType"]}]},getConnectedWifi:{"1.0.0":[{success:["SSID","BSSID","secure","signalStrength"]}]},onNetworkStatusChange:{"1.0.0":[{callback:[{networkType:["wifi","2g","3g","4g","none","unknown"]}]}]},scanCode:{"1.0.0":[{success:["result"]}]},getClipboardData:{"1.0.0":[{success:["data"]}]},setClipboardData:{"1.0.0":[{object:["data"]}]},setKeepScreenOn:{"1.0.0":[{object:["keepScreenOn"]}]},startAccelerometer:{"1.0.0":[]},stopAccelerometer:{"1.0.0":[]},onAccelerometerChange:{"1.0.0":[{callback:["x","y","z"]}]},startCompass:{"1.2.0":[]},stopCompass:{"1.2.0":[]},onCompassChange:{"1.2.0":[{callback:["direction"]}]},vibrateLong:{"1.0.0":[]},vibrateShort:{"1.0.0":[]},showModal:{"1.0.0":[{object:["title","content","showCancel","cancelText","confirmText"]},{success:["confirm","cancel"]}]},showToast:{"1.0.0":[{object:["title","icon","duration"]}]},hideToast:{"1.0.0":[]},showLoading:{"1.1.0":[{object:["title"]}]},hideLoading:{"1.0.0":[]},showActionSheet:{"1.0.0":[{object:["itemList"]},{success:["tapIndex"]}]},setNavigationBarColor:{"1.40.0.0":[{object:["frontColor","backgroundColor"]}]},setNavigationBarTitle:{"1.0.0":[{object:["title"]}]},redirectTo:{"1.0.0":[{object:["url"]}]},reLaunch:{"1.0.0":[{object:["url"]}]},navigateBack:{"1.0.0":[{object:["delta"]}]},navigateTo:{"1.0.0":[{object:["url"]}]},switchTab:{"1.0.0":[{object:["url"]}]},createAnimation:{"1.0.0":[{object:["duration",{timingFunction:["linear","ease","ease-in","ease-in-out","ease-out","step-start","step-end"]},"delay","transformOrigin"]}]},Animation:{"1.0.0":["opacity","backgroundColor","width","height","top","left","bottom","right","rotate","rotateX","rotateY","rotateZ","rotate3d","scale","scaleX","scaleY","scaleZ","scale3d","translate","translateX","translateY","translateZ","translate3d","skew","skewX","skewY","matrix","matrix3d"]},pageScrollTo:{"1.0.0":[{object:["scrollTop","duration"]}]},createCanvasContext:{"1.0.0":[]},canvasToTempFilePath:{"1.0.0":[{object:["canvasId","x","y","width","height","destWidth","destHeight","fileType","quality"]}]},makePhoneCall:{"1.0.0":[{object:["phoneNumber"]}]},requestWXPayment:{"1.0.0":[]},arrayBufferToBase64:{"1.0.0":[]},base64ToArrayBuffer:{"1.0.0":[]},canIUse:{"1.0.0":[]},getPerformance:{"1.0.0":{success:["cpu","fps","memory","timing"]}},getUpdateManager:{"1.9.0":[]},UpdateManager:{"1.0.0":["onUpdateReady","onUpdateFailed","applyUpdate","triggerCheckUpdate",{onCheckForUpdate:[{callback:["hasUpdate"]}]}]},getHostLaunchQuery:{"1.47.0":[{success:["launchQuery"]}]},getHostLaunchQuerySync:{"1.47.0":[{success:["launchQuery"]}]},getExtConfig:{"1.0.0":[{success:["extConfig"]}]},getExtConfigSync:{"1.0.0":[]},getLaunchOptionsSync:{"1.12.0":[{return:["path","scene","query"]}]},exitMiniProgram:{"1.12.0":[]},getMenuButtonLayout:{"1.25.0":[{return:["width","height","top","right","bottom","left"]}]},startPullDownRefresh:{"1.0.0":[]},stopPullDownRefresh:{"1.0.0":[]},showShareMenu:{"1.5.0":[]},hideShareMenu:{"1.5.0":[]},createSelectorQuery:{"1.7.0":[]},SelectorQuery:{"1.7.0":["in","select","selectAll","selectViewport","exec"]},createIntersectionObserver:{"1.10.4":[{object:["thresholds","initialRatio","observeAll"]}]},IntersectionObserver:{"1.10.4":["relativeTo","relativeToViewport","observe","disconnect"]},getUseDuration:{"1.0.0":[]},dealUserRelation:{"1.0.0":[]},login:{"1.0.0":[{object:["force"]},{success:["code","anonymousCode","isLogin"]}]},checkSession:{"1.0.0":[]},getUserInfo:{"1.0.0":[{object:["withCredentials"]},{success:["userInfo","rawData","signature","encryptedData","iv"]}]},requestPayment:{"1.0.0":[{object:["data"]}]},pay:{"1.19.4":[{object:["orderInfo","service","getOrderStatus"]}]},navigateToMiniProgram:{"1.15.0":[{object:["appId","path","extraData",{envVersion:["current","latest"]}]}]},navigateBackMiniProgram:{"1.15.0":[{object:["extraData"]}]},chooseAddress:{"1.0.0":[{success:["errMsg","userName","provinceName","cityName","countyName","detailInfo","telNumber"]}]},getSetting:{"1.3.0":[{success:"authSetting"}]},openSetting:{"1.3.0":[{success:"authSetting"}]},AuthSetting:{"1.3.0":["userInfo","userLocation","address","record","album","camera"]},authorize:{"1.3.0":[{object:"scope"}]},reportAnalytics:{"1.8.0":[]},interactionAnalysis:{"1.22.2":[{object:["type"]},{success:["code"]}]},followOfficialAccount:{"1.30.0":[{success:["errCode"]}]},checkFollowState:{"1.30.0":[{success:["result"]}]},performance:{"1.42.0":["mark"]},showFavoriteGuide:{"1.41.0":[]},showNavigationBarLoading:{"1.48.0":[]},hideNavigationBarLoading:{"1.48.0":[]},hideHomeButton:{"1.48.0":[]},getWifiList:{"1.49.0":[]},onGetWifiList:{"1.49.0":[{callback:["wifiList"]}]},offGetWifiList:{"1.49.0":[{callback:[]}]}};function hM(e,t,n){if(!t)return[];var r=Object.keys(n),i=r.indexOf(t);if(-1===i)return[];var o=n[r[i]];return Object.keys(o).filter((function(t){return function(e,t){var n,r=e.split("."),i=t.split(".");for(n=Math.max(r.length,i.length);r.length<n;)r.push("0");for(;i.length<n;)i.push("0");for(var o=0;o<n;o++){var a=parseInt(r[o]),s=parseInt(i[o]);if(a>s)return 1;if(a<s)return-1}return 0}(t,e)<=0}))}function pM(e,t,n){for(var r,i=0;i<e.length;i++)for(var o=t[e[i]],a=0;a<o.length;a++){var s=o[a];if("string"==typeof s&&s===n){void 0===r&&(r=[]);break}if("object"==typeof s&&s.hasOwnProperty(n)){r=void 0===r?s[n]:r.concat(s[n]);break}}return r}function vM(e,t){for(var n=0;n<e.length;n++){if("string"==typeof e[n]&&e[n]===t)return[];if("object"==typeof e[n]&&e[n].hasOwnProperty(t))return e[n][t]}}function gM(e,t,n,r){var i,o=hM(e,t,fM);if(0===o.length)return!1;if(n&&!(i=pM(o,fM[t],n)))return!1;return!r||void 0!==vM(i,r)}function mM(e,t,n,r,i){var o,a,s=hM(e,t,dM);if(0===s.length)return!1;if(n&&!(o=pM(s,dM[t],n)))return!1;return!(r&&void 0===(a=vM(o,r))||i&&void 0===vM(a,i))}var yM,bM=function(){var e=new Map;return function(t){if(e.has(t))return e.get(t);var n=!1;return this.invokeMethod("canIUse",{schema:t},{beforeSuccess:function(r){n=r.data,e.set(t,n)},beforeFail:function(e){n=!1}}),n}}();function kM(e){if(void 0===e&&(e=""),"string"!=typeof e)throw new xw("canIUse: schema should be string");yM||(yM=this.systemInfo.getSystemInfoSync().SDKVersion);var t=e.split(".");return!!gM.apply(void 0,[yM].concat(t))||mM.apply(void 0,[yM].concat(t))||bM.call(this,e)}var wM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[YS((function(){return rC}))],key:"systemInfo",value:void 0},{kind:"field",decorators:[$S()],key:"canIUse",value:function(){return kM}}]}}),QS);function _M(){var e={};return this.invokeMethod("getMenuButtonBoundingClientRect",{success:function(t){e=t},fail:function(e){throw new Error(e.errMsg)}},{beforeAll:function(e){e.errMsg=e.errMsg.replace("BoundingClientRect","Layout")}}),e}var SM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S({sync:!0})],key:"getMenuButtonLayout",value:function(){return _M.bind(this)}},{kind:"field",decorators:[$S({sync:!0})],key:"getMenuButtonBoundingClientRect",value:function(){return _M.bind(this)}},{kind:"field",decorators:[$S()],key:"showMorePanel",value:function(){return this.createInvokeMethodApi("showMorePanel")}},{kind:"field",decorators:[$S()],key:"setMenuButtonVisibility",value:function(){return this.createInvokeMethodApi("setMenuButtonVisibility")}}]}}),QS),CM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"updateShareMenu",value:function(e){this.container.updateShareMenu({withShareTicket:!!e.withShareTicket}),X_("updateShareMenu",e)}},{kind:"field",decorators:[$S()],key:"showShareMenu",value:function(){return this.createInvokeMethodApi("showShareMenu")}},{kind:"field",decorators:[$S()],key:"hideShareMenu",value:function(){return this.createInvokeMethodApi("hideShareMenu")}},{kind:"field",decorators:[$S()],key:"getShareInfo",value:function(){return this.createInvokeMethodApi("getShareInfo")}}]}}),QS),IM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"share",value:function(){return this.createInvokeMethodApi("share")}}]}}),QS),TM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",key:"manager",value:void 0},{kind:"method",decorators:[$S({creator:!0})],key:"getUpdateManager",value:function(){var e=this;if(!this.manager){var t={applyUpdate:this.applyUpdate,triggerCheckUpdate:this.triggerCheckUpdate,onCheckForUpdate:function(n){return e.CheckForUpdate.on(n),t},onUpdateReady:function(n){return e.UpdateReady.on(n),t},onUpdateFailed:function(n){return e.UpdateFailed.on(n),t}};this.manager=t}return this.manager}},{kind:"field",key:"applyUpdate",value:function(){return this.createInvokeMethodApi("applyUpdate")}},{kind:"field",key:"triggerCheckUpdate",value:function(){return this.createInvokeMethodApi("triggerCheckUpdate")}},{kind:"field",key:"CheckForUpdate",value:function(){return this.createNativeEventApi("onCheckForUpdate",{wrapper:function(e){return sS(e,"at updateManager.onCheckForUpdate callback function")},onPolicy:"latest"})}},{kind:"field",key:"UpdateFailed",value:function(){return this.createNativeEventApi("onUpdateFailed",{wrapper:function(e){return sS((function(t){e(t),Lb(Ky,Ob).addMap({data:t}).flush()}),"at updateManager.onUpdateReady callback function")},onPolicy:"latest"})}},{kind:"field",key:"UpdateReady",value:function(){return this.createNativeEventApi("onUpdateReady",{wrapper:function(e){return sS(e,"at updateManager.onUpdateFailed callback function")},onPolicy:"latest"})}}]}}),QS),AM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"UserCaptureScreen",value:function(){var e=this;return this.createNativeEventApi("userCaptureScreenObserved",{whenListenerExisted:function(){e.invokeMethod("onUserCaptureScreen")},whenListenerEmptied:function(){e.invokeMethod("offUserCaptureScreen")}})}}]}}),QS),EM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getNetworkType",value:function(){return this.createInvokeMethodApi("getNetworkType")}},{kind:"field",decorators:[$S()],key:"NetworkStatusChange",value:function(){return this.createNativeEventApi("onNetworkStatusChange")}}]}}),QS),MM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"addShortcut",value:function(e){"tap"===this.container.detectUserInteraction?this.invokeMethod("addShortcut",e):Q_("addShortcut",e,"must be invoked by user tap gesture")}},{kind:"method",decorators:[$S()],key:"checkShortcut",value:function(e){this.invokeMethod("checkShortcut",e)}}]}}),QS),xM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getNetworkQualityType",value:function(){return this.createInvokeMethodApi("getNetworkQualityType")}},{kind:"field",decorators:[$S()],key:"NetworkQualityChange",value:function(){var e=this;return this.createNativeEventApi("onNetworkQualityChange",{whenListenerExisted:function(){e.invokeMethod("onNetworkQualityChange")},whenListenerEmptied:function(){e.invokeMethod("offNetworkQualityChange")}})}}]}}),QS),PM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getConnectedWifi",value:function(){return this.createInvokeMethodApi("getConnectedWifi")}},{kind:"field",decorators:[$S()],key:"getWifiStatus",value:function(){return this.createInvokeMethodApi("getWifiStatus")}},{kind:"field",decorators:[$S({sync:!0})],key:"getWifiStatusSync",value:function(){var e=this;return function(){var t={};return e.invokeMethod("getWifiStatusSync",{},{beforeAll:function(e){"getWifiStatusSync:ok"===e.errMsg&&(delete e.errMsg,t=e)}}),t}}},{kind:"field",decorators:[$S()],key:"getWifiList",value:function(){return this.createInvokeMethodApi("getWifiList")}},{kind:"field",decorators:[$S()],key:"GetWifiList",value:function(){var e=this;return this.createNativeEventApi("onGetWifiList",{whenListenerExisted:function(){e.invokeMethod("onGetWifiList")},whenListenerEmptied:function(){e.invokeMethod("offGetWifiList")}})}}]}}),QS),OM="_onWatermarkChange";function RM(e){var t,n,r;return"function"==typeof e?t=e:"object"==typeof e&&("function"==typeof e.callback&&(t=e.callback),"function"==typeof e.success&&(n=e.success),"function"==typeof e.fail&&(r=e.fail)),{callback:t,success:n,fail:r}}var NM=OS(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t);return{F:n,d:[{kind:"field",decorators:[$S()],key:"checkWatermark",value:function(){return this.createInvokeMethodApi("checkWatermark")}},{kind:"field",decorators:[$S()],key:"hasWatermark",value:function(){return this.createInvokeMethodApi("hasWatermark")}},{kind:"method",decorators:[$S()],key:"onWatermarkChange",value:function(e){if(e){var t=RM(e),n=t.callback,r=t.success,i=t.fail;if(n){var o=this.emitter;if(0===o.size(OM)){this.invokeMethod("onWatermarkChange",{success:function(e){o.on(OM,n),r&&r(e)},fail:i})}else o.on(OM,n),r&&r()}else i&&i("have no callback")}}},{kind:"method",decorators:[$S()],key:"offWatermarkChange",value:function(e){if(e){var t=RM(e),n=t.callback,r=t.success,i=t.fail;if(n){r&&r();var o=this.emitter,a=o.size(OM);o.off(OM,n),1===a&&0===o.size(OM)&&this.invokeMethod("offWatermarkChange",{})}else i&&i("have no callback")}}},{kind:"method",key:"setup",value:function(){var e=this;HC(_w(n.prototype),"setup",this).call(this),this.onMethod("onWatermarkChange",(function(t){void 0===t&&(t={}),e.emitter.emit(OM,t)}))}}]}}),QS),jM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"checkLocalFaceVerify",value:function(){return this.createInvokeMethodApi("checkLocalFaceVerify",{addStandardError:!0,checkExtendParams:{checkUpdate:{type:"Boolean",required:!1,defaultValue:!0}}})}},{kind:"field",decorators:[$S()],key:"prepareLocalFaceVerify",value:function(){return this.createInvokeMethodApi("prepareLocalFaceVerify",{addStandardError:!0,checkExtendParams:{timeout:{type:"Number",required:!1,defaultValue:60}}})}},{kind:"field",decorators:[$S()],key:"startLocalFaceVerify",value:function(){return this.createInvokeMethodApi("startLocalFaceVerify",{addStandardError:!0,checkExtendParams:{path:{type:"String",required:!0}}})}}]}}),QS),DM=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf-8","utf8","latin1"];function LM(e,t){if(!e||"string"!=typeof e)throw K_(new TypeError(t+" must be a string"),t)}var FM=function(){function e(e){var t=e.mode,n=void 0===t?0:t,r=e.size,i=void 0===r?0:r,o=e.lastAccessedTime,a=void 0===o?"":o,s=e.lastModifiedTime,c=void 0===s?"":s;this.mode=void 0,this.size=void 0,this.lastAccessedTime=void 0,this.lastModifiedTime=void 0,this.mode=n,this.size=i,this.lastAccessedTime=a,this.lastModifiedTime=c}var t=e.prototype;return t._checkModeProperty=function(e){return(61440&this.mode)===e},t.isFile=function(){return this._checkModeProperty(32768)},t.isDirectory=function(){return this._checkModeProperty(16384)},ls(e)}();function BM(){var e=this.createInvokeMethodApi,t=this.createInvokeMethodSyncApi;return{getFileInfo:e("getFileInfo",{addStandardError:!0,checkParams:{filePath:""}}),getSavedFileList:e("getSavedFileList",{addStandardError:!0}),removeSavedFile:e("removeSavedFile",{addStandardError:!0,checkParams:{filePath:""}}),getSavedFileInfo:e("getSavedFileInfo",{addStandardError:!0,checkParams:{filePath:""}}),saveFile:e("saveFile",{addStandardError:!0,checkParams:{tempFilePath:""}}),saveFileSync:t("saveFileSync",(function(e,t){return LM(e,"tempFilePath"),{tempFilePath:e,filePath:t}}),(function(e){return e.savedFilePath})),readFile:e("readFile",{addStandardError:!0,checkParams:{filePath:""}}),readFileSync:t("readFileSync",(function(e,t){LM(e,"filePath");var n={filePath:e};return t&&(LM(t,"encoding"),n.encoding=t),n}),(function(e){return e.data})),writeFile:e("writeFile",{addStandardError:!0,checkParams:{filePath:""},customCheckParams:function(e){if(e.encoding&&!DM.includes(e.encoding))return{message:'invalid encoding "'+e.encoding+'"',key:"encoding"}}}),writeFileSync:t("writeFileSync",(function(e,t,n){if(LM(e,"filePath"),n&&-1===DM.indexOf(n))throw J_(new Error('invalid encoding "'+n+'"'),"encoding");return{filePath:e,data:t,encoding:n}}),!1),mkdir:e("mkdir",{addStandardError:!0,checkParams:{dirPath:""}}),mkdirSync:t("mkdirSync",(function(e,t){return void 0===t&&(t=!1),LM(e,"dirPath"),{dirPath:e,recursive:t}}),!1),readdir:e("readdir",{addStandardError:!0,checkParams:{dirPath:""}}),readdirSync:t("readdirSync",(function(e){return LM(e,"dirPath"),{dirPath:e}}),(function(e){return e.files})),rmdir:e("rmdir",{addStandardError:!0,checkParams:{dirPath:""}}),rmdirSync:t("rmdirSync",(function(e,t){return void 0===t&&(t=!1),LM(e,"dirPath"),{dirPath:e,recursive:t}}),!1),access:e("access",{addStandardError:!0,checkParams:{path:""},paramsTransformer:function(e){/^(ttfile|http):\/\/(user|temp)$/.test(e.path)&&(e.path+="/")}}),accessSync:t("accessSync",(function(e){LM(e,"path");return/^(ttfile|http):\/\/(user|temp)$/.test(e)&&(e+="/"),{path:e}}),!1),unlink:e("unlink",{addStandardError:!0,checkParams:{filePath:""}}),unlinkSync:t("unlinkSync",(function(e){return LM(e,"filePath"),{filePath:e}}),!1),stat:e("stat",{addStandardError:!0,checkParams:{path:""},beforeSuccess:function(e){e.stats=e.stat=new FM(e.stat)}}),statSync:t("statSync",(function(e){return LM(e,"path"),{path:e}}),(function(e){return new FM(e.stat)})),rename:e("rename",{addStandardError:!0,checkParams:{oldPath:"",newPath:""}}),renameSync:t("renameSync",(function(e,t){return LM(e,"oldPath"),LM(t,"newPath"),{oldPath:e,newPath:t}}),!1),copyFile:e("copyFile",{addStandardError:!0,checkParams:{srcPath:"",destPath:""}}),copyFileSync:t("copyFileSync",(function(e,t){return LM(e,"srcPath"),LM(t,"destPath"),{srcPath:e,destPath:t}}),!1),unzip:e("unzip",{addStandardError:!0,checkParams:{zipFilePath:"",targetPath:""}}),appendFile:e("appendFile",{addStandardError:!0}),appendFileSync:t("appendFileSync",(function(e,t,n){return{filePath:e,data:t,encoding:n}}),!1,{firstUseErrString:!0})}}var UM,qM,WM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",key:"fs",value:function(){return BM.call(this)}},{kind:"method",decorators:[$S()],key:"getFileSystemManager",value:function(){return this.fs}},{kind:"field",decorators:[$S()],key:"saveFile",value:function(){return this.fs.saveFile}},{kind:"field",decorators:[$S()],key:"getFileInfo",value:function(){return this.fs.getFileInfo}},{kind:"field",decorators:[$S()],key:"getSavedFileList",value:function(){return this.fs.getSavedFileList}},{kind:"field",decorators:[$S()],key:"removeSavedFile",value:function(){return this.fs.removeSavedFile}}]}}),QS),VM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getExtConfig",value:function(){return this.createInvokeMethodApi("getExtConfig")}},{kind:"field",decorators:[$S()],key:"getExtConfigSync",value:function(){return this.createInvokeMethodSyncApi("getExtConfigSync",(function(){return{}}),!0)}}]}}),QS),zM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"makePhoneCall",value:function(){return this.createInvokeMethodApi("makePhoneCall",{addStandardError:!0,checkParams:{phoneNumber:""}})}},{kind:"field",decorators:[$S()],key:"getPhoneNumber",value:function(){var e=this;return function(t){void 0===t&&(t={}),e.invokeMethod("_serviceGetPhoneNumber",t,{beforeAll:function(e){"object"!=typeof e.detail&&(e.detail={}),e.detail.errMsg=e.errMsg.replace("_serviceGetPhoneNumber","getPhoneNumber"),delete e.errMsg}})}}}]}}),QS),HM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"scanCode",value:function(){return this.createInvokeMethodApi("scanCode",{addStandardError:!0,beforeSuccess:function(e){"string"==typeof e.path&&(e.path=e.path.replace(/\.html$/,""),e.path=e.path.replace(/\.html\?/,"?"))}})}}]}}),QS);!function(e){e.NDEF="NDEF",e.A="NFC-A",e.B="NFC-B",e.F="NFC-F",e.V="NFC-V",e.MIFARE_CLASSIC="MIFARE-Classic",e.MIFARE_ULTRALIGHT="MIFARE-Ultralight",e.ISO_DEP="ISO-DEP"}(qM||(qM={}));var GM=new WeakMap;function JM(e,t,n){GM.get(e).invokeMethod(t,Object.assign({tech:e.tech},n))}var KM=function(){function e(e,t){this.tech=void 0,this.tech=e,function(e,t){GM.set(e,t)}(this,t)}var t=e.prototype;return t.connect=function(e){JM(this,"nfcConnect",e)},t.close=function(e){JM(this,"nfcClose",e)},t.setTimeout=function(e){JM(this,"nfcSetTimeout",e)},t.transceive=function(e){JM(this,"nfcTransceive",e)},t.getMaxTransceiveLength=function(e){JM(this,"nfcMaxTransceiveLength",e)},ls(e)}(),$M=function(e){function t(t){return e.call(this,qM.A,t)||this}hm(t,e);var n=t.prototype;return n.getAtqa=function(e){JM(this,"nfcGetAtqa",e)},n.getSak=function(e){JM(this,"nfcGetSak",e)},ls(t)}(KM),YM=function(e){function t(t){return e.call(this,qM.V,t)||this}return hm(t,e),ls(t)}(KM),QM=function(e){function t(t){return e.call(this,qM.MIFARE_CLASSIC,t)||this}return hm(t,e),ls(t)}(KM),XM=((UM={})[qM.A]=$M,UM[qM.V]=YM,UM[qM.MIFARE_CLASSIC]=QM,UM),ZM=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",key:"adapter",value:function(){return this.nfcAdapter()}},{kind:"field",key:"instances",value:function(){return{}}},{kind:"method",decorators:[$S()],key:"getNFCAdapter",value:function(){return this.adapter}},{kind:"method",key:"nfcAdapter",value:function(){var e=this,t=this.createNativeEventApi("nfcFoundDevice"),n=t.on,r=t.off;return{tech:qM,getNfcA:function(){return e.getInstance(qM.A)},getNfcV:function(){return e.getInstance(qM.V)},getMifareClassic:function(){return e.getInstance(qM.MIFARE_CLASSIC)},onDiscovered:n,offDiscovered:r,startDiscovery:this.createInvokeMethodApi("nfcStartDiscovery"),stopDiscovery:this.createInvokeMethodApi("nfcStopDiscovery")}}},{kind:"method",key:"getInstance",value:function(e){var t=this.instances;return t[e]||(t[e]=new XM[e](this)),t[e]}}]}}),QS),ex=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"preloadMiniProgram",value:function(){return this.createInvokeMethodApi("preloadMiniProgram",{checkParams:{appList:[],extraData:{}},customCheckParams:function(e){if(!T_(e.appList)||e.appList.every((function(e){return!(__(e)&&(t=e.appId,lS(t)&&k_.test(t)));var t})))return{message:"no valid appId",key:"appList"}},defaults:function(){return{extraData:{}}}})}},{kind:"method",decorators:[$S()],key:"navigateToMiniProgram",value:function(e){var t;e=e||{};var n,r={};if("tap"!==this.container.detectUserInteraction)n="must be invoked by user tap gesture";else if(e.appId){if(e.envVersion&&"current"!==e.envVersion&&"latest"!==e.envVersion)n="envVersion must be current or latest";else if(e.extraData&&"[object Object]"!==Object.prototype.toString.call(e.extraData))n="extraData must be plain object";else if(null!=(t=e.path)&&t.includes("?"))try{r=e.path.split("?")[1].split("&").reduce((function(e,t){var n=t.split("=");return""!==n[0]&&(e[n[0]]=n[1]||""),e}),r)}catch(e){n="path is illegal"}}else n="appId is missing";n?this.beforeInvokeFail("navigateToMiniProgram",e,n):this.invokeMethod("navigateToMiniProgram",{appId:e.appId,startPage:nS(e.path),query:r,extraData:JSON.stringify(e.extraData),versionType:e.envVersion,success:e.success,fail:e.fail,complete:e.complete})}},{kind:"method",decorators:[$S()],key:"navigateBackMiniProgram",value:function(e){var t;e=e||{},"tap"!==this.container.detectUserInteraction?t="must be invoked by user tap gesture":e.extraData&&"[object Object]"!==Object.prototype.toString.call(e.extraData)&&(t="extraData must be plain object"),t?this.beforeInvokeFail("navigateBackMiniProgram",e,t):this.invokeMethod("navigateBackMiniProgram",{extraData:JSON.stringify(e.extraData),success:e.success,fail:e.fail,complete:e.complete})}}]}}),QS),tx="onExitMiniProgram",nx=OS(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t);return{F:n,d:[{kind:"field",key:"handler",value:function(){return null}},{kind:"field",decorators:[$S()],key:"exitMiniProgram",value:function(){return this.createInvokeMethodApi("exitMiniProgram")}},{kind:"method",decorators:[$S()],key:"onBeforeExitMiniProgram",value:function(e){"function"==typeof e&&(this.handler=sS(e,"onBeforeCloseReturnSync"))}},{kind:"method",decorators:[$S()],key:"offBeforeExitMiniProgram",value:function(){this.handler=null}},{kind:"method",decorators:[$S()],key:"onExitMiniProgram",value:function(e,t){if("function"==typeof e){var n,r,i,o=this.emitter;if(o.size(tx)>0)o.on(tx,e),null==t||null==t.success||t.success(),null==t||null==t.complete||t.complete();else o.on(tx,e),this.invokeMethod(tx,{},{afterAll:null!=(n=null==t?void 0:t.complete)?n:$w,afterSuccess:null!=(r=null==t?void 0:t.success)?r:$w,afterFail:null!=(i=null==t?void 0:t.fail)?i:$w})}}},{kind:"method",key:"setup",value:function(){var e=this;HC(_w(n.prototype),"setup",this).call(this),this.onMethod("onBeforeExitMiniProgram",(function(t){var n=null==e.handler?void 0:e.handler(t);"boolean"==typeof n?e.invokeMethod("onBeforeCloseReturnSync",{isClosed:n}):e.invokeMethod("onBeforeCloseReturnSync",{isClosed:!1})})),this.onMethod("onExitMiniProgramListener",(function(t){e.emitter.emit(tx,t)}))}}]}}),QS),rx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"hideKeyboard",value:function(){return this.createInvokeMethodApi("hideKeyboard")}}]}}),QS),ix=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getUseDuration",value:function(){return this.createInvokeMethodApi("getUseDuration")}},{kind:"field",decorators:[$S()],key:"getUsageRecord",value:function(){return this.createInvokeMethodApi("getUsageRecord")}}]}}),QS),ox=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getGeneralInfo",value:function(){return this.createInvokeMethodApi("getGeneralInfo")}}]}}),QS),ax=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"reportBadge",value:function(){return this.createInvokeMethodApi("reportBadge")}},{kind:"field",decorators:[$S()],key:"updateBadge",value:function(){return this.createInvokeMethodApi("updateBadge")}}]}}),QS),sx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"ServerBadgePush",value:function(){return this.createNativeEventApi("serverBadgePushObserved")}},{kind:"field",decorators:[$S()],key:"startServerBadgePush",value:function(){return this.createInvokeMethodApi("onServerBadgePush")}},{kind:"field",decorators:[$S()],key:"stopServerBadgePush",value:function(){return this.createInvokeMethodApi("offServerBadgePush")}}]}}),QS),cx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getBeacons",value:function(){return this.createInvokeMethodApi("getBeacons")}},{kind:"field",decorators:[$S()],key:"startBeaconDiscovery",value:function(){return this.createInvokeMethodApi("startBeaconDiscovery")}},{kind:"field",decorators:[$S()],key:"stopBeaconDiscovery",value:function(){return this.createInvokeMethodApi("stopBeaconDiscovery")}},{kind:"field",decorators:[$S()],key:"BeaconUpdate",value:function(){return this.createNativeEventApi("beaconUpdate",{offPolicy:"clearAll"})}},{kind:"field",decorators:[$S()],key:"BeaconServiceChange",value:function(){return this.createNativeEventApi("beaconServiceChange",{offPolicy:"clearAll"})}}]}}),QS),ux=new WeakMap,lx=function(){function e(e,t,n){this._id=void 0,this.componentId=void 0,this.__webviewId__=void 0,ux.set(this,n),this._id=e,t&&(this.componentId=t.__nodeid__);var r=getCurrentPages();this.__webviewId__=r[r.length-1].__webviewId__}return e.sendCommand=function(e,t,n){ux.get(n).publish("operateMapContext",{id:n._id,op:e,data:t},[n.__webviewId__])},e.prototype.moveToLocation=function(t){void 0===t&&(t={});var n=ux.get(this);t.mapId=n.id2MapId[this._id],n.invokeMethod("moveToLocation",t),e.sendCommand("moveToLocation",t,this)},ls(e)}(),fx=OS(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t);return{F:n,d:[{kind:"field",key:"id2MapId",value:function(){return{}}},{kind:"method",decorators:[$S()],key:"createMapContext",value:function(e,t){return new lx(e,t,this)}},{kind:"method",key:"setup",value:function(){var e=this;HC(_w(n.prototype),"setup",this).call(this),this.subscribe("mapIdsChanged",(function(t){var n=t.id,r=t.mapId;e.id2MapId[n]=r}))}}]}}),QS),dx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"openLingoProfile",value:function(){return this.createInvokeMethodApi("openLingoProfile")}}]}}),QS),hx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"setUserScalable",value:function(e){var t=e.scalable,n=e.success,r=e.fail,i=e.complete,o=getCurrentPages(),a=o[o.length-1];Km().getContainer().bridge.invokeWebviewMethod("setUserScalable",{scalable:t},a.__webviewId__,(function(e){e.succeded?("function"==typeof n&&n({errMsg:e.errMsg}),"function"==typeof i&&i({errMsg:e.errMsg})):("function"==typeof r&&r({errMsg:e.errMsg}),"function"==typeof i&&i({errMsg:e.errMsg}))}))}}]}}),QS),px=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"requestAccess",value:function(){return this.createInvokeMethodApi("requestAccess")}}]}}),QS),vx=new HT.EventEmitter2,gx=new WeakMap,mx="onTransferMessage";FS("onTransferMessage",(function(e){vx.emit(mx,e)}));var yx=function(){function e(e){this.type=void 0;var t=e.type,n=void 0===t?"worker":t;this.type=n}var t=e.prototype;return t.transferMessage=function(e){LS("transferMessage",Object.assign({},e,{from:this.type}))},t.onTransferMessage=function(e){var t=gx.get(e)||sS(e,"onTransferMessage");gx.set(e,t),vx.on(mx,t)},t.offTransferMessage=function(e){var t=gx.get(e);t&&vx.off(mx,t)},t.getParentChannel=function(){var e;return"worker"===this.type&&(null==Gg||null==(e=Gg.nativeTMAConfig)?void 0:e.parentMessageChannel)||""},ls(e)}();var bx=[eC,nC,rC,qC,WC,VC,GC,JC,WE,VE,zE,KC,bI,II,ZI,aT,eT,cT,kT,KA,wT,QA,eE,nE,tE,_T,IT,rE,oE,aE,sE,FE,UE,HE,GE,JE,KE,$E,YE,ZE,eM,nM,tM,uM,lM,ST,wM,SM,CM,IM,TM,AM,EM,xM,PM,MM,NM,jM,WM,VM,zM,HM,ZM,ex,nx,rx,ix,ox,ax,sx,cx,fx,dx,CT,hx,px],kx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"showModal",value:function(e){void 0===e&&(e={});e=Object.assign({},{title:"",content:"",confirmText:"",cancelText:"",showCancel:!0,confirmColor:"#3CC51F",cancelColor:"#000000"},e),this.beforeInvoke("showModal",e,{title:"String",content:"String",confirmText:"String",cancelText:"String",confirmColor:"String",cancelColor:"String"},!0)&&(IS(e.confirmText)>8?this.beforeInvokeFail("showModal",e,"confirmText length should not larger than 4 Chinese characters",{errno:U_,errString:E_("confirmText")}):IS(e.cancelText)>8?this.beforeInvokeFail("showModal",e,"cancelText length should not larger than 4 Chinese characters",{errno:U_,errString:E_("cancelText")}):this.invokeMethod("showModal",e))}}]}}),QS),wx=OS(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t);return{F:n,d:[{kind:"field",key:"original",value:function(){return new kx(this.container)}},{kind:"field",key:"currentShowCount",value:function(){return 0}},{kind:"field",key:"continueShowCount",value:function(){return 0}},{kind:"field",key:"lastCloseTime",value:function(){return 0}},{kind:"field",key:"isTipShowed",value:function(){return!1}},{kind:"field",decorators:[YS((function(){return nx}))],key:"exiter",value:void 0},{kind:"method",key:"setup",value:function(){HC(_w(n.prototype),"setup",this).call(this),Hm(this.original)}},{kind:"method",decorators:[$S()],key:"showModal",value:function(e){if(void 0===e&&(e={}),!this.isTipShowed){if(this.currentShowCount>0)this.continueShowCount++;else Date.now()-this.lastCloseTime<500?this.continueShowCount++:this.reset();this.continueShowCount>=3?this.tryShowTipModal(e):this.showNormalModal(e)}}},{kind:"field",key:"getShowModalTipInfo",value:function(){return this.createInvokeMethodApi("getShowModalTipInfo")}},{kind:"method",key:"tryShowTipModal",value:function(e){var t=this;void 0===e&&(e={}),this.getShowModalTipInfo({success:function(e){t.showTipModal(e)},fail:function(n){t.showNormalModal(e)}})}},{kind:"method",key:"showNormalModal",value:function(e){var t=this;void 0===e&&(e={});var n=(e=Object.assign({},e)).success,r=e.fail;e.success=function(e){t.lastCloseTime=Date.now(),t.currentShowCount--,n&&n(e)},e.fail=function(e){t.currentShowCount--,r&&r(e)},this.currentShowCount++,this.original.showModal(e)}},{kind:"method",key:"showTipModal",value:function(e){var t=this;this.isTipShowed=!0,this.original.showModal({title:e.title,cancelText:e.cancelText,confirmText:e.confirmText,success:function(e){var n=e.confirm,r=e.cancel;if(t.isTipShowed=!1,n){t.reset();var i=t.currentShowCount;t.currentShowCount=0,t.exiter.exitMiniProgram({fail:function(){t.reset(),t.currentShowCount=i}})}r&&t.reset()},fail:function(e){t.isTipShowed=!1}})}},{kind:"method",key:"reset",value:function(){this.continueShowCount=0,this.lastCloseTime=0,this.isTipShowed=!1}}]}}),QS),_x=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"enterBot",value:function(){return this.createInvokeMethodApi("enterBot")}}]}}),QS),Sx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"enterChat",value:function(){return this.createInvokeMethodApi("enterChat")}},{kind:"field",decorators:[$S()],key:"toggleChat",value:function(){return this.createInvokeMethodApi("toggleChat",{checkParams:{openChatId:""}})}}]}}),_x),Cx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"enterChat",value:function(e){void 0===e&&(e={});var t,n=e,r=n.openid,i=n.openChatId;r||i?(((null==(t=Km())?void 0:t.agent)||{}).isEnterChatStandardizeEnabled||r&&i&&delete e.openChatId,void 0===e.needBadge&&(e.needBadge=!0),this.invokeMethod("enterChat",e)):this.beforeInvokeFail("enterChat",e,"no valid id",{errno:q_,errString:O_()})}}]}}),_x),Ix=function(e){function t(){return e.apply(this,arguments)||this}return hm(t,e),ls(t)}(QS),Tx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"enterProfile",value:function(){return this.createInvokeMethodApi("enterProfile",{checkParams:{openid:""}})}}]}}),Ix),Ax=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"enterProfile",value:function(e){void 0===e&&(e={}),void 0===e.left&&(e.left=0),void 0===e.top&&(e.top=0);this.beforeInvoke("enterProfile",e,{openid:"String",left:0,top:0})&&this.invokeMethod("enterProfile",e)}}]}}),Ix),Ex=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"startPasswordVerify",value:function(){return this.createInvokeMethodApi("startPasswordVerify")}}]}}),QS),Mx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"chooseContact",value:function(e){void 0===e&&(e={}),void 0===e.externalContact&&(e.externalContact=!0),void 0===e.multi&&(e.multi=!0),void 0===e.ignore&&(e.ignore=!1),e.multi=Boolean(e.multi),!1===e.multi&&(e.choosenIds=null);var t=!1;null!==e.choosenIds&&null!==e.disableChosenIds&&e.choosenIds instanceof Array&&e.disableChosenIds instanceof Array&&e.choosenIds.forEach((function(n){-1!==e.disableChosenIds.indexOf(n)&&(t=!0)})),!1===t?this.invokeMethod("chooseContact",e):qS("chooseContact",e,"choosenIds and disableIds intersect",{errno:V_,errString:P_()})}},{kind:"method",decorators:[$S()],key:"chooseChat",value:function(e){void 0===e&&(e={}),void 0===e.externalChat&&(e.externalChat=!0),void 0===e.allowCreateGroup&&(e.allowCreateGroup=!0),void 0===e.ignoreSelf&&(e.ignoreSelf=!1),void 0===e.ignoreBot&&(e.ignoreBot=!1),void 0===e.multiSelect&&(e.multiSelect=!1),void 0===e.selectType&&(e.selectType=0);var t=function(e){var t,n,r=e.chosenOpenIds,i=e.chosenOpenChatIds,o=xx(r),a=xx(i);return(o&&null!=(t=null==r?void 0:r.length)?t:0)+(a&&null!=(n=null==i?void 0:i.length)?n:0)}(e);t>0&&(e.multiSelect=!0),t>10?qS("chooseChat",e,"Total count of chosenOpenIds and chosenOpenChatIds exceeds limit, max 10 allowed.",{errno:W_,errString:D_()}):this.invokeMethod("chooseChat",e)}}]}}),QS);function xx(e){return Array.isArray(e)&&e.length>0}var Px,Ox,Rx,Nx=OS(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t);return{F:n,d:[{kind:"field",decorators:[$S()],key:"ThemeChange",value:function(){return this.createEventApi("themeChange")}},{kind:"method",key:"setup",value:function(){HC(_w(n.prototype),"setup",this).call(this),this.onMethod("onThemeChange",this._onThemeChange),this.onMethod("onThemeInit",this._onThemeChange)}},{kind:"field",key:"_onThemeChange",value:function(){var e=this;return function(t){e.emitter.emit("themeChange",t)}}}]}}),QS),jx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getSecurityInfo",value:function(){return this.createInvokeMethodApi("getSecurityInfo")}},{kind:"field",decorators:[$S()],key:"getSecurityEnv",value:function(){return this.createInvokeMethodApi("getSecurityEnv")}}]}}),QS),Dx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"filePicker",value:function(){return this.createInvokeMethodApi("filePicker")}},{kind:"field",decorators:[$S()],key:"openDocument",value:function(){return this.createInvokeMethodApi("openDocument",{addStandardError:!0,checkParams:{filePath:"String"}})}},{kind:"method",decorators:[$S()],key:"docsPicker",value:function(e){var t=e.maxNum;void 0===t||t>0?this.invokeMethod("docsPicker",e):Q_("docsPicker",e,"no valid maxNum",{errString:E_("maxNum"),errno:U_})}}]}}),QS),Lx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"saveFileAs",value:function(){return this.createInvokeMethodApi("saveFileAs",{checkParams:{filePath:"String"}})}}]}}),QS),Fx=!1,Bx=new HT.EventEmitter2;!function(e){e.CREATE="init",e.ADD="addComment",e.SETMETA="setCommentMetadata",e.ACTIVE="activateComment",e.DEACTIVE="deactivateComment",e.DESTROY="destroy"}(Ox||(Ox={})),function(e){e.AFTERADD="add_comment",e.MENTION="mention",e.ADDREPLY="add_reply",e.ACITVECHANGE="active_comment_change",e.RESOLVE="resolve",e.EDIT="edit",e.DELETE="delete_reply",e.PANELSHOW="panel_show_status_change",e.PANELCLOSE="panel_close",e.DATACHANGE="data_update",e.INIT="ready",e.PANELHEIGHTCHANGE="panel_height_update",e.ERROR="comment_error",e.READY="allReady"}(Rx||(Rx={}));var Ux,qx=ls((function(e,t,n){var r=this;this.token="",this.worker=void 0,this.callbackMap=new Map,this.isCreatedManager=!1,this.appId="",this.ready=!1,this.eventEmitter=new HT.EventEmitter2,this.commentMetaData=[],this.serviceType=void 0,this.emitAppIdError=function(){r.eventEmitter.emit(Rx.ERROR,{code:-1,msg:"invalid appid",service:"appid_valid"})},this.emitWorkerError=function(){r.eventEmitter.emit(Rx.ERROR,{code:-1,msg:"worker not exist",service:"create_worker"})},this.emitWorkerCallbackIdError=function(){r.eventEmitter.emit(Rx.ERROR,{code:-1,msg:"[worker] callbackId not exist",service:"callbackId_valid"})},this.reportError=function(e,t,n,r){void 0===t&&(t=-1),void 0===n&&(n=""),void 0===r&&(r=""),Db(Xy,lb).addMap({commentMsg:e,commentErrorCode:t,commentService:n,logId:r,message:e,errorType:"commentWarn"}).flush()},this.createWorker=function(){if(!Px){var e={token:r.token};r.serviceType&&(e.type=r.serviceType);var t=L_(e,{token:{type:"String",required:!0}});t?setTimeout((function(){r.eventEmitter.emit(Rx.ERROR,{code:-1,msg:t})}),0):LS("createWorker",{key:"comment_for_gadget",data:e},{afterSuccess:function(e){if(e&&Array.isArray(e.__nativeJsObject__)&&e.__nativeJsObject__.length){var t=e.__nativeJsObject__[0],n=t.key,i=t.value;"comment_for_gadget"===n&&(Px=r.worker=i)}},afterFail:function(){setTimeout((function(){r.eventEmitter.emit(Rx.ERROR,{code:-1,msg:"create worker fail"})}),0)}})}},this.createCommentManager=function(e){var t={entity:{token:r.token,appId:r.appId,type:r.serviceType},permission:e},n=Ox.CREATE;[Rx.ACITVECHANGE,Rx.RESOLVE,Rx.EDIT,Rx.PANELSHOW,Rx.AFTERADD,Rx.ADDREPLY,Rx.DATACHANGE,Rx.PANELHEIGHTCHANGE,Rx.MENTION,Rx.DELETE].map((function(e){return r.callbackMap.set(e,{callback:function(t){var n,i;(void 0===t&&(t={}),e===Rx.AFTERADD||e===Rx.ADDREPLY)&&(t.comment=null==(n=t)||null==(i=n.response)?void 0:i.comment);if(e===Rx.DATACHANGE)r.ready||(r.ready=!0,r.eventEmitter.emit(Rx.READY));else{var o;if(e===Rx.PANELSHOW)return void r.eventEmitter.emit(null!=(o=t)&&o.status?Rx.PANELSHOW:Rx.PANELCLOSE,t);e===Rx.ADDREPLY&&("completed"===t.type&&(t.type="reply"),r.eventEmitter.emit(Rx.AFTERADD,t))}r.eventEmitter.emit(e,t)},isKeep:!0}),e})),Fx?r.postMessage({event:n,body:t}):Bx.hasListeners(Rx.INIT)||Bx.on(Rx.INIT,(function(){Fx=!0,r.postMessage({event:n,body:t}),Bx.removeAllListeners(Rx.INIT)}))},this.addComment=function(e){var t=e.quote,n=e.position,i=e.bizParams,o={quote:t,position:n,bizParams:void 0===i?{}:i},a=L_(o,{quote:{type:"String",required:!0},position:{type:"String",required:!0},bizParams:{type:"Object"}});if(a)r.eventEmitter.emit(Rx.ERROR,{code:-1,msg:a});else{if(e.commentUUID)o.commentUUID=e.commentUUID;else if(e.insertIndex){var s="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));r.commentMetaData.splice(e.insertIndex,0,{commentId:s}),r.setCommentMetadata(r.commentMetaData),o.commentUUID=s}var c=Ox.ADD;r.postMessage({event:c,body:o})}},this.setCommentMetadata=function(e){var t=L_({metaData:e},{metaData:{type:"Array",required:!0}});if(t)r.eventEmitter.emit(Rx.ERROR,{code:-1,msg:t});else{var n=e,i=Ox.SETMETA;r.postMessage({event:i,body:n})}},this.activateComment=function(e){var t=e.commentId,n=e.replyId,i={commentId:t};void 0!==n&&(i.replyId=n);var o=L_(i,{commentId:{type:"String",required:!0},replyId:{type:"String"}});if(o)r.eventEmitter.emit(Rx.ERROR,{code:-1,msg:o});else{var a=Ox.ACTIVE;r.postMessage({event:a,body:i})}},this.deactivateComment=function(){var e=Ox.DEACTIVE;r.postMessage({event:e,body:{}})},this.onAfterAddComment=function(e){r.eventEmitter.on(Rx.AFTERADD,e)},this.onAfterEditComment=function(e){r.eventEmitter.on(Rx.EDIT,e)},this.onActiveCommentChange=function(e){r.eventEmitter.on(Rx.ACITVECHANGE,e)},this.onResolveComment=function(e){r.eventEmitter.on(Rx.RESOLVE,e)},this.onCommentPanelShow=function(e){r.eventEmitter.on(Rx.PANELSHOW,e)},this.onCommentPanelClose=function(e){r.eventEmitter.on(Rx.PANELCLOSE,e)},this.onCommentChange=function(e){r.eventEmitter.on(Rx.DATACHANGE,e)},this.onAddReplyComment=function(e){r.eventEmitter.on(Rx.ADDREPLY,e)},this.onAfterDeleteComment=function(e){r.eventEmitter.on(Rx.DELETE,e)},this.onError=function(e){r.eventEmitter.on(Rx.ERROR,(function(t){var n=t.code,i=void 0===n?-1:n,o=t.msg,a=void 0===o?"error":o,s=t.service,c=void 0===s?"":s,u=t.logId,l=void 0===u?"":u;r.reportError(a,i,c,l),null==e||e({msg:a,code:i,service:c})}))},this.onReady=function(e){r.eventEmitter.on(Rx.READY,e)},this.onMention=function(e){r.eventEmitter.on(Rx.MENTION,e)},this.destroy=function(){r.commentMetaData=[],r.callbackMap.clear();var e=Ox.DESTROY;r.commentMetaData=[];r.postMessage({event:e,body:{},callback:function(){r.callbackMap.clear(),r.eventEmitter.removeAllListeners()}})},this.postMessage=function(e){var t=e.event,n=e.body,i=e.callback,o=e.isKeep,a=void 0!==o&&o;if(r.worker){if(Fx){var s=wS(8),c=function(e){null==i||i(e)},u={callbackId:s,token:r.token,service:t};if(Km().agent.workerApiUseJSSDKMonitor){var l=Xm().subTrace(t);Db(Xy,fb).addMap({api_name:t,worker:"comment_for_gadget"}).flush(l);var f=setTimeout((function(){clearTimeout(f),Db(Xy,db).addMap({api_name:t,worker:"comment_for_gadget",isTimeOut:!0}).flush(l),new oy(l.finish()).flush()}),5e3);c=function(e){clearTimeout(f),Db(Xy,db).addMap({api_name:t,worker:"comment_for_gadget",isTimeOut:!1}).flush(l),new oy(l.finish()).flush(),null==i||i(e)},u.traceId=l.traceId}r.callbackMap.set(s,{callback:c,isKeep:a}),r.worker.postMessage({type:"request",header:u,body:n})}}else r.emitWorkerError()},this.responseMessage=function(e){r.worker?r.worker.postMessage({type:"response",header:{callbackId:e,token:r.token,code:0,msg:"success"}}):r.emitWorkerError()},this.onMessage=function(){r.worker?r.worker.onMessage((function(e){var t,n,i,o;if(null!=e&&null!=(t=e.header)&&t.callbackId)if((null==e||null==(n=e.header)?void 0:n.service)===Rx.INIT||(null==e||null==(i=e.header)?void 0:i.token)===r.token)if((null==e||null==(o=e.header)?void 0:o.service)!==Rx.INIT){var a=e.header,s=a.callbackId,c=a.code,u=void 0===c?0:c,l=a.service,f=void 0===l?"":l,d=a.errorMsg,h=void 0===d?"success":d,p=a.logId,v=void 0===p?"":p,g="request"===(null==e?void 0:e.type)?f:s;if(r.callbackMap.has(g)){var m,y=null!=(m=r.callbackMap.get(g))?m:{},b=y.callback,k=y.isKeep;null==b||b(null==e?void 0:e.body),k||r.callbackMap.delete(g)}"request"===(null==e?void 0:e.type)&&r.responseMessage(s),0!==u&&r.eventEmitter.emit(Rx.ERROR,{service:f,code:u,msg:h,logId:v})}else Bx.emit(Rx.INIT);else r.reportError("[worker] invalid token",-1,"token_valid");else r.emitWorkerCallbackIdError()})):r.emitWorkerError()},this.token=e;var i=TMAConfig.appId;if(this.appId=null!=i?i:"",this.serviceType=n,i){Px&&(this.worker=Px);var o=Object.assign({comment:!0,copy:!0,resolve:!0,delete:!0},t);this.createCommentManager(o),this.createWorker(),this.onMessage()}else this.emitAppIdError()})),Wx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S({creator:!0})],key:"createCommentManager",value:function(e){var t=e.token,n=e.permission,r=e.serviceType;return new qx(t,n,r)}}]}}),QS),Vx=OS(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t);return{F:n,d:[{kind:"field",key:"eventMap",value:function(){return{}}},{kind:"field",decorators:[$S()],key:"invokeCustomAPI",value:function(){return this.createInvokeMethodApi("invokeCustomAPI")}},{kind:"method",decorators:[$S({})],key:"addCustomEventListener",value:function(e,t){this.eventMap[e]||(this.eventMap[e]=this.createEventApi(e)),this.eventMap[e].on(t)}},{kind:"method",decorators:[$S({})],key:"removeCustomEventListener",value:function(e,t){var n;null==(n=this.eventMap[e])||null==n.off||n.off(t)}},{kind:"method",key:"setup",value:function(){var e=this;HC(_w(n.prototype),"setup",this).call(this),this.onMethod("fireCustomEvent",(function(t){var n=t.eventName,r=t.data;e.emitter.emit(n,r)}))}}]}}),QS),zx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"acquireFaceImage",value:function(){return this.createInvokeMethodApi("acquireFaceImage")}}]}}),QS),Hx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"loadPlugin",value:function(e){var t=this,n=getCurrentPages(),r=n[n.length-1],i=r.__webviewId__,o=e.plugin,a=Km().getContainer();if(a.plugins[o]||(a.plugins[o]={state:"loading",version:e.version,globalThis:{},internalGlobal:{__allConfig__:{},pluginConfig:{publicComponents:{}}}}),a.pluginsLoading[i]=a.pluginsLoading[i]||{},this.beforeInvoke("loadPlugin",e,{plugin:"",version:""}))if(a.pluginsLoading[i][o]){var s=a.pluginsLoading[i][o],c=s.promise,u=s.version,l=s.state,f={load_plugin_type:"waiting",plugin_id:o,input_version:e.version,waiting_version:u,waiting_version_loaded:"loaded"===l,webview_id:i,page_path:r.__route__};Lb(Qy,Ab).addMap(f).flush(),c.then((function(t){Lb(Qy,Ab).addMap(Object.assign({result_version:t.version},f)).flush(),"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)})).catch((function(n){Lb(Qy,Ab).addMap(Object.assign({error_code:n.errCode,error_msg:n.errMsg},f)).flush(),t.loadPlugin(e)}))}else{var d=a.plugins[o].version,h="loaded"===a.plugins[o].state,p=new Promise((function(n,s){var c={load_plugin_type:"immediate",plugin_id:o,input_version:e.version,actual_version:d,actual_version_loaded:h,webview_id:i,page_path:r.__route__};Lb(Qy,Ab).addMap(c).flush(),e.version=d,t.invokeMethod("loadPlugin",{pluginId:o,version:e.version,webviewId:i,success:function(t){Lb(Qy,Eb).addMap(Object.assign(c,{result_version:t.version})).flush(),"loading"===a.plugins[o].state&&(a.plugins[o].state="loaded",a.plugins[o].version=t.version),"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t),n(t)},fail:function(t){Lb(Qy,Mb).addMap(Object.assign(c,{error_code:t.errCode,error_msg:t.errMsg})).flush(),"loading"===a.plugins[o].state&&delete a.plugins[o],delete a.pluginsLoading[i][o],"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t),s(t)}})}));p.catch((function(){})),a.pluginsLoading[i][o]={state:"loading",version:d,promise:p}}}}]}}),QS),Gx=function(e){return"string"==typeof e?e.replace(/[^\u0000-\u00ff]/g,"aa").length:0},Jx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"showPrompt",value:function(){var e=this;return function(t){void 0===t&&(t={}),Gx(t.title)>30?e.beforeInvokeFail("showPrompt",t,"title length should not larger than 15 Chinese characters"):Gx(t.confirmText)>8?e.beforeInvokeFail("showPrompt",t,"confirmText length should not larger than 4 Chinese characters"):Gx(t.cancelText)>8?e.beforeInvokeFail("showPrompt",t,"cancelText length should not larger than 4 Chinese characters"):(t.maxLength=function(e){return"number"!=typeof e||isNaN(e)?140:e>=-1?e:140}(t.maxLength),e.invokeMethod("showPrompt",t))}}}]}}),QS),Kx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"reverseGeocode",value:function(){return this.createInvokeMethodApi("reverseGeocode")}}]}}),QS),$x="onChatBadgeChange",Yx="offChatBadgeChange",Qx="getChatInfo",Xx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"onChatBadgeChange",value:function(e){if(this.beforeInvoke($x,e,{openChatId:"",onChange:function(){}},!0)){var t=this.emitter,n=e.openChatId,r=e.onChange;t.size(n,r)||(t.size(n)||this.invokeMethod($x,e),t.on(n,r)),X_($x,e)}}},{kind:"method",decorators:[$S()],key:"offChatBadgeChange",value:function(e){if(this.beforeInvoke(Yx,e,{openChatId:""},!0)){var t=e.openChatId,n=e.onChange,r=this.emitter,i=r.size(t,n);r.off(t,n),i&&!r.size(t)&&this.invokeMethod(Yx,e),X_(Yx,e)}}},{kind:"method",decorators:[$S()],key:"getChatInfo",value:function(e){var t;if(((null==(t=Km())?void 0:t.agent)||{}).isGetChatInfoStandardizeEnabled)this.beforeInvoke(Qx,e,{openChatId:""},!0)&&this.invokeMethod(Qx,e);else if(this.beforeInvoke(Qx,e,{openChatId:"",chatType:0})){var n=e.chatType;[0,1].includes(n)?0!==n||[0,1].includes(e.userType)?this.invokeMethod(Qx,e):Q_(Qx,e,"must set userType when chatType is 0"):this.beforeInvokeFail(Qx,e,"chatType can only be 0 or 1")}}},{kind:"method",key:"setup",value:function(){var e=this;this.onMethod("chatBadgeChangeObserved",(function(t){void 0===t&&(t={}),t.openChatId&&e.emitter.emit(t.openChatId,{badge:t.badge})}))}}]}}),QS),Zx=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"setPageOrientation",value:function(){return this.createInvokeMethodApi("setPageOrientation")}}]}}),QS),eP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",key:"logManager",value:function(){return{log:this.createLog("log"),info:this.createLog("info"),debug:this.createLog("debug"),warn:this.createLog("warn")}}},{kind:"method",decorators:[$S({creator:!0})],key:"getLogManager",value:function(){return this.logManager}},{kind:"method",key:"invokeLog",value:function(e,t){this.invokeMethod("logManager",{type:e,msg:t})}},{kind:"method",key:"createLog",value:function(e){var t=this;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];r.length&&t.invokeLog(e,r[0].toString())}}}]}}),QS),tP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"startDeviceCredential",value:function(){return this.createInvokeMethodApi("startDeviceCredential",{checkParams:{authContent:"String"}})}}]}}),QS),nP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getServerTime",value:function(){return this.createInvokeMethodApi("getServerTime")}}]}}),QS),rP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getTriggerContext",value:function(){return this.createInvokeMethodApi("getTriggerContext")}},{kind:"field",decorators:[$S()],key:"sendMessageCard",value:function(){return this.createInvokeMethodApi("sendMessageCard")}}]}}),QS),iP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"mailto",value:function(){return this.createInvokeMethodApi("mailto")}}]}}),QS),oP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getDeviceID",value:function(){return this.createInvokeMethodApi("getDeviceID")}},{kind:"field",decorators:[$S()],key:"getLegacyDeviceID",value:function(){return this.createInvokeMethodApi("getLegacyDeviceID")}}]}}),QS),aP={mark:function(){}},sP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getPerformance",value:function(){return this.createInvokeMethodApi("getPerformance")}},{kind:"field",decorators:[$S()],key:"performance",value:function(){return aP}},{kind:"method",decorators:[$S()],key:"getPerformanceRecorder",value:function(){return Yk}},{kind:"field",decorators:[$S()],key:"getPerformanceEntriesSync",value:function(){return this.createInvokeMethodSyncApi("getPerformanceEntriesSync",(function(){return{}}),!0)}}]}}),QS),cP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[YS((function(){return FE}))],key:"downloadFileAPI",value:void 0},{kind:"field",decorators:[$S()],key:"chooseMedia",value:function(){return this.createInvokeMethodApi("chooseMedia")}},{kind:"method",decorators:[$S()],key:"getVideoInfo",value:function(e){var t=this;void 0===e&&(e={}),this.beforeInvoke("getVideoInfo",e,{src:""},!0)&&(e.isSupportNetworkURL=Boolean(e.isSupportNetworkURL),/^(http|https):\/\//.test(e.src)?e.isSupportNetworkURL?this.invokeMethod("canIUse",{schema:"getVideoInfo.isSupportNetworkURL"},{beforeAll:function(n){return t.handleCanIUseSuccess(e,n)}}):this.handleNotSupportedNetworkURL(e):this.invokeMethod("getVideoInfo",e,{beforeSuccess:function(t){t.path=e.src}}))}},{kind:"method",key:"handleNotSupportedNetworkURL",value:function(e){var t={errno:H_,errString:j_()};this.beforeInvokeFail("getVideoInfo",e,"path not be supported",t)}},{kind:"method",key:"handleDownloadSuccess",value:function(e,t){e.src=t.tempFilePath,this.invokeMethod("getVideoInfo",e,{beforeSuccess:function(t){t.path=e.src}})}},{kind:"method",key:"handleDownloadFail",value:function(e,t){var n={errno:t.errno||G_,errString:t.errString||N_()};this.beforeInvokeFail("getVideoInfo",e,"download video fail",n)}},{kind:"method",key:"handleCanIUseSuccess",value:function(e,t){var n=this;t.data?this.downloadFileAPI.downloadFile({url:e.src,success:function(t){return n.handleDownloadSuccess(e,t)},fail:function(t){return n.handleDownloadFail(e,t)}}):this.handleNotSupportedNetworkURL(e)}}]}}),QS),uP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getUserInfoEx",value:function(){return this.createInvokeMethodApi("getUserInfoEx")}}]}}),QS);!function(e){e[e.NOT_INITED_YET=0]="NOT_INITED_YET",e[e.INITTING=1]="INITTING",e[e.INITED=2]="INITED"}(Ux||(Ux={}));var lP=new WeakMap,fP=function(){function e(e){this.initStatus=void 0,this.initParams=void 0,this.initStatus=Ux.NOT_INITED_YET,this.initParams={},lP.set(this,e)}var t=e.prototype;return t.init=function(){var e=tw(iw.mark((function e(t){return iw.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.initStatus===Ux.NOT_INITED_YET){e.next=2;break}throw new Error("already inited");case 2:this.initStatus=Ux.INITTING,this.initParams=Object.assign({},this.initParams,null!=t?t:{}),this.initStatus=Ux.INITED;case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.inited=function(){return this.initStatus===Ux.INITED},t.run=function(e,t,n,r,i){var o,a,s=this;if(!e||!t)return Promise.reject(new Error("u should provide functionName and data"));if(this.initStatus!==Ux.INITED)return Promise.reject(new Error("cloud not inited yet"));var c=Object.assign({"content-type":"application/json"},null!=(o=this.initParams.headers)?o:{},null!=(a=null==n?void 0:n.headers)?a:{});return new Promise((function(o,a){lP.get(s).invokeMethod("callLightService",{context:Object.assign({method:"post"},s.initParams,null!=n?n:{},{headers:c,function_name:e,data:JSON.stringify(t)})},{afterSuccess:null!=r?r:function(e){o(e)},afterCancel:null!=i?i:function(e){a(e)},afterFail:null!=i?i:function(e){a(e)}})}))},ls(e)}(),dP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",key:"_cloud",value:function(){return new fP(this)}},{kind:"field",decorators:[$S()],key:"cloud",value:function(){return this._cloud}}]}}),QS),hP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getStepCount",value:function(){return this.createInvokeMethodApi("getStepCount")}}]}}),QS),pP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",key:"pending",value:function(){return!1}},{kind:"field",key:"id",value:function(){return 0}},{kind:"field",key:"queues",value:function(){return{}}},{kind:"method",decorators:[$S()],key:"nextTick",value:function(e){var t=this;"function"==typeof e&&(this.queues[this.id]=this.queues[this.id]||[],this.queues[this.id].push(v_(e,{errMsg:"at tt.nextTick callback"})),this.pending||(this.pending=!0,setTimeout((function(){var e=t.id;t.id++,t.pending=!1,t.queues[e].forEach((function(e){e()})),delete t.queues[e]}),0)))}}]}}),QS),vP=new HT,gP="richTextEvent",mP="richTextEvent_";function yP(e){LS("showRichText",e)}FS(gP,(function(e){vP.emit(mP+e.eventName,e.data||{})}));var bP=function(){function e(){}var t=e.prototype;return t.show=function(e){return yP(Object.assign({},e,{eventName:gP,fail:function(e){vP.emit(mP+"error",e)},success:function(){vP.emit(mP+"show")}})),this},t.update=function(e){return yP(Object.assign({},e,{eventName:gP,fail:function(e){vP.emit(mP+"error",e)}})),this},t.hide=function(){return LS("hideRichText"),this},t.onShow=function(e){var t=mP+"show";return vP.removeAllListeners(t),vP.on(t,(function(t){"function"==typeof e&&sS(e,"at richTextEvent.onShow callback function")(t)})),this},t.onPicSelect=function(e){var t=mP+"picSelect";return vP.removeAllListeners(t),vP.on(t,(function(t){"function"==typeof e&&sS(e,"at richTextEvent.onPicSelect callback function")(t)})),this},t.onModelSelect=function(e){var t=mP+"modelSelect";return vP.removeAllListeners(t),vP.on(t,(function(t){"function"==typeof e&&sS(e,"at richTextEvent.onModelSelect callback function")(t)})),this},t.onPublish=function(e){var t=mP+"publish";return vP.removeAllListeners(t),vP.on(t,(function(t){"function"==typeof e&&sS(e,"at richTextEvent.onPublish callback function")(t)})),this},t.onHide=function(e){var t=mP+"hide";return vP.removeAllListeners(t),vP.on(t,(function(t){"function"==typeof e&&sS(e,"at richTextEvent.onHide callback function")(t)})),this},t.onError=function(e){var t=mP+"error";return vP.removeAllListeners(t),vP.on(t,(function(t){"function"==typeof e&&sS(e,"at richTextEvent.onError callback function")(t)})),this},ls(e)}();function kP(){return new bP}var wP=!1,_P=[];var SP=new(function(){function e(){this.callBackCounter=0,this.callBackMap=new Map,this.initSubscribe()}var t=e.prototype;return t.initSubscribe=function(){var e=this;DS("remoteInvokeCallback",(function(t){ps.warn("camera_debug_get_INVOKE_CALLBACK==>",t);var n=t.callbackId,r=t.isSuccess,i=e.callBackMap.get(n);if(!i)throw ps.warn("camera_debug_CANNOT_FIND_CALLBACK===>",e.callBackMap),new Error("impossible");try{if(clearTimeout(i.timer),r){var o=t.response;i.resolver(o)}else{var a=t.errorMessage;i.rejecter(a)}}catch(t){throw e.callBackMap.delete(n),t}e.callBackMap.delete(n)}))},t.doInvoke=function(){var e=tw(iw.mark((function e(t,n,r,i,o){var a=this;return iw.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o=5),e.abrupt("return",new Promise((function(e,s){var c=a.callBackCounter++;ps.warn("camera_debug_doing_invoke==>",t,n,r,"callBackId==>",c);var u=setTimeout((function(){a.callBackMap.delete(c),s(new Error("[RemoveInvoke]"+t+":Timeover"))}),1e3*o);a.callBackMap.set(c,{resolver:e,rejecter:s,timer:u}),jS("remoteInvokeCall",{callbackId:c,apiName:t,payload:n,componentId:r},i)})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),ls(e)}()),CP=function(e){return"frame_data_"+e},IP=function(e){return"timeout_data_"+e},TP=new HT.EventEmitter2;function AP(e){var t=e.success,n=void 0===t?$w:t,r=e.fail,i=void 0===r?$w:r,o=e.complete,a=void 0===o?$w:o;return delete e.success,delete e.fail,delete e.complete,[e,{success:n,fail:i,complete:a}]}DS("cameraFrame",(function(e){var t=e.componentId,n=e.detail;TP.emit(CP(t),n)})),DS("cameraRecordTimeout",(function(e){var t=e.componentId,n=e.detail;TP.emit(IP(t),n)}));var EP,MP,xP=function(){function e(e){var t=this;if(this._compId=void 0,this.__webviewId__=void 0,this.timeoutCallbackCounter=0,this.timeoutCallbackMap=new Map,!e)throw new Error("[CameraContext]pass componentId PLZ");this._compId=e;var n=getCurrentPages();this.__webviewId__=n[n.length-1].__webviewId__,TP.on(this.timeoutEventTag,(function(e){var n=e.tempThumbPath,r=e.tempVideoPath,i=e.timeoutCallbackId,o=void 0===i?-1:i,a=t.timeoutCallbackMap.get(o);t.timeoutCallbackMap.delete(o),null==a||a({tempThumbPath:n,tempVideoPath:r})}))}var t=e.prototype;return t.registTimeoutCallback=function(e){var t=++this.timeoutCallbackCounter;return this.timeoutCallbackMap.set(t,e),t},t.onCameraFrame=function(e,t){var n=this;if(void 0===t&&(t={}),"function"!=typeof e)throw new Error("[onCameraFrame] callBack should be function");var r=t,i=r.success,o=void 0===i?$w:i,a=r.fail,s=void 0===a?$w:a,c=r.complete,u=void 0===c?$w:c;if(TP.listenerCount(this.frameEventTag)>0)return null==o||o(),null==u||u(),void TP.on(this.frameEventTag,e);SP.doInvoke("onCameraFrame",{},this._compId,[this.__webviewId__]).then((function(){TP.on(n.frameEventTag,e),o.apply(void 0,arguments)})).catch(s).finally(u)},t.offCameraFrame=function(e,t){var n=this;void 0===t&&(t={});var r=t,i=r.success,o=r.fail,a=r.complete;if("function"!=typeof e)throw new Error("[offCameraFrame] callBack should be function");if(0===TP.listenerCount(this.frameEventTag)){var s=new Error("There is no listener for cameraFrame");return null==o||o(s),void(null==a||a(s))}if(TP.off(this.frameEventTag,e),TP.listenerCount(this.frameEventTag)>0)return null==i||i(),void(null==a||a());SP.doInvoke("offCameraFrame",{},this._compId,[this.__webviewId__]).then(i).catch((function(){TP.on(n.frameEventTag,e)})).finally(a)},t.takePhoto=function(e){var t=AP(e),n=t[0],r=t[1],i=r.success,o=r.fail,a=r.complete;SP.doInvoke("cameraTakePhoto",n,this._compId,[this.__webviewId__]).then(i).catch(o).finally(a)},t.setZoom=function(e){var t=AP(e),n=t[0],r=t[1],i=r.success,o=r.fail,a=r.complete;SP.doInvoke("cameraSetZoom",n,this._compId,[this.__webviewId__]).then(i).catch(o).finally(a)},t.startRecord=function(e){var t=AP(e),n=t[0],r=t[1],i=n.timeoutCallback,o=this.registTimeoutCallback(i);delete n.timeoutCallback;var a=r.success,s=r.fail,c=r.complete;SP.doInvoke("cameraStartRecord",Object.assign({},n,{timeoutCallbackId:o}),this._compId,[this.__webviewId__],180).then(a).catch(s).finally(c)},t.stopRecord=function(e){var t=AP(e),n=t[0],r=t[1],i=r.success,o=r.fail,a=r.complete;SP.doInvoke("cameraStopRecord",n,this._compId,[this.__webviewId__],60).then(i).catch(o).finally(a)},ls(e,[{key:"frameEventTag",get:function(){return CP(this._compId)}},{key:"timeoutEventTag",get:function(){return IP(this._compId)}}]),e}(),PP=[].concat(bx,[Jx,wx,Cx,Tx,Ex,Mx,Nx,jx,Dx,Wx,Vx,zx,Hx,Kx,Xx,Zx,eP,tP,nP,rP,iP,oP,sP,cP,uP,dP,hP,pP]),OP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"openDrawerSidebar",value:function(){var e=this;return function(t){var n=L_(t,{type:{type:"String",required:!0},width:{type:"Number",required:!1}});n?e.beforeInvokeFail("openDrawerSidebar",t,n):e.invokeMethod("openDrawerSidebar",t)}}},{kind:"field",decorators:[$S()],key:"closeDrawerSidebar",value:function(){return this.createInvokeMethodApi("closeDrawerSidebar")}},{kind:"field",decorators:[$S()],key:"getDrawerSidebarInfo",value:function(){return this.createInvokeMethodApi("getDrawerSidebarInfo")}},{kind:"field",decorators:[$S()],key:"DrawerSidebarIconClick",value:function(){return this.createNativeEventApi("onDrawerSidebarIconClick")}}]}}),QS),RP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"updateCalendarEvent",value:function(){return this.createInvokeMethodApi("updateCalendarEvent")}},{kind:"field",decorators:[$S()],key:"preloadCalendarEventView",value:function(){return this.createInvokeMethodApi("preloadCalendarEventView")}},{kind:"field",decorators:[$S()],key:"unloadCalendarEventView",value:function(){return this.createInvokeMethodApi("unloadCalendarEventView")}}]}}),QS),NP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"print",value:function(){return this.createInvokeMethodApi("print",{checkParams:{url:""}})}}]}}),QS),jP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"getScreenInfoOfLark",value:function(){return this.createInvokeMethodApi("getScreenInfoOfLark")}}]}}),QS),DP=new HT.EventEmitter2;!function(e){e.CREATE="initOpComment",e.ADD="addComment",e.SETMETA="setCommentMetadata",e.ACTIVE="activateComment",e.DEACTIVE="deactivateComment",e.DESTROY="destroyComment",e.OPENPANEL="openCommentPanel",e.CLOASEPANEl="closeCommentPanel"}(EP||(EP={})),function(e){e.AFTERADD="commentAdd",e.MENTION="mention",e.ACITVECHANGE="commentActiveChange",e.RESOLVE="commentResolve",e.EDIT="commentEdit",e.PANELSHOW="commentPanelShow",e.PANELCLOSE="commentPanelHide",e.DATACHANGE="commentDataChange",e.DELETE="commentDelete",e.ERROR="commentError",e.READY="allReady"}(MP||(MP={}));for(var LP=[MP.ACITVECHANGE,MP.RESOLVE,MP.EDIT,MP.PANELSHOW,MP.PANELCLOSE,MP.AFTERADD,MP.DATACHANGE,MP.MENTION,MP.ERROR,MP.DELETE],FP=function(e){var t=LP[e];FS(t,(function(e){var n=e;DP.emit(t,n)}))},BP=0;BP<LP.length;BP++)FP(BP);var UP=ls((function(e,t,n,r){var i=this;this.token="",this.rect=void 0,this.appId="",this.type="outer",this.callbackArr=[],this.emitAppIdError=function(){i.reportError("invalid appid",-1,"create_manager")},this.createCommentManager=function(e){var t={token:i.token,appId:i.appId,type:i.type,permission:e};"inner"===i.type&&i.rect&&(t.rect=i.rect);var n=L_(t,{token:{type:"String",required:!0},rect:{type:"Object",required:"inner"===t.type},type:{type:"String"}});if(n)DP.emit(MP.ERROR,{code:-1,msg:n});else{if("inner"===t.type&&t.rect){var r=F_(t.rect,{top:100,bottom:100,right:100},"rect");if(r)return void DP.emit(MP.ERROR,{code:-1,msg:r})}LS(EP.CREATE,Object.assign({},t,{success:function(){DP.emit(MP.READY)},fail:function(e){DP.emit(MP.ERROR,e)}}))}},this.addComment=function(e){var t=L_(e,{quote:{type:"String",required:!0},position:{type:"String",required:!0},insertIndex:{type:"Number"}});t?DP.emit(MP.ERROR,{code:-1,msg:t}):LS(EP.ADD,e)},this.setCommentMetadata=function(e){var t=L_({metaData:e},{metaData:{type:"Array",required:!0}});t?DP.emit(MP.ERROR,{code:-1,msg:t}):LS(EP.SETMETA,e)},this.activateComment=function(e){var t=e.commentId,n=e.replyId,r={commentId:t};void 0!==n&&(r.replyId=n);var i=L_(r,{commentId:{type:"String",required:!0},replyId:{type:"String"}});i?DP.emit(MP.ERROR,{code:-1,msg:i}):LS(EP.ACTIVE,r)},this.deactivateComment=function(){LS(EP.DEACTIVE)},this.showCommentPanel=function(){LS(EP.OPENPANEL)},this.hideCommentPanel=function(){LS(EP.CLOASEPANEl)},this.destroy=function(){for(var e=0;e<i.callbackArr.length;e++){var t=i.callbackArr[e],n=t.hook,r=t.callback;n&&r&&DP.removeListener(n,r)}LS(EP.DESTROY)},this.onAfterAddComment=function(e){i.callbackWrapper(MP.AFTERADD,e)},this.onAfterEditComment=function(e){i.callbackWrapper(MP.EDIT,e)},this.onAfterDeleteComment=function(e){i.callbackWrapper(MP.DELETE,e)},this.onActiveCommentChange=function(e){i.callbackWrapper(MP.ACITVECHANGE,e)},this.onResolveComment=function(e){i.callbackWrapper(MP.RESOLVE,e)},this.onCommentPanelShow=function(e){i.callbackWrapper(MP.PANELSHOW,e)},this.onCommentPanelClose=function(e){i.callbackWrapper(MP.PANELCLOSE,e)},this.onCommentChange=function(e){i.callbackWrapper(MP.DATACHANGE,e)},this.reportError=function(e,t,n){void 0===t&&(t=-1),void 0===n&&(n=""),Db(Xy,lb).addMap({commentMsg:e,commentErrorCode:t,commentService:n}).flush()},this.onError=function(e){i.callbackWrapper(MP.ERROR,(function(t){var n=t.code,r=void 0===n?-1:n,o=t.msg,a=void 0===o?"error":o,s=t.service,c=void 0===s?"":s;i.reportError(a,r,c),null==e||e(t)}))},this.onReady=function(e){i.callbackWrapper(MP.READY,e)},this.onMention=function(e){i.callbackWrapper(MP.MENTION,e)},this.callbackWrapper=function(e,t){var n=function(n){var r;(null==(r=n)?void 0:r.token)!==i.token&&e!==MP.ERROR&&e!==MP.READY||(e===MP.DATACHANGE&&(n=n.data||[]),null==t||t(n))};i.callbackArr.push({hook:e,callback:n}),DP.on(e,n)},this.token=e,this.rect=n,this.type=null!=r?r:"outer";var o=TMAConfig.appId;if(this.appId=null!=o?o:"",o){var a=Object.assign({comment:!0,copy:!0,resolve:!0,delete:!0},t);this.createCommentManager(a)}else this.emitAppIdError()})),qP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S({creator:!0})],key:"createCommentManager",value:function(e){var t=e.token,n=e.permission,r=e.rect,i=e.type;return new UP(t,n,r,i)}}]}}),QS),WP=new Map,VP=new HT.EventEmitter2,zP=new Set(["1"]);function HP(e){var t=this;void 0===e&&(e={});var n=e.type,r=void 0===n?"1":n;if(zP.has(""+r)){var i=WP.get(r);if(i)return i;var o=r,a=[];VP.on(""+o,(function(e){a.forEach((function(t){var n=["appId","mode"],r=e.source||{},i={source:Object.keys(r).filter((function(e){return n.includes(e)})).reduce((function(e,t){return e[t]=r[t],e}),{}),data:e.data||""};sS(t,"at MessagePassingTask.onMessage callback function")(i)}))}));var s={postMessage:function(e){void 0===e&&(e={});e=Object.assign(e,{taskId:o}),t.beforeInvoke("postMessage",e,{data:"string"})&&t.invokeMethod("postMessage",e)},onMessage:function(e){"function"!=typeof e||a.includes(e)||a.push(e)},offMessage:function(e){var t=a.indexOf(e);t>-1&&a.splice(t,1)}};WP.set(r,s);var c={errMsg:"createMessagePassingTask:ok"};return"function"==typeof e.success&&e.success(c),"function"==typeof e.complete&&e.complete(c),s}this.beforeInvokeFail("createMessagePassingTask",e,"invalid type")}var GP=OS(null,(function(e,t){var n=function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t);return{F:n,d:[{kind:"field",decorators:[$S({creator:!0})],key:"createMessagePassingTask",value:function(){return HP}},{kind:"method",key:"setup",value:function(){HC(_w(n.prototype),"setup",this).call(this),this.onMethod("onMessage",(function(e){void 0===e&&(e={});var t=e,n=t.type,r=t.taskId;void 0!==r&&(n&&"message"!==n?"close"===n&&VP.removeAllListeners(""+r):VP.emit(""+r,e))}))}}]}}),QS),JP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"WorkplaceTabClose",value:function(){var e=this;return this.createNativeEventApi("onWorkplaceCloseObserve",{whenListenerExisted:function(){e.invokeMethod("onWorkplaceTabClose")},whenListenerEmptied:function(){e.invokeMethod("offWorkplaceTabClose")},onPolicy:"unique"})}}]}}),QS),KP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"openOuterPage",value:function(e){void 0===e&&(e={});if(this.beforeInvoke("openOuterPage",e,{url:"String"})){var t=Km().getContainer().LifecycleState;e.url=sm(t.path,e.url),e.url=nS(e.url),tC.call(this,"openOuterPage",e.url,e)&&this.invokeMethod("openOuterPage",e)}}}]}}),QS),$P=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"method",decorators:[$S()],key:"setWindowSize",value:function(e){void 0===e&&(e={});var t=L_(e,{windowWidth:{type:"Number",required:!1},windowHeight:{type:"Number",required:!1},x:{type:"Number",required:!1},y:{type:"Number",required:!1}});t?this.beforeInvokeFail("setWindowSize",e,t):this.invokeMethod("setWindowSize",e)}}]}}),QS),YP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S({sync:!0})],key:"getAppDirSync",value:function(){var e=this;return function(){var t;return e.invokeMethod("getAppDirSync",{},{beforeSuccess:function(e){void 0===e&&(e={}),t=e.appDir}}),t}}}]}}),QS),QP=OS(null,(function(e,t){return{F:function(t){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i))||this,e(fm(n)),n}return hm(n,t),ls(n)}(t),d:[{kind:"field",decorators:[$S()],key:"webviewWebPageBack",value:function(){return this.createInvokeMethodApi("webviewWebPageBack")}}]}}),QS),XP=[].concat(PP,[OP,Sx,RP,Ax,NP,jP,qP,GP,JP,KP,$P,Lx,YP,QP]),ZP=Object.freeze({__proto__:null,apis:XP,getCustomizedInput:kP,getRichText:function(){return kP()},execDiagnoseCommands:function(e){void 0===e&&(e={}),wP?_P.push(e):(wP=!0,LS("execDiagnoseCommands",e,{beforeAll:function(){wP=!1},afterAll:function(e){_P.forEach((function(t){"function"==typeof t.complete&&sS(t.complete,"at execDiagnoseCommands complete callback function")(e)}))},afterSuccess:function(e){_P.forEach((function(t){"function"==typeof t.success&&sS(t.success,"at execDiagnoseCommands success callback function")(e)}))},afterFail:function(e){_P.forEach((function(t){"function"==typeof t.fail&&sS(t.fail,"at execDiagnoseCommands fail callback function")(e)}))}}))},createCameraContext:function(e){return new xP(e)},uploadFile:function(e){if(void 0===e&&(e={}),(Km().agent||{}).useNewUploadAPI)return function(e){void 0===e&&(e={});for(var t="",n="",r=["url","filePath","name"],i=0;i<r.length;i++){var o=r[i],a=w_(e[o]),s=w_("");if(a!==s){t="param."+o+" should pass "+s+", not "+a,n=M_(o);break}}if(t||tS(e.url)||(t='invalid url "'+e.url+'"',n=E_("url")),!t&&("string"!=typeof e.method&&e.method||0===e.method)&&(t="param.method should pass string, not "+typeof e.method,n=M_("method")),t)return GT({resultType:"fail",errMsg:"uploadFile:fail "+t,bizInvokeTime:Date.now(),errCode:NC.InvalidParam,errno:U_,errString:n,uploadTaskId:"",url:e.url,method:e.method}),void qS("uploadFile",e,t,{errno:U_,errString:n});var c=Object.assign({},e);"object"!=typeof c.header&&void 0!==c.header&&(ps.warn("uploadFile: header must be an object"),delete c.header),"object"!=typeof e.formData&&void 0!==e.formData&&(ps.warn("uploadFile: formData must be an object"),delete c.formData),c.header=c.header?iS(c.header):{},c.formData=c.formData?iS(c.formData):{},["success","fail","complete"].forEach((function(e){var t=c[e];"function"==typeof t&&(c[e]=sS(t,"at api uploadFile "+e+" callback function"))}));try{return new QT(c)}catch(t){GT({resultType:"fail",errMsg:"uploadFile:fail create UploadFile instant catch error",bizInvokeTime:Date.now(),errCode:NC.InternalError,errno:B_,errString:A_(),uploadTaskId:"",url:e.url,method:e.method}),qS("uploadFile",e,t.message||"create UploadFile instant catch error",{errno:B_,errString:A_()})}}(e);if(US("uploadFile",e,{url:"",filePath:"",name:""})){var t,n="string"==typeof e.url?e.url.split("?")[0]:w_(e.url),r={};tS(e.url)||(t="uncertain",r.url=n),e.filePath&&/^(http|https):\/\//.test(e.filePath)&&(t="certain",r.filePath=e.filePath),t&&Lb(Yy,Ib).setPlatform("TeaSlardar").addMap({url:n,bk_type:t,api_name:"uploadFile",params:r}).flush(),"object"!=typeof e.header&&void 0!==e.header&&(ps.warn("uploadFile: header must be an object"),delete e.header),"object"!=typeof e.formData&&void 0!==e.formData&&(ps.warn("uploadFile: formData must be an object"),delete e.formData);var i=e.header?rS(e.header):{},o=e.formData?rS(e.formData):{};try{return new _A(Object.assign({},e,{header:i,formData:o}))}catch(t){SA(e.url,e.method,"uploadFile:fail create Upload instant catch error"),qS("uploadFile",e,t.message)}}else SA(e.url,e.method,"uploadFile:fail invalid param type")},getRecorderManager:function(){return EA},chooseVideo:function(e){void 0===e&&(e={}),e.sourceType=e.sourceType||["album","camera"],e.camera=e.camera||["front","back"],"boolean"!=typeof e.compressed&&(e.compressed=!0),LS("chooseVideo",e)},saveVideoToPhotosAlbum:function(e){void 0===e&&(e={}),LS("saveVideoToPhotosAlbum",e,{})},createVideoContext:function(e,t){return new MA(e,t)},setKeepScreenOn:function(e){void 0===e&&(e={}),void 0===e.keepScreenOn&&(e.keepScreenOn=!0),US("setKeepScreenOn",e,{keepScreenOn:!0},!0)&&LS("setKeepScreenOn",e)},vibrateLong:PA,vibrateShort:xA,createAnimation:function(e){return void 0===e&&(e={}),new jA(e)},pageScrollTo:function(e){if(function(){var e=o_(),t=e[e.length-1];if("object"!=typeof __allConfig__||!t)return!0;var n=__allConfig__[t.__route__];return!n||!n.disableScroll}()){var t=getCurrentPages(),n=t[t.length-1].__webviewId__;e.hasOwnProperty("page")&&e.page.hasOwnProperty("__webviewId__")&&(n=e.page.__webviewId__),Lw(Uw).bridge.invokeWebviewMethod("pageScrollTo",e,n,(function(){"function"==typeof e.success&&e.success({errMsg:"pageScrollTo:ok"}),"function"==typeof e.complete&&e.complete({errMsg:"pageScrollTo:ok"})}))}},disablePageScroll:function(e){var t=getCurrentPages();jS("disable-scroll",{disable:e},[t[t.length-1].__webviewId__])},createIntersectionObserver:DA,getSetting:qA,openSetting:WA,getBlockActionSourceDetail:function(e){void 0===e&&(e={}),LS("getBlockActionSourceDetail",e)},invokeBusiness:function(e){if(void 0===e&&(e={}),"string"==typeof e.__method){var t=e.__method;delete e.__method,LS(t,e)}},callHostMethod:function(e){void 0===e&&(e={}),US("callHostMethod",e,{method:""})&&LS("callHostMethod",e)},callHostMethodSync:function(e){var t,n;if(void 0===e&&(e={}),US("callHostMethodSync",e,{method:""})){if(LS("callHostMethodSync",e,{success:function(e){n=e},fail:function(e){void 0===e&&(e={}),t=e.errMsg}}),t)throw new Ow(t);return n}},addHostEventListener:function(e,t){if("string"!=typeof e)throw new xw("eventName is invalid");if(void 0!==t&&"function"!=typeof t)throw new xw("listener callback should be function");LS("addHostEventListener",{eventName:"host_event_"+e}),function(e,t){Km().getContainer(Uw).bridge.addHostListener(e,t)}(e,t)},arrayBufferToBase64:Qg,base64ToArrayBuffer:Xg,getTraceInfo:function(){var e=Km().global.TMATrace;return e?new VA(e):{}},getTenantAppScopes:zA,applyTenantAppScope:HA,onNavigateBack:function(e,t){if("function"==typeof e){var n=o_(),r=n[n.length-1].__webviewId__;if(Number(r)!==r)throw new Error("[JSSDK]fail to get webview id for current page===>");var i,o,a,s=JA+"_"+n[n.length-1].__webviewId__;if(GA.listeners(s).length)GA.listeners(s).includes(e)||GA.on(s,e),null==t||null==t.success||t.success(),null==t||null==t.complete||t.complete();else LS("onNavigateBack",{webviewId:r},{afterAll:null!=(i=null==t?void 0:t.complete)?i:$w,afterSuccess:null!=(o=null==t?void 0:t.success)?o:$w,afterFail:null!=(a=null==t?void 0:t.fail)?a:$w}),GA.on(s,e)}},createMessageManager:function(e){return new yx({type:e})},getScreenBrightness:function(e){var t=e.success,n=e.fail;return new Promise((function(e,r){LS("getScreenBrightness",{},{afterSuccess:function(n){e(t?t(n):n)},afterCancel:function(e){r(n?n(e):e)},afterFail:function(e){r(n?n(e):e)}})}))},setScreenBrightness:function(e){var t=e.value,n=e.success,r=e.fail;return new Promise((function(e,i){LS("setScreenBrightness",{value:t},{afterSuccess:function(t){e(n?n(t):t)},afterCancel:function(e){i(r?r(e):e)},afterFail:function(e){i(r?r(e):e)}})}))}});var eO=function(e){function t(){return e.apply(this,arguments)||this}return hm(t,e),t.prototype.useNeoNativeComp=function(e){var t,n,r;return!(null==(t=this.host.global)||null==(n=t.JSCoreFG)||null==(r=n.nativeComponent)||!r[e])},ls(t,[{key:"isWebview",get:function(){return!1}},{key:"isService",get:function(){return!0}},{key:"isAndroid",get:function(){return"android"===this.host.global.nativeTMAConfig.platform}},{key:"isIOS",get:function(){return"ios"===this.host.global.nativeTMAConfig.platform}},{key:"isSupportNewBridge",get:function(){var e,t;return null==(e=this.host.global)||null==(t=e.JSCoreFG)?void 0:t.shouldUseNewBridge}},{key:"workerApiUseJSSDKMonitor",get:function(){var e,t;return null==(e=this.host.global)||null==(t=e.JSCoreFG)?void 0:t.workerApiUseJSSDKMonitor}},{key:"shouldReportApiInvoke",get:function(){var e,t;return null==(e=this.host.global)||null==(t=e.JSCoreFG)?void 0:t.apiUseJSSDKMonitor}},{key:"globalTrace",get:function(){var e,t;return null==(e=this.host)||null==(t=e.global)?void 0:t.TMATrace}},{key:"useNewRequestAPI",get:function(){var e,t;return null==(e=this.host.global)||null==(t=e.JSCoreFG)?void 0:t.useNewRequestAPI}},{key:"useNewUploadAPI",get:function(){var e,t;return null==(e=this.host.global)||null==(t=e.JSCoreFG)?void 0:t.useNewUploadAPI}},{key:"randomDeviceId",get:function(){var e;return null==(e=this.host.global)?void 0:e.nativeTMAConfig.randomDeviceId}},{key:"useNewDownloadAPI",get:function(){var e,t;return null==(e=this.host.global)||null==(t=e.JSCoreFG)?void 0:t.useNewDownloadAPI}},{key:"pcRequestUseJssdktaskId",get:function(){var e,t;return null==(e=this.host.global)||null==(t=e.JSCoreFG)?void 0:t.requestUseJssdktaskId}},{key:"isGetChatInfoStandardizeEnabled",get:function(){var e,t;return null==(e=this.host.global)||null==(t=e.JSCoreFG)?void 0:t.isGetChatInfoStandardizeEnabled}},{key:"isEnterChatStandardizeEnabled",get:function(){var e,t;return null==(e=this.host.global)||null==(t=e.JSCoreFG)?void 0:t.isEnterChatStandardizeEnabled}}]),t}(hw),tO={},nO=Function.prototype;function rO(){return arguments.length>0&&/^\s*return this\s*;?\s*$/.test(arguments[arguments.length-1])?function(){return tO}:function(){}}var iO=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).agent=new eO(fm(t)),t._eval=void 0,t}hm(t,e);var n=t.prototype;return n.setup=function(){var t=this;e.prototype.setup.call(this);var n=function(e){t.dispatchUnhandledError(new Mw("unknown",{cause:e}))};this.global.addEventListener?this.global.addEventListener("error",(function(e){e.error&&n(e.error)})):this.global.onerror=function(e,t,r,i,o){o&&n(o)},this.global.addEventListener&&this.global.PromiseRejectionEvent?this.global.addEventListener("unhandledrejection",(function(e){return t._dispatchUnhandledRejection(e)})):this.global.onunhandledrejection=function(e){return t._dispatchUnhandledRejection(e)},this.global.snapshotLaunch&&(this.global.TMAConfig=Object.assign({},this.global.TMAConfig,{platform:"android",snapshotLaunch:!0})),"kernel"===this.runningSpace&&(this.global.mockTTMethod={}),this._overwriteEval(),function(e){var t=e.onContainerEvent;t(xy,(function(e,t){void 0===t&&(t={}),e.LifecycleState.__ground="background",e.emitter.emit(Gw,t),e.onEnterBackground(t)})),t(Py,(function(e,t){void 0===t&&(t={}),e.LifecycleState.__ground="foreground",void 0!==t.scene&&void 0!==t.subScene&&(e.LifecycleState.scene=t.scene,e.LifecycleState.subScene=t.subScene),t.path=e.LifecycleState.path,t.query=e.LifecycleState.query,ps.log(Py,t,e.LifecycleState),e.emitter.emit(Jw,t),e.onEnterForeground(t)}))}(this)},n.dispatchUnhandledError=function(e){for(var t=0,n=Array.from(this.containerStore.values());t<n.length;t++){n[t].dispatchUnhandledError(e)}},n._overwriteEval=function(){this._eval=this.global.eval,this.global.eval=void 0,rO.prototype=nO,rO.prototype.constructor=rO,this.global.Function=rO},n._dispatchUnhandledRejection=function(e){for(var t,n=!1,r={promise:e.promise,reason:e.reason},i=us(this.containerStore.values());!(t=i()).done;){var o=t.value.dispatchUnhandledRejectionEvent(r);n||(n=!1!==o)}var a="undefined"!=typeof PromiseRejectionEvent&&e instanceof PromiseRejectionEvent;n?null==e||null==e.preventDefault||e.preventDefault():a||ps.error("Unhandled promise rejection",r.reason)},ls(t,[{key:"runningSpace",get:function(){return"user"}},{key:"loadScript",get:function(){return this.global.loadScript}}]),t}(aw),oO=[String,Number,Boolean,Object,Array],aO=["",0,!1,null,[],null];function sO(e){return new uO(e).is}var cO={},uO=ls((function(e){var t=this;this.is="/"+(Xw()+Xw())+"-"+Xw()+"-"+Xw()+"-"+Xw()+"-"+Xw()+Xw()+Xw(),this.externalClasses=[],this.behaviors=[],this.properties=Object.create(null),this.data={},this.methods=Object.create(null),this.relations=Object.create(null),this.options=Object.create(null),this.setup=$w,this.created=$w,this.attached=$w,this.ready=$w,this.moved=$w,this.detached=$w,this.ancestors=[],e.behaviors&&(this.behaviors=e.behaviors),this.definitionFilter=e.definitionFilter,this.behaviors.forEach((function(n){var r=cO[n];if(r){e_(r.definitionFilter)&&r.definitionFilter(e,lO(r)),r.externalClasses.forEach((function(e){-1===t.externalClasses.indexOf(e)&&t.externalClasses.push(e)})),Object.assign(t.properties,r.properties),Qw(t.data,r.data),Object.assign(t.methods,r.methods),Object.assign(t.relations,r.relations),Object.assign(t.options,r.options);for(var i=0;i<r.ancestors.length;i++){var o=r.ancestors[i];-1===t.ancestors.indexOf(o)&&t.ancestors.push(o)}}})),Array.isArray(e.externalClasses)&&e.externalClasses.forEach((function(e){-1===t.externalClasses.indexOf(e)&&t.externalClasses.push(e)})),e.properties&&Object.assign(this.properties,e.properties),e.data&&Qw(this.data,e.data),e.methods&&Object.assign(this.methods,e.methods),e.relations&&Object.assign(this.relations,e.relations),e.options&&Object.assign(this.options,e.options);for(var n=0;n<AT.length;n++){var r=AT[n],i=void 0;(e.lifetimes&&(i=e.lifetimes[r])&&e_(i)||(i=e[r])&&e_(i))&&(this[r]=i)}this.ancestors.push(this),cO[this.is]=this}));function lO(e){return e.behaviors.reduce((function(e,t){var n=cO[t];if(!n)return e;var r=n.definitionFilter;return e_(r)&&e.push((function(e){r(e,lO(n))})),e}),[])}function fO(e,t){var n=e.split("/");n.pop();for(var r=t.split("/");r.length;){var i=r.shift();""!==i&&"."!==i&&(".."===i?n.pop():n.push(i))}return"/"+n.join("/")}var dO=function(e){function t(t,n){var r;for(var i in(r=e.call(this,t)||this).is=n,r.relationMap={},r.standardizedProperties={},r.properties){var o=r.properties[i],a=void 0;if("object"!=typeof o||null===o||Array.isArray(o))if(-1!==(a=oO.indexOf(o))){var s=aO[a];r.standardizedProperties[i]={type:im(o),value:s,observer:void 0}}else r.standardizedProperties[i]={type:"null",value:o,observer:void 0};else{var c=o.type,u=o.value;-1===(a=oO.indexOf(o.type))?c=null:void 0===u&&(u=aO[a]),r.standardizedProperties[i]={type:im(c),value:u,observer:o.observer}}}for(var l in r.relations){var f=r.relations[l],d=f.type;f.target?f.target=String(f.target):l.startsWith("/")?f.target=l:f.target=fO(globPageRegistPath,l),f.originalKey=l,r.relationMap[d]?r.relationMap[d].push(f):r.relationMap[d]=[f]}return r}hm(t,e);var n=t.prototype;return n.hasBehavior=function(e){for(var t=0;t<this.ancestors.length;t++)if(this.ancestors[t]===cO[e])return!0;return!1},n.callbackLifetime=function(e,t,n){var r=this;p_((function(){for(var i=0;i<r.ancestors.length;i++){var o=r.ancestors[i][e];"function"==typeof o&&o.call(t,n)}}),[],{errMsg:"at "+t.__route__+" component "+e+" function"})},ls(t)}(uO),hO=function(e){return new dO({},"/"+e)};function pO(){var e={};return LS("getAppInfoSync",{},{beforeSuccess:function(t){void 0===t&&(t={}),e=t}}),e}var vO={success:{zh_CN:"å¤å¶æå",en_US:"Copied successfully",ja_JP:"ã³ãã¼ãã¾ãã"},fail:{zh_CN:"å¤å¶å¤±è´¥ï¼è¯·æ£æ¥åªè´´æ¿æé",en_US:"Unable to copy. Please check clipboard access.",ja_JP:"ã³ãã¼ã§ãã¾ããã§ãããã¯ãªãããã¼ãã®æ¨©éãç¢ºèªãã¦ãã ãã"}};var gO={request:function(e){if(void 0===e&&(e={}),US("request",e,{url:""})){if(!tS(e.url))return void qS("request",e,'invalid url "'+e.url+'"');if("function"===e.data)return void qS("request",e,"data should not be Function");var t=w_(e.header);e.header=e.header||{},e.header=rS(e.header),"Undefined"!==t&&"Object"!==t&&(e.header={}),e.header=Object.keys(e.header).reduce((function(t,n){return"content-type"===n.toLowerCase()?t[n.toLowerCase()]=e.header[n]:t[n]=e.header[n],t}),{});var n=e.header||{},r="GET";e.method&&(e.method=e.method.toUpperCase()),"string"==typeof e.method&&(r=e.method.toUpperCase());var i,o="text";e.responseType&&(o=e.responseType.toLowerCase()),e.dataType=e.dataType||"json",n["content-type"]=n["content-type"]||"application/json",i=void 0===e.data?"":"string"==typeof e.data||e.data instanceof ArrayBuffer?e.data:n["content-type"].indexOf("application/x-www-form-urlencoded")>-1?Z_(e.data,!0):n["content-type"].indexOf("application/json")>-1||"object"==typeof e.data?JSON.stringify(e.data):e.data.toString(),"GET"===r&&(e.url=eS(e.url,e.data));try{return new jC(Object.assign({},e,{header:n,method:r,responseType:o,data:i}),1)}catch(e){qS("request",e,e&&e.message)}}},openModalWebview:function(e){if(!e.path&&!e.url)throw new Error("path or url must be provide");LS("openModalWebview",e)},closeModalWebview:function(e){US("closeModalWebview",e,{id:""})&&LS("closeModalWebview",e)},getAppInfo:function(e){null==e.success||e.success(pO())},getHostInfo:function(e){var t;null==e.success||e.success((t={},LS("getHostInfoSync",{},{beforeSuccess:function(e){void 0===e&&(e={}),t=e.data||{}}}),t))},copyAndNotify:function(e){var t=tt.getSystemInfoSync().language;tt.setClipboardData({data:e.content,success:function(n){var r;Km().getContainer().api.exports.showToast({title:null!=(r=vO.success[null!=t?t:"zh_CN"])?r:vO.success.zh_CN,icon:"success"}),null==e.success||e.success(n)},fail:function(n){var r;Km().getContainer().api.exports.showToast({title:null!=(r=vO.fail[null!=t?t:"zh_CN"])?r:vO.fail.zh_CN,icon:"error"}),null==e.fail||e.fail(n)}})}};function mO(e){Object.assign(e.webViewInfo,{dataStack:[],currentPageInstance:null,target:null,eventName:""})}function yO(e){var t=e.webViewInfo,n=t.currentPageInstance,r=t.eventName,i=t.target,o=t.dataStack;n&&r&&0!==o.length&&xT(n,r,[{currentTarget:i,detail:{data:o},target:i,timeStamp:Date.now(),type:"message"}])}function bO(e,t,n){var r=e.webViewInfo;"shareAppMessage"===t?yO(e):"navigateBack"===t&&r.prePageRoute===n.route&&(yO(e),mO(e))}var kO=Object.freeze({__proto__:null,postMessage:function(e){!function(e){if(e){var t=Lw(Uw).webViewInfo,n=e.data||{};t.dataStack.push(n),sS(e.success||$w,"postMessage error")({errMsg:"invokeMiniProgramAPI:ok"})}}(e)},navigateTo:function(e){Km().getContainer().api.exports.navigateTo(e)},redirectTo:function(e){Km().getContainer().api.exports.redirectTo(e)},switchTab:function(e){Km().getContainer().api.exports.switchTab(e)},reLaunch:function(e){Km().getContainer().api.exports.reLaunch(e)},navigateBack:function(e){Km().getContainer().api.exports.navigateBack(e)},login:function(e){tt.login(e)},openSchema:function(e){Km().getContainer().api.exports.openSchema(e)}});function wO(e,t,n,r,i){(0,e.bridge.publish)("callbackAppServiceMethod",{res:t,isSuccess:n,callbackId:r},[i])}var _O=function(e){function t(t,n){var r;return(r=e.call(this,t)||this).CId=t,r.host=n,r.C={},r.optionsStoredByRoute={},r.emitter=new pm,r.bridge=void 0,r.LifecycleState={},r.api=void 0,r.errorHandleLock=!1,r.host=n,r}hm(t,e);var n=t.prototype;return n.onEnterBackground=function(e){},n.onEnterForeground=function(e){},n.setup=function(){e.prototype.setup.call(this),Hm(this.bridge),this.api.setup(),function(e){var t=e.bridge,n=t.subscribe,r=t.invoke;n("invokeAppServiceMethod",(function(t,n){var i=t.name,o=t.type,a=t.args,s=t.callbackId;try{"bridge"===o?r(i,a,(function(t){t.errMsg=t.errMsg||i+":ok",t.errMsg.includes(i+":ok")?wO(e,t,!0,s,n):wO(e,t,!1,s,n)})):(a.success=function(t){wO(e,t,!0,s,n)},a.fail=function(t){wO(e,t,!1,s,n)},"sdk"===o?"function"==typeof gO[i]?gO[i](a):tt[i](a):"jssdk"===o&&["redirectTo","navigateBack","openSchema"].includes(i)&&kO[i](a))}catch(t){var c={errMsg:i+":fail "+t.message};wO(e,c,!1,s,n)}})),n("callbackWebviewMethod",(function(e){var n=e.res,r=e.callbackID;t.callbacks[r]&&((0,t.callbacks[r].callback)(n),delete t.callbacks[r])}))}(this);this.LifecycleState={path:"",query:{},scene:0,subScene:0,webviewId:-1,__ground:"foreground"},function(e){var t=e.bridge,n=e.emitter;t.on(Cy,(function(t,r){if(void 0===t&&(t={}),void 0===r&&(r=0),t.webviewId=t.webviewId||r,"object"==typeof t.query){for(var i in t.query)t.query[i]=u_(t.query[i]);t.exitState&&(t.query.exitState=t.exitState)}else t.raw_query=t.query,t.query=bS(t.query);["path","query","webviewId"].forEach((function(n){void 0!==t[n]&&(e.LifecycleState[n]=t[n])})),n.emit(qw,t),e.onAppRoute(t)}))}(this)},n.teardown=function(){this.api.teardown(),e.prototype.teardown.call(this)},n.dispatchUnhandledError=function(e){var t=l_(e);if(this.errorHandleLock)return ps.error("recursive error"),void ps.error(t);this.errorHandleLock=!0,this.invokeCaughtError(e),this.emitter.emit(jy,t),ps.error(t),this.errorHandleLock=!1},n.invokeCaughtError=function(e){var t,n,r,i,o=e.monitorCode;if(o){var a,s=e.name,c=e.cause,u=c&&c instanceof Error?c:void 0;a="string"==typeof s&&Tw.is(e)?""+s[0].toLowerCase()+s.slice(1):s,Lb(Hy,o).setPlatform("TeaSlardar").addMap({message:null!=(t=null!=(n=null==u?void 0:u.message)?n:e.message)?t:"",stack:null!=(r=null!=(i=null==u?void 0:u.stack)?i:e.stack)?r:"",errorType:a,extend:e.message}).flush()}},n.getJSSDKVersion=function(){var e,t;return null!=(e=null==(t=this.host.global)?void 0:t.__JSSDK_VERSION__)?e:{}},ls(t,[{key:"useNewDownloadAPI",get:function(){return this.host.agent.useNewDownloadAPI}}]),t}(sw);function SO(e){var t=e.subscribeContainerEvent,n=e.onContainerEvent;t("tapShareButton",(function(e,t,n){var r=e.getRenderer(n);e.host.newFramework&&r&&r.restoreDataset(t.target);var i={target:t.target,from:"button",channel:t.target.dataset.channel};ps.log("tapShareButton shareData",i),e.onShareAppMessage({options:i,webviewId:n})})),n(Oy,Kw(Oy,(function(e,t,n){var r=e.C,i=e.pageStack;if(r.hasOwnProperty(n)){for(var o=i.length-1,a=-1;o>=0;o--)if(i[o].webviewId===n){a=o;break}-1!==a&&i.splice(a,1),e.deletePage(n)}else ps.warn("onDestroyWebview: webview "+n+" doesn't exist")}))),n(Ty,(function(e,t){void 0===t&&(t={}),e.emitter.emit(Ww,t)})),n(Ay,(function(e,t,n){e.emitter.emit(Vw,n)})),n(Ey,(function(e,t,n){void 0===t&&(t={}),e.emitter.emit(zw,{options:t,webviewId:n})})),n(My,(function(e,t,n){void 0===t&&(t={}),e.emitter.emit(Hw,{event:t,webviewId:n})})),n(Iy,(function(e,t){void 0===t&&(t={});var n=e.LifecycleState;if(ps.info("onAppLaunch",t,n),"object"==typeof t.query)for(var r in t.query)t.query[r]=decodeURIComponent(t.query[r]);else t.query=bS(t.query);t.path===n.path&&function(e,t){return mS(e,t)}(t.query,n.query)?ps.info('onAppLaunch: Event is ignored because the parameter "path" and "query" are the same as the current'):(e.fWillRoute=!0,["path","query"].forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),e.emitter.emit("onAppLaunch",t))}))}var CO={onLoad:["setup","created","attached"],onReady:["ready"],onShow:[],onUnload:["detached"]};function IO(e,t,n){var r=Km().getContainer(),i=CO[t];i&&i.length>0&&i.forEach((function(t){("setup"!==t||r.host.newFramework)&&NT(e,t,n)}))}function TO(e,t){for(var n,r=function(e){if("String"!==rm(e)){var t='Parameter "path" should be string';throw ps.error("TypeError",t),new xw(t)}for(var n=!1,r=!1,i=e.length,o=[],a="",s=0,c=0;c<i;++c){var u=e[c];if("\\"===u)c+1<i&&("."===e[c+1]||"["===e[c+1]||"]"===e[c+1])?(a+=e[c+1],c+=1):a+="\\";else if("."===u)a&&(o.push(a),a="");else if("["===u){if(a&&(o.push(a),a=""),0===o.length)throw ps.error("DataPath: Path can not start with []: "+e),new xw("Path can not start with []: "+e);r=!0,n=!1}else if("]"===u){if(!n)throw ps.error("DataPath: Must have number in []: "+e),new xw("Must have number in []: "+e);r=!1,o.push(s),s=0}else if(r){if(u<"0"||u>"9")throw ps.error("DataPath: Only number 0-9 could inside []: "+e),new xw("Only number 0-9 could inside []: "+e);n=!0,s=10*s+u.charCodeAt(0)-48}else a+=u}if(a&&o.push(a),0===o.length)throw ps.error("DataPath: Path can not be empty"),new xw("Path can not be empty");return o}(t),i={},o=e,a=0;a<r.length;++a)Number(r[a])===r[a]&&r[a]%1==0?Array.isArray(o)||(i[n]=[],o=i[n]):"Object"!==rm(o)&&(i[n]={},o=i[n]),n=r[a],i=o,o=o[r[a]];return{obj:i,key:n}}var AO=[],EO=!1,MO=new(function(){function e(){var e,t=this;this.webviewReadyMap=void 0,this.webviewMsgBuff=void 0,this.legacy=void 0,this.webviewReadyMap=new Map,this.webviewMsgBuff=new Map,this.legacy=!(null!=Gg&&null!=(e=Gg.TMAConfig)&&e.pageCreateInAdvance),this.legacy?ps.log("jscore preload legacy mode"):$m((function(e){var n;null==(n=e.getContainer(Uw))||n.bridge.on("markTemplateReady",(function(e){ps.log(" jscore preload event!!!!!!"),t.markTemplateReady(e.webViewId)}))}))}var t=e.prototype;return t.enqueueSetData=function(e){var t=e.__webviewId__;this.webviewMsgBuff.has(t)||this.webviewMsgBuff.set(t,[]);var n=this.webviewMsgBuff.get(t);n.includes(e)||n.push(e)},t.isTemplateReady=function(e){var t=this.legacy,n=this.webviewReadyMap;if(t)return!0;if(n.has(e))return!!n.get(e);var r=function(e){var t,n=!1;return null==(t=Km().getContainer(Uw))||t.bridge.invokeMethod("isTemplateReady",{webViewId:e},{beforeAll:function(e){var t;n=null!=(t=null==e?void 0:e.isReady)&&t}}),n}(e);return this.webviewReadyMap.set(e,r),r},t.markTemplateReady=function(e){this.webviewReadyMap.set(e,!0),this.flushWebviewMsg(e)},t.flushWebviewMsg=function(e){if(this.webviewMsgBuff.has(e)){var t=this.webviewMsgBuff.get(e);if(null!=t&&t.length){for(var n=t.length-1;n>-1;n--){var r=t[n];OO(r,r._cbs?RO.bind(null,r._cbs):void 0)}this.webviewMsgBuff.delete(e)}}},ls(e)}()),xO="undefined"!=typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout.bind(Gg);function PO(e,t,n){var r=MO,i=e._pendingState;if(n_(i)?e._pendingState=t:Object.keys(t).forEach((function(e){i[e]=t[e]})),e_(n)){var o=e._cbs;o||(o=e._cbs=[]),o.push(n.bind(e))}if(r&&!r.isTemplateReady(e.__webviewId__))return r.enqueueSetData(e);AO.includes(e)||AO.push(e),EO||(EO=!0,xO((function(){return function(e){var t;EO=!1;for(;t=AO.pop();){var n=t._cbs;OO(t,n?RO.bind(null,n):void 0)}}()})))}function OO(e,t){var n=e._pendingState;e._pendingState=null,e._cbs=null,NO.call(e,n,t)}function RO(e,t){if(!t_(e))for(var n=0,r=e.length;n<r;++n)e[n](t)}function NO(e,t){var n,r=Km(),i=null!=(n=this._container)?n:r.getContainer(Uw);void 0===this.__nodeId__||0===this.__nodeId__?i.bridge.invokeWebviewMethod("appDataChange",{data:e,timeStamp:Date.now()},this.__webviewId__,t):i.bridge.invokeWebviewMethod("componentDataChange",{nodeid:this.__nodeId__,data:e,timeStamp:Date.now()},this.__webviewId__,t)}var jO=function(){function e(e,t){this.__webviewId__=e,this.__nodeId__=t,this.data={},this._pendingState=void 0,this._cbs=void 0,this._pendingState=null,this._cbs=null}var t=e.prototype;return t.setData=function(e,t){var n=this,r=rm(e);if("Object"===r){var i="function"==typeof t?v_(t,{errMsg:"at setData callback",context:this}):$w;m_((function(){DO.call(n,e),PO(n,e,i)}),[],{errMsg:"at setData",wrap:function(e,t){return e instanceof xw?new Aw(t,{cause:e}):new Ew(t,{cause:e})}})}else ps.error("setData's first param must be object, you pass "+r)},t.createSelectorQuery=function(){return new tT(this.__webviewId__)},t.getContainer=function(){return Km().getContainer(Uw)},ls(e)}(),DO=function(e){for(var t in e){void 0===e[t]&&ps.error("setData field "+t+" to undefined not work");var n=TO(this.data,t),r=n.obj,i=n.key;r&&(r[i]=Yw(e[t]))}},LO=function(e){return null==e},FO={"#":"id","@":"tagName","*":"properties",$:"children","%":"key","=":"count","&":"type","-":"text"},BO={id:"#",tagName:"@",properties:"*",children:"$",key:"%",count:"=",type:"&",text:"-"},UO=1,qO=function(){function e(e){this.type="VirtualText",this.id=UO++,this.parent=null,this.text=void 0,this.text=String(e)}return e.prototype.toJSON=function(){return WO.call(this)},ls(e)}();function WO(){var e={};for(var t in this){var n=BO[t];"undefined"==typeof window||window.__isNeedChangeAttr||(n=t),LO(n)||(e[n]=this[t])}return e}function VO(e,t,n){this.type=Number(e),this.vNode=t,this.patch=n}function zO(e,t,n){if(0===e.length)return!1;for(var r,i,o=0,a=e.length-1;o<=a;){if(i=e[r=(a+o)/2>>0],o===a)return i>=t&&i<=n;if(i<t)o=r+1;else{if(!(i>n))return!0;a=r-1}}return!1}function HO(e,t,n,r,i,o){void 0===i&&(i={}),void 0===o&&(o=0),zO(n,o,o)&&(i[o]=e);var a=t?t.children:void 0;if(a&&a.length)for(var s=Array.from(r.getChildren(e)),c=0;c<a.length;c++){o+=1;var u=a[c],l=o+(u.count||0);zO(n,o,l)&&HO(s[c],u,n,r,i,o),o=l}return i}function GO(e,t,n,r){var i=[];for(var o in t)"a"!==o&&i.push(Number(o));if(0!==i.length){var a=HO(e,t.a,i,n);i.forEach((function(e){[].concat(t[e]).forEach((function(t){!function(e,t,n,r){var i=e.patch,o=e.type;o===VO.PROPS?n.applyProperties(t,i):o===VO.VTEXT?function(e,t,n,r){var i=t.text,o=n.getParent,a=n.replaceChild,s=n.createTextNode,c=o(e);c&&a(c,s(i,r),e)}(t,i,n,r):o===VO.ORDER?function(e,t,n,r){for(var i,o,a,s=n.removeChild,c=n.createElement,u=n.insertBefore,l=n.getChildren,f={},d=0;d<t.removes.length;d++)o=t.removes[d],i=l(e)[o.from],o.key&&(f[o.key]=i),s(e,i);for(var h=l(e).length,p=0;p<t.inserts.length;p++)(i=(a=t.inserts[p]).__needCreate?c(a.vnode,r):f[a.key])&&u(e,i,a.to>=h++?null:l(e)[a.to])}(t,i,n,r):o===VO.REMOVE?function(e,t){var n=t.getParent(e);n&&t.removeChild(n,e)}(t,n):o===VO.INSERT?function(e,t,n,r){var i=n.appendChild,o=n.createElement;e&&i(e,o(t,r))}(t,i,n,r):o===VO.VNODE?function(e,t,n,r){var i=n.getParent,o=n.replaceChild,a=n.createElement,s=i(e);s&&o(s,a(t,r),e)}(t,i,n,r):o===VO.COMMENT?function(e,t,n){var r=t.text;(0,n.setTextContent)(e,r)}(t,i,n):console.error("TypeError when apply patch with unknown type: "+i.type)}(t,a[e],n,r)}))}))}}function JO(e,t,n){var r,i=e.children.indexOf(t);if(-1===i)throw new Error("Failed to execute '"+n+"' on 'VirtualNode': The node "+(null!=(r=t.tagName)?r:" ")+" is not a child of "+e.tagName+".");return i}function KO(e,t,n){function r(e){return n_(e)?-1:e.count||0}var i=r(t),o=r(n);do{var a;e.count+=i-o,e=null==(a=e)?void 0:a.parent}while(!n_(e))}function $O(e,t){if(!n_(e)){t.enter(e);var n=e.children;n_(n)||n.forEach((function(n){t.build(e,n),$O(n,t)}))}}function YO(e){$O(e,{enter:function(e){for(var t in e){var n=FO[t];n_(n)||(e[n]=e[t],delete e[t])}},build:function(e,t){t.parent=e}})}function QO(e){if(XO(e)&&!n_(e))for(var t in e){var n=e[t];if(FO.hasOwnProperty(t))e[FO[t]]=n,delete e[t];XO(e)&&QO(n)}}function XO(e){return __(e)||T_(e)}"undefined"!=typeof window&&(window.__isNeedChangeAttr=!0),VO.VTEXT=1,VO.VNODE=2,VO.PROPS=3,VO.ORDER=4,VO.INSERT=5,VO.REMOVE=6,VO.COMMENT=7;var ZO=new Map,eR={createElement:function(e){return YO(e),e},createTextNode:function(e){return void 0===e&&(e=""),new qO(e)},appendChild:function(e,t){t.parent=e,KO(e,t,null),e.children.push(t)},removeChild:function(e,t){var n=JO(e,t,"removeChild");-1!==n&&(t.parent=null,KO(e,null,t),e.children.splice(n,1))},insertBefore:function(e,t,n){if(n_(n))eR.appendChild(e,t);else{var r=JO(e,n,"insertBefore");-1!==r&&(t.parent=e,KO(e,t,null),e.children.splice(r,0,t))}},replaceChild:function(e,t,n){var r=JO(e,n,"replaceChild");-1!==r&&(t.parent=e,n.parent=null,KO(e,t,n),e.children.splice(r,1,t))},applyProperties:function(e,t){n_(e)||Object.keys(t).forEach((function(n){e.properties[n]=t[n]}))},setTextContent:function(e,t){e.text=t},getParent:function(e){return e.parent},getChildren:function(e){return n_(e)?[]:e.children}},tR={getParent:function(e){return e.parent},getChildren:function(e){return n_(e)?[]:e.children.filter((function(e){return"VirtualNode"===e.type}))},getTagName:function(e){return e.tagName},getID:function(e){return e.properties.id||""},getClassName:function(e){return e.properties.className||""},isCustomComponent:function(e){if(!e||!__(e.properties))return!1;var t=e.id;if(!t||t<=0)return!1;var n=i_(a_(),t);return null==n?void 0:n.vtree},getShadowRoot:function(e){var t=e.id,n=(i_(a_(),t)||{}).vtree;return ZO.set(n,e),n},getShadowRootHost:function(e){return ZO.get(e)},isShadowRoot:function(e){return"__shadowRoot__"===e.properties.id}};function nR(e,t,n,r){void 0===r&&(r=!0);var i=(i_(t,n)||{}).vtree;if(r){var o=yw(e,i,tR);return o&&tR.isCustomComponent(o)?i_(t,o.id).instance:null}return bw(e,i,tR).filter(tR.isCustomComponent).map((function(e){return(i_(t,e.id)||{}).instance}))}function rR(e,t,n,r,i){void 0===i&&(i=!0);Km().getContainer().bridge.invokeWebviewMethod("selectComponent",{selector:e,single:i,nodeid:n},t,r)}function iR(e){try{if("object"==typeof __allConfig__)return __allConfig__[e].onReachBottomDistance||50}catch(e){return 50}return 50}function oR(e){try{if("object"==typeof __allConfig__)return __allConfig__[e].disableSwipeBack}catch(e){return!1}return!1}function aR(e,t){var n,r,i;return{webviewId:t.__webviewId__,enablePullUpRefresh:s_(t,"onReachBottom"),enablePageScroll:s_(t,"onPageScroll"),enableSelectionChange:s_(t,"onSelectionChange")||s_(t,"onSelectChange"),onReachBottomDistance:iR(t.__route__),route:t.__route__,query:t.options,openType:e.openType,disableSwipeBack:oR(t.__route__),disableBindtapCursor:!!(null!=(n=null==(r=e.getConfig(t.__route__))?void 0:r.disableBindtapCursor)?n:null==(i=e.TMAConfig.ext)?void 0:i.disableBindtapCursor),appId:TMAConfig.appId,copyable:e.appCopyable}}function sR(e,t){Lb(Gy,eb(e)).addMap({name:e,timestamp:Date.now(),page_path:t}).flush()}var cR=function(e){function t(t,n,r){var i;return(i=e.call(this,t,r)||this).__route__=n,i.route=void 0,i.__properties__=void 0,i.options=void 0,i}hm(t,e);var n=t.prototype;return n.setData=function(t,n){var r=this,i=this.__webviewId__,o={page:Yk.getPagePath(i),webviewID:i};this.__nodeId__&&(o.component=this.__route__);var a=Yk.startParallel({category:Ub,name:this.__nodeId__?ik:rk,type:Ik,extra:o});e.prototype.setData.call(this,t,(function(e){if(Yk.endParallel(a),e){var t=e[0],i=e[1];Yk.addToStackTimeline("webview",{name:sk,type:Wk,start:t,end:i,extra:o})}if("function"==typeof n){var s=Yk.startStack({name:r.__nodeId__?ak:ok,type:Ak,extra:o});n.call(r),Yk.endStack(s)}}))},n.selectComponent=function(e,t){var n=this;if(!e_(t))return nR(e,this.__webviewId__,this.__nodeId__,!0);var r=r_();setTimeout((function(){rR.call(n,e,n.__webviewId__,n.__nodeId__,(function(e){if(null!==e){var i=r[n.__webviewId__];e=null!=i&&i[e]?i[e].instance:null}var o=n.__nodeId__?"component":"page";p_(t,[e],{errMsg:"at selectComponent callback of the "+o+" "+n.__route__})}),!0)}))},n.selectAllComponents=function(e,t){var n=this;if(!e_(t))return nR(e,this.__webviewId__,this.__nodeId__,!1);var r=r_();setTimeout((function(){rR.call(n,e,n.__webviewId__,n.__nodeId__,(function(e){var i=r[n.__webviewId__]||{},o=n.__nodeId__?"component":"page";p_(t,[e.reduce((function(e,t){return i[t]&&e.push(i[t].instance),e}),[])],{errMsg:"at selectAllComponents of the "+o+" "+n.__route__})}),!1)}))},n.pageScrollTo=function(){},n.createIntersectionObserver=function(e){return DA.call(this,this,e)},n.getContainer=function(){return Km().getContainer(Uw)},ls(t)}(jO),uR=function(e){var t=this.getContainer(),n=aR(t,this);if(n.isPageReload=e,"object"==typeof __allConfig__){var r=t.componentConfigStore.getPageContainComponents(this.__route__),i=r.componentConfigs,o=r.usingComponents,a=r.publicComponents;n.usingComponents=o,n.componentConfigs=i,n.publicComponents=a}var s={data:this.data,ext:n,options:{performanceEnabled:Yk.enabled,isFirstPage:t.openType===Fw.APP_LAUNCH,firstRender:!0,timestamp:Date.now()},timeStamp:Date.now()};sR(py,this.__route__),t.bridge.invokeWebviewMethod("appDataChange",s,this.__webviewId__)},lR=function(e){e.invoke("IDE.AppDataChange",{})},fR=function(e){function t(t,n,r,i){var o;return void 0===i&&(i={}),(o=e.call(this,n,r,void 0)||this).trace=i,o.onLoad=void 0,o.onReady=void 0,o.onShow=void 0,o.onHide=void 0,o.onUnload=void 0,o.onReload=void 0,MT.call(fm(o),t),o}hm(t,e);var n=t.prototype;return n.getTraceInfo=function(){return new VA(this.trace)},n.setData=function(t,n){e.prototype.setData.call(this,t,n),this.getContainer().host.global.isRemoteDebug&&lR(this.getContainer().bridge)},ls(t)}(cR),dR=function(e){function t(t,n,r,i,o){var a;return(a=e.call(this,n,r,i)||this).is=void 0,a.__properties__=void 0,a.properties={},a.id="",a.dataset={},OT.call(fm(a),t,o),a}hm(t,e);var n=t.prototype;return n.setData=function(t,n){void 0===n&&(n=$w);var r=rm(t);"Object"===r?e.prototype.setData.call(this,jT(this,t),n):ps.error("setData's first param must be object, you pass "+r)},n.hasBehavior=function(e){return RT(this,e)},n.createSelectorQuery=function(){return e.prototype.createSelectorQuery.call(this).in(this)},n.triggerEvent=function(e,t,n){Km().getContainer(Uw).bridge.invokeWebviewMethod("triggerComponentEvent",{eventName:e,eventDetail:t,eventOption:n,nodeid:this.__nodeId__},this.__webviewId__)},n.getRelationNodes=function(e,t){if(void 0===t&&(t=$w),!e||t===$w)return[];var n=r_(),r=this;return Km().getContainer(Uw).bridge.invokeWebviewMethod("getRelationNodes",{relation:e,nodeid:r.__nodeId__},r.__webviewId__,(function(e){if(Array.isArray(e)&&0!==e.length){var i=n[r.__webviewId__]||{};t.call(r,e.map((function(e){return i[e]?i[e].instance:null})))}else t.call(r,e)})),[]},ls(t)}(cR);function hR(e){e.page.onHide()}function pR(e,t){var n=e.pageStack;t.page.onUnload(),e.deletePage(t.webviewId),n.pop(),e.bridge.clearCallbackMethods()}var vR=Kw("onWebviewComponentEvent",(function(e,t,n){var r,i=t.eventName,o=t.nodeId,a=t.route,s=void 0===a?"":a,c=e.componentInstances;if(!e.host.newFramework&&"created"===i&&(r=e.optionsStoredByRoute[s])){var u=new dR(r,n,s,o);c[n]||(c[n]={}),c[n][o]={instance:u,route:s,webviewId:n,status:"attached"}}if(c[n]&&c[n][o]){"attached"!==i&&"detached"!==i||(c[n][o].status=i);var l=c[n][o].instance;NT(l,i),"attached"===i&&e.host.newFramework&&l.attachedDeferred.resolve()}})),gR=Kw("onWebviewDataChange",(function(e,t,n){var r=e.componentInstances,i=t.nodeId,o=t.datatype,a=t.data;if(r[n]&&r[n][i]){var s=r[n][i].instance;switch(o){case"instance":s.id=a.id;break;case"dataset":s.dataset=Object.assign({},s.dataset,a);break;case"properties":jT(s,a,!0)}}})),mR=Kw("onComponentRelationChange",(function(e,t,n){var r=t.data,i=e.componentInstances[n];i&&r&&r.forEach((function(t){var n=t.nodeid,r=t.originalKey,o=t.target,a=t.type,s=(i[o]||{}).instance,c=i[n]||{},u=c.instance,l=c.route;if(s&&u){var f=e.optionsStoredByRoute[l];if(f){var d=f.relations[r][a];"function"==typeof d&&d.call(u,s)}}}))}));function yR(e,t){var n=e.type,r=e.data,i=r.vtree,o=r.patches,a=i_(t,e.nodeId);if(!n_(a))switch(n){case"create":YO(i),a.vtree=i;break;case"update":var s=a.vtree;if(n_(s))return;QO(o),o.a=s,GO(s,o,eR);break;default:throw new Error("Incorrect event type for mutating vdom at service side: "+n)}}function bR(e){for(var t=!1,n=e.length,r=[],i="",o=0,a=0;a<n;a++){var s=e[a];"\\"===s?a+1<n&&("."===e[a+1]||"["===e[a+1]||"]"===e[a+1])?(i+=e[a+1],a++):i+="\\":"."===s?i&&(r.push(i),i=""):"["===s?(i&&(r.push(i),i=""),t=!0):"]"===s?(t=!1,r.push(o),o=0):t?o=10*o+s.charCodeAt(0)-48:i+=s}return i&&r.push(i),r}function kR(){throw new Error("Please use setHooks to change DOM operation")}var wR={createElement:kR,createText:kR,createAnchor:kR,appendChild:kR,insertBefore:kR,removeNode:kR,setText:kR,setAttribute:kR,setDataset:kR,addEventListener:kR,isCustomTagName:function(){return!1},createComponentModel:kR};function _R(e){wR=e}function SR(e,t,n){for(var r,i=0,o=t;i<o-1;)e[r=Math.floor((i+o)/2)]<n?i=r:o=r;return i}var CR=Symbol.for("pymtql-private-dep-name");function IR(e){var t=e[CR];if(t)return t;var n=e.map((function(e){return"string"==typeof e?[e]:e})),r=n.length;return t={check:function(e){for(var t=0;t<r;t++)for(var i=n[t],o=e,a=0;a<i.length;a++){var s=o[i[a]];if(!s)break;if(!0===s)return!0;o=s.changes}return!1}},e[CR]=t,t}var TR=IR([]),AR=Symbol("tmar-lark-litt");function ER(e){return"object"==typeof e&&e&&e[AR]}function MR(e,t,n){var r;void 0===n&&(n=[]);for(var i=0;i<n.length;i++){var o=n[i];ER(o)||"string"==typeof o||(n[i]=""+o)}return(r={})[AR]=!0,r.type="element",r.tagName=e,r.props=t,r.children=n,r}function xR(e){return ER(e)&&"pair"===e.type}function PR(e,t){var n;return(n={})[AR]=!0,n.type="pair",n.deps=e,n.expr=t,n}function OR(e,t){var n;return(n={})[AR]=!0,n.type="condition",n.cases=e,n.fallback=t,n}function RR(e,t,n){var r,i,o;return void 0===n&&(n={}),(o={})[AR]=!0,o.type="repeat",o.items=e,o.template=t,o.options={keyName:n.key,itemName:null!=(r=n.item)?r:"item",indexName:null!=(i=n.index)?i:"index",deps:n.deps},o}function NR(e,t,n){var r;return(r={})[AR]=!0,r.type="template",r.is=e,r.data=t,r.templates=n,r}function jR(e,t,n,r){var i;return(i={})[AR]=!0,i.type="customElement",i.is=e,i.props=t,i.slots=n,i}function DR(e,t,n){var r;return void 0===n&&(n={}),(r={})[AR]=!0,r.type="slot",r.name=e,r.template=t,r.options=n,r}var LR=Symbol.for("pymtql-private-normalize-result-key");function FR(e){var t=e[LR];return t||(t=e[LR]=Object.keys(e).map((function(t){var n=e[t];if("@"===t[0]){var r=t.slice(1).split("."),i=r[0],o=r.slice(1),a={catch:o.includes("catch"),capture:o.includes("capture"),mut:o.includes("mut")};return xR(n)?{type:1,name:i,value:n,modifier:a}:{type:0,name:i,value:n,modifier:a}}return"#"===t[0]?xR(n)?{type:5,name:t.slice(1),value:n}:{type:4,name:t.slice(1),value:n}:xR(n)?{type:3,name:t,value:n}:{type:2,name:t,value:n}})).filter((function(e){return!!e})))}var BR=Symbol.for("pymtql-private-condition-cases");var UR=Symbol.for("pymtql-private-node-name");function qR(e){if(!xR(e))return[TR,function(){return e}];var t=e[UR];return t||(t=[IR(e.deps),e.expr],e[UR]=t,t)}var WR=["slot"],VR=Symbol.for("pymtql-private-slot-results-name"),zR=Symbol.for("lope-rind-slot-to-if-pair"),HR="default",GR=PR([],(function(){return HR}));function JR(e){return void 0===e?HR:String(e)||HR}function KR(e){if("string"==typeof e)return[GR,[e]];if(e[zR])return e[zR];var t,n;if(xR(e))t=GR,n=[e];else{var r,i=null!=(r=null==e?void 0:e.props)?r:{},o=i.slot,a=Dw(i,WR);if(xR(o))t=PR(o.deps,(function(e){return JR(o.expr(e))}));else{var s=JR(o);t=s===HR?GR:PR([],(function(){return s}))}n=[MR(e.tagName,a,e.children)]}var c=[t,n];return e[zR]=c,c}var $R="_structural_binding";function YR(e){return e._structural_binding}var QR=function(){function e(e,t,n){this.element=e,this.expr=n,this.currentValue="",this.deps=void 0,this.deps=IR(t)}var t=e.prototype;return t.create=function(e){wR.setText(this.element,this.currentValue=this.evaluate(e))},t.update=function(e,t){this.deps.check(t)&&this.currentValue!==(this.currentValue=this.evaluate(e))&&wR.setText(this.element,this.currentValue)},t.evaluate=function(e){var t=this.expr(e);return void 0===t?"":t},ls(e)}(),XR=function(){function e(e,t,n,r){this.element=e,this.propName=t,this.expr=r,this.currentValue=void 0,this.deps=void 0,this.deps=IR(n)}var t=e.prototype;return t.create=function(e){wR.setAttribute(this.element,this.propName,this.currentValue=this.evaluate(e))},t.update=function(e,t){this.deps.check(t)&&this.currentValue!==(this.currentValue=this.evaluate(e))&&wR.setAttribute(this.element,this.propName,this.currentValue)},t.evaluate=function(e){var t=this.expr(e);return void 0===t?"":t},ls(e)}(),ZR=function(){function e(e,t,n,r){this.element=e,this.propName=t,this.expr=r,this.currentValue=void 0,this.deps=void 0,this.deps=IR(n)}var t=e.prototype;return t.create=function(e){wR.setDataset(this.element,this.propName,this.currentValue=this.evaluate(e))},t.update=function(e,t){this.deps.check(t)&&this.currentValue!==(this.currentValue=this.evaluate(e))&&wR.setDataset(this.element,this.propName,this.currentValue)},t.evaluate=function(e){var t=this.expr(e);return void 0===t?"":t},ls(e)}(),eN=function(){function e(e,t,n,r,i){this.element=e,this.binding=t,this.propName=n,this.expr=i,this.currentValue=void 0,this.deps=void 0,this.deps=IR(r)}var t=e.prototype;return t.create=function(e){this.currentValue=this.binding.nextChanges[this.propName]=this.evaluate(e)},t.update=function(e,t){this.deps.check(t)&&(this.binding.nextChanges[this.propName]=this.evaluate(e))},t.evaluate=function(e){var t=this.expr(e);return void 0===t?"":t},ls(e)}(),tN=function(){function e(e,t,n,r){this.element=e,this.eventName=t,this.modifier=r,this.currentValue="",this.deps=void 0,this.expr=void 0;var i=qR(n);this.deps=i[0],this.expr=i[1]}var t=e.prototype;return t.create=function(e){wR.addEventListener(this.element,this.eventName,this.currentValue=this.evaluate(e),this.modifier)},t.update=function(e,t){this.deps.check(t)&&this.currentValue!==(this.currentValue=this.evaluate(e))&&wR.addEventListener(this.element,this.eventName,this.currentValue,this.modifier)},t.evaluate=function(e){var t=this.expr(e);return void 0===t?"":t},ls(e)}(),nN=function(){function e(e,t,n){var r,i;this.element=e,this.anchor=t,this.currentTemplate=void 0,this.currentBinding=void 0,this.cases=void 0,this.fallback=void 0,this.fallback=this.currentTemplate=n.fallback,this.cases=(r=n.cases,(i=r[BR])||(i=r.map((function(e){var t=e[0],n=e[1];return xR(t)?[IR(t.deps),t.expr,n]:[TR,function(){return t},n]})),r[BR]=i,i))}var t=e.prototype;return t.create=function(e){for(var t=0;t<this.cases.length;t++){var n=this.cases[t];if(n[1](e)){this.currentTemplate=n[2];break}}this.currentTemplate&&(this.currentBinding=new aN(this.element,this.anchor,this.currentTemplate)).create(e)},t.update=function(e,t){for(var n,r,i=this.fallback,o=0;o<this.cases.length;o++){var a=this.cases[o];if(a[1](e)){i=a[2];break}}i!==this.currentTemplate?(null==(n=this.currentBinding)||n.destroy(!0),this.currentTemplate=i,i?(this.currentBinding=new aN(this.element,this.anchor,i),this.currentBinding.create(e)):this.currentBinding=void 0):null==(r=this.currentBinding)||r.update(e,t)},t.destroy=function(e){var t;null==(t=this.currentBinding)||t.destroy(e),this.currentBinding=void 0,this.currentTemplate=void 0},t.getStartAnchor=function(){return this.currentBinding?this.currentBinding.getStartAnchor():this.anchor},t.moveToAnchor=function(){var e;null==(e=this.currentBinding)||e.moveToAnchor()},ls(e,[{key:$R,get:function(){return!0}}]),e}(),rN=function(){function e(e,t,n){this.element=e,this.anchor=t,this.currentValue=[],this.currentBindings=[],this.currentKeys=void 0,this.currentIndexes=void 0,this.deps=void 0,this.expr=void 0,this.template=void 0,this.keyName=void 0,this.itemName=void 0,this.indexName=void 0,this.filter=void 0,this.subDeps=void 0,this.hasKey=void 0;var r=qR(n.items);this.deps=r[0],this.expr=r[1],this.template=n.template,this.keyName=n.options.keyName,this.itemName=n.options.itemName,this.indexName=n.options.indexName,this.subDeps=n.options.deps?IR(n.options.deps):void 0,this.filter=n.options.filter,this.hasKey=xR(n.items)&&void 0!==this.keyName&&null!==this.keyName}var t=e.prototype;return t.addAnchor=function(e,t){void 0===t&&(t=this.anchor);var n=wR.createAnchor(e);return wR.insertBefore(this.element,n,t),n},t.create=function(e){var t=this.getItemsAndIndexes(e),n=t.items,r=t.indexes,i=t.flag;this.currentValue=n,this.currentIndexes=r,this.hasKey&&(this.currentKeys=this.getKeysOfItems(n,i));for(var o=0;o<n.length;o++){var a=n[o],s=this.addAnchor("item"),c=new aN(this.element,s,this.template),u=Object.create(e);u[this.itemName]=a,u[this.indexName]=r?r[o]:o,c.create(u),this.currentBindings.push(c)}},t.update=function(e,t){var n,r,i=this.deps.check(t),o=0;if(i){var a=this.getItemsAndIndexes(e);n=a.items,r=a.indexes,o=a.flag}else n=this.currentValue,r=this.currentIndexes;if(this.hasKey){if(i){var s=this.getKeysOfItems(n,o);this._updateKeyedUsingLIS(s),this.currentKeys=s,this.currentValue=n,this.currentIndexes=r}for(var c=this.indexName,u=this.itemName,l=this.currentBindings,f=0;f<l.length;f++){var d=Object.create(e);d[c]=r?r[f]:f,d[u]=n[f];var h=l[f];if(1&h._flag)h.create(d);else if(i){var p=Object.create(t);p[c]=!0,p[u]=!0,h.update(d,p)}else h.update(d,t);h._flag=0}}else this._updateNonKeyed(e,t,n,r,i)},t.destroy=function(e){for(var t=0;t<this.currentBindings.length;t++){var n=this.currentBindings[t];n.destroy(e),e&&wR.removeNode(n.anchor)}},t.getStartAnchor=function(){return 0===this.currentBindings.length?this.anchor:this.currentBindings[0].getStartAnchor()},t.moveToAnchor=function(){for(var e=0;e<this.currentBindings.length;e++)this.currentBindings[e].moveToAnchor()},t._updateNonKeyed=function(e,t,n,r,i){for(var o=this.currentIndexes,a=this.indexName,s=this.itemName,c=r&&!o||!r&&o,u=0;u<n.length;u++){var l=Object.create(e),f=this.currentBindings[u];if(l[a]=r?r[u]:u,l[s]=n[u],f)if(i){var d=Object.create(t);d[s]=!0,(c||r&&o&&r[u]!==o[u])&&(d[a]=!0),f.update(l,d)}else f.update(l,t);else{var h=this.addAnchor("item"),p=new aN(this.element,h,this.template);p.create(l),this.currentBindings[u]=p}}for(;u<this.currentBindings.length;u++){var v=this.currentBindings[u];v.destroy(!0),wR.removeNode(v.anchor)}this.currentBindings.length=n.length,this.currentValue=n,this.currentIndexes=r},t._updateKeyedUsingLIS=function(e){for(var t=this.currentKeys,n=t.length,r=e.length,i=this.currentBindings,o=0,a=n-1,s=0,c=r-1;t[o]===e[s]&&o<=a&&s<=c;)o++,s++;for(;t[a]===e[c]&&a>=o&&c>=s;)a--,c--;if(!(a<o&&c<s)){if(c<s){for(var u=o;u<=a;u++)i[u].destroy(!0),wR.removeNode(i[u].anchor);var l=i.slice();return l.splice(o,a-o+1),void(this.currentBindings=l)}var f=new Array(r);if(a<o){for(var d=0;d<o;d++)f[d]=i[d];for(;d<=c;d++){var h,p=this.addAnchor("item",null==(h=i[a+1])?void 0:h.getStartAnchor());(f[d]=new aN(this.element,p,this.template))._flag=1}for(;d<r;d++)f[d]=i[d-c+a];this.currentBindings=f}else{for(var v=this.generateKeyMap(t,o,a),g=c-s+1,m=new Array(g),y=new Set,b=0;b<s;b++)f[b]=i[b];for(var k=r-n,w=c+1;w<r;w++)f[w]=i[w-k];for(var _=0;_<g;_++){var S,C=e[s+_];if(y.has(C))m[_]=-1;else m[_]=null!=(S=v.get(C))?S:-1,y.add(C)}for(var I,T,A=function(e){var t=e.length;if(0===t)return[];var n=new Array(t+1),r=new Array(t+1),i=new Array(t);n[0]=-1/0,n[1]=e[0],r[0]=-1,r[1]=0,i[0]=-1,i[1]=-1;for(var o,a,s=1,c=1;c<t;c++)(a=SR(n,s+1,o=e[c]))<s?n[a+1]>o&&(n[a+1]=o,r[a+1]=c,i[c]=r[a]):(i[c]=r[s],n[++s]=o,r[s]=c);for(var u=new Array,l=r[s];-1!==l;l=i[l])u.unshift(l);return u}(m),E=A.length,M=null!=(I=f[c+1])?I:null,x=g-1,P=E-1;x>=0;){var O;if(-1===m[x])(T=f[s+x]=new aN(this.element,this.addAnchor("item",null==(O=M)?void 0:O.getStartAnchor()),this.template))._flag=1,M=T,x--,A[P]===x&&P--;else x===A[P]?(M=f[s+x]=i[m[x]],i[m[x]]=null,x--,P--):(this.moveBinding(i[m[x]],M),M=f[s+x]=i[m[x]],i[m[x]]=null,x--)}for(var R=o;R<=a;R++){var N=i[R];N&&(N.destroy(!0),wR.removeNode(N.anchor))}this.currentBindings=f}}},t.generateKeyMap=function(e,t,n){for(var r=new Map,i=t;i<=n;i++){var o=e[i];r.has(o)||r.set(o,i)}return r},t.moveBinding=function(e,t){var n=null===t?this.anchor:t.getStartAnchor();wR.insertBefore(this.element,e.anchor,n),e.moveToAnchor()},t.getKeysOfItems=function(e,t){if(1==(1&t)){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=r;return n}var i=this.keyName;return"*this"===i?e.slice(0):"string"==typeof i?e.map((function(e){return null==e?void 0:e[i]})):"function"==typeof i?e.map(i):[]},t.getItemsAndIndexes=function(e){var t,n,r=this.evaluate(e),i=0;if("string"==typeof r)t=r.split(""),i|=1;else if("number"==typeof r){for(var o=new Array(r),a=0;a<r;a++)o[a]=a;t=o,i|=1}else Array.isArray(r)?t=r:"[object Object]"===Object.prototype.toString.call(r)?(t=(n=Object.keys(r)).map((function(e){return r[e]})),i|=2):t=[];return{indexes:n,items:t,flag:i}},t.evaluate=function(e){var t=this.expr(e);return void 0===t?"":t},ls(e,[{key:$R,get:function(){return!0}}]),e}(),iN=function(){function e(e,t,n){this.element=e,this.anchor=t,this.currentTemplate=null,this.currentBinding=null,this.currentName=HR,this.deps=void 0,this.expr=void 0;var r=qR(n);this.deps=r[0],this.expr=r[1]}var t=e.prototype;return t.create=function(e){if(e.__$$slots){var t=e.__$$slots,n=t.scope,r=t.dynSlot,i=t.instance,o=this.currentName=JR(this.evaluate(e)),a=r;if(a){this.currentBinding=new aN(this.element,this.anchor,a),this.currentTemplate=a;var s=Object.create(n);s.__$$slotName=o,i.beforeSlotRender(),this.currentBinding.create(s),i.afterSlotRender()}}},t.update=function(e,t){if(e.__$$slots&&this.currentTemplate){var n=e.__$$slots,r=n.scope,i=n.changes,o=n.instance,a=Object.create(r),s=i,c=this.currentName;this.deps.check(t)&&(c=JR(this.evaluate(e)))!==this.currentName&&(this.currentName=c,(s=Object.create(i)).__$$slotName=!0),a.__$$slotName=c,o.beforeSlotRender(),this.currentBinding.update(a,s),o.afterSlotRender()}},t.destroy=function(e){this.currentBinding&&this.currentBinding.destroy(e)},t.getStartAnchor=function(){return this.currentBinding?this.currentBinding.getStartAnchor():this.anchor},t.moveToAnchor=function(){this.currentBinding&&this.currentBinding.moveToAnchor()},t.evaluate=function(e){var t=this.expr(e);return void 0===t?"":t},ls(e,[{key:$R,get:function(){return!0}}]),e}(),oN=function(){function e(e,t,n){this.element=e,this.anchor=t,this.currentBinding=null,this.expr=void 0,this.deps=void 0,this.template=void 0;var r=KR(n),i=r[0],o=r[1];this.template=o;var a=qR(i);this.deps=a[0],this.expr=a[1]}var t=e.prototype;return t.create=function(e){if(this.evaluate(e)===e.__$$slotName){this.currentBinding=new aN(this.element,this.anchor,this.template);var t=Object.create(e);t.__$$slotName=void 0,this.currentBinding.create(t)}},t.update=function(e,t){var n,r,i=Object.create(e);(i.__$$slotName=void 0,this.deps.check(t)||t.__$$slotName)?this.evaluate(e)===e.__$$slotName?this.currentBinding?this.currentBinding.update(i,t):(this.currentBinding=new aN(this.element,this.anchor,this.template),this.currentBinding.create(i)):(null==(n=this.currentBinding)||n.destroy(!0),this.currentBinding=null):null==(r=this.currentBinding)||r.update(i,t)},t.destroy=function(e){var t;null==(t=this.currentBinding)||t.destroy(e)},t.moveToAnchor=function(){var e;null==(e=this.currentBinding)||e.moveToAnchor()},t.getStartAnchor=function(){var e,t;return null!=(e=null==(t=this.currentBinding)?void 0:t.getStartAnchor())?e:this.anchor},t.evaluate=function(e){var t=this.expr(e);return void 0===t?"":t},ls(e,[{key:$R,get:function(){return!0}}]),e}(),aN=function(){function e(e,t,n){var r;this.element=e,this.anchor=t,this.currentElementOrBindings=[],this.bindings=[],this.template=void 0,this._flag=0,this.template=null!=(r=n.nodes)?r:n}var t=e.prototype;return t.create=function(e){this._clone(this.template,this.element,this.anchor,this.currentElementOrBindings,"string"==typeof e.__$$slotName);for(var t=this.bindings.length-1;t>=0;t--)this.bindings[t].create(e)},t.update=function(e,t){for(var n=this.bindings,r=n.length-1;r>=0;r--)n[r].update(e,t)},t.destroy=function(e){for(var t=this.currentElementOrBindings.length-1;t>=0;t--){var n=this.currentElementOrBindings[t];YR(n)?n.destroy(e):e&&wR.removeNode(n)}},t.getStartAnchor=function(){if(0===this.currentElementOrBindings.length)return this.anchor;for(var e=this.currentElementOrBindings[0];YR(e);)e=e.getStartAnchor();return e},t.moveToAnchor=function(){for(var e=this.currentElementOrBindings.length-1;e>=0;e--){var t=this.currentElementOrBindings[e];YR(t)?(wR.insertBefore(this.element,t.anchor,this.anchor),t.moveToAnchor()):wR.insertBefore(this.element,t,this.anchor)}},t._clone=function(e,t,n,r,i){for(var o=this,a=n,s=!0,c=function(e){if(s)return a;var n=o.addAnchor(e,t,a);return null==r||r.push(n),n},u=function(e){var n=c("slot-condition"),i=new oN(t,n,e);a=n,s=!1,o.bindings.push(i),null==r||r.push(i)},l=e.length-1;l>=0;l--){var f=e[l];if("string"!=typeof f)switch(f.type){case"element":if(i){u(f);break}var d=f.tagName,h=f.props,p=f.children;if("slot"===d){var v,g=null!=(v=h.name)?v:HR,m=s?a:this.addAnchor("slot",t,a),y=new iN(t,m,g);this.bindings.push(y),null==r||r.push(y),a!==m&&(null==r||r.push(m)),a=m,s=!1;break}if(wR.isCustomTagName(d)){var b=c("component"),k=new cN(t,b,f);a=b,s=!1,this.bindings.push(k),null==r||r.push(k);break}var w=wR.createElement(d);if(h)for(var _=FR(h),S=0;S<_.length;S++){var C=_[S];switch(C.type){case 1:var I=new tN(w,C.name,C.value,C.modifier);this.bindings.push(I);break;case 0:wR.addEventListener(w,C.name,C.value,C.modifier);break;case 3:var T=new XR(w,C.name,C.value.deps,C.value.expr);this.bindings.push(T);break;case 2:wR.setAttribute(w,C.name,C.value);break;case 5:var A=new ZR(w,C.name,C.value.deps,C.value.expr);this.bindings.push(A);break;case 4:wR.setDataset(w,C.name,C.value)}}this._clone(p,w,null),wR.insertBefore(t,w,a),a=w,s=!0,null==r||r.push(w);break;case"pair":if(i){u(f);break}var E=wR.createText(),M=new QR(E,f.deps,f.expr);wR.insertBefore(t,E,a),a=E,s=!0,this.bindings.push(M),null==r||r.push(E);break;case"condition":var x=c("condition"),P=new nN(t,x,f);a=x,s=!1,this.bindings.push(P),null==r||r.push(P);break;case"repeat":var O=c("repeat"),R=new rN(t,O,f);a=O,s=!1,this.bindings.push(R),null==r||r.push(R);break;case"template":var N=c("template"),j=new sN(t,N,f);a=N,s=!1,this.bindings.push(j),null==r||r.push(j)}else{if(i){u(f);continue}var D=wR.createText(f);wR.insertBefore(t,D,a),a=D,s=!0,null==r||r.push(D)}}},t.addAnchor=function(e,t,n){void 0===n&&(n=null);var r=wR.createAnchor(e);return wR.insertBefore(t,r,n),r},t._addSlotCondition=function(){},ls(e,[{key:$R,get:function(){return!0}}]),e}(),sN=function(){function e(e,t,n){this.element=e,this.anchor=t,this.node=n,this.currentValue=null,this.currentTemplate=null,this.currentBinding=null,this.nameDeps=void 0,this.nameExpr=void 0,this.dataDeps=void 0,this.dataExpr=void 0,this.templates=void 0;var r=qR(n.is);this.nameDeps=r[0],this.nameExpr=r[1];var i=qR(n.data);this.dataDeps=i[0],this.dataExpr=i[1],this.templates=n.templates}var t=e.prototype;return t.create=function(e){var t=this.nameExpr(e),n="function"==typeof this.templates?this.templates(t):this.templates[t];n&&(this.currentTemplate=n,(this.currentBinding=new aN(this.element,this.anchor,n)).create(this.currentValue=this.dataExpr(e)))},t.update=function(e,t){var n,r,i=this.currentTemplate;this.nameDeps.check(t)&&(i=null!=(n="function"==typeof this.templates?this.templates(this.nameExpr(e)):this.templates[this.nameExpr(e)])?n:null);if(i!==this.currentTemplate)null==(r=this.currentBinding)||r.destroy(!0),this.currentTemplate=i,i?(this.currentBinding=new aN(this.element,this.anchor,i)).create(this.currentValue=this.dataExpr(e)):this.currentBinding=null;else if(i&&this.dataDeps.check(t)){var o=this.dataExpr(e),a=this.currentValue,s={};Object.keys(o).forEach((function(e){var t=o[e];("object"==typeof t||t!==(null==a?void 0:a[e]))&&(s[e]=!0)})),this.currentValue=o,this.currentBinding.update(o,s)}},t.destroy=function(e){var t;null==(t=this.currentBinding)||t.destroy(e)},t.getStartAnchor=function(){return this.currentBinding?this.currentBinding.getStartAnchor():this.anchor},t.moveToAnchor=function(){this.currentBinding&&this.currentBinding.moveToAnchor()},ls(e,[{key:$R,get:function(){return!0}}]),e}(),cN=function(){function e(e,t,n){this.element=e,this.anchor=t,this.node=n,this.instance=void 0,this.currentBindings=[],this.nextChanges={},this.is=void 0,this.props=void 0,this.customElement=void 0,this.elementBinding=void 0,this.slots=void 0,this.dynSlot=void 0,this.is=n.tagName,this.props=FR(n.props);var r=function(e){if(e[VR])return e[VR];var t={slots:{},dynSlot:e};return e[VR]=t,t}(n.children);this.slots=r.slots,this.dynSlot=r.dynSlot}var t=e.prototype;return t.create=function(e){var t=this.instance=wR.createComponentModel(this.is),n=this.customElement=t.element;wR.insertBefore(this.element,n,this.anchor);for(var r=this.nextChanges,i=this.props,o=0;o<i.length;o++){var a=i[o];switch(a.type){case 1:var s=new tN(n,a.name,a.value,a.modifier);this.currentBindings.push(s);break;case 0:wR.addEventListener(n,a.name,a.value,a.modifier);break;case 3:var c=a.name;"id"!==c&&"className"!==c&&"style"!==c&&"hidden"!==c||this.currentBindings.push(new XR(n,c,a.value.deps,a.value.expr)),this.currentBindings.push(new eN(n,this,c,a.value.deps,a.value.expr));break;case 2:var u=a.name,l=a.value;"id"!==u&&"className"!==u&&"style"!==u&&"hidden"!==u||wR.setAttribute(n,u,l),r[u]=l;break;case 5:var f=new ZR(n,a.name,a.value.deps,a.value.expr);this.currentBindings.push(f);break;case 4:wR.setDataset(n,a.name,a.value)}}for(var d=0;d<this.currentBindings.length;d++)this.currentBindings[d].create(e);r.__$$slots={scope:e,slots:this.slots,dynSlot:this.dynSlot,changes:{},instance:this.instance},this.nextChanges={},t._$create(r);var h=this.elementBinding=new aN(n,null,t.template);t.binding=h,t.beforeRender(),h.create(t.data),t.afterRender(),t._$ready()},t.update=function(e,t){for(var n=this.nextChanges={},r=0;r<this.currentBindings.length;r++)this.currentBindings[r].update(e,t);n.__$$slots={scope:e,slots:this.slots,changes:t,dynSlot:this.dynSlot,instance:this.instance};var i=this.instance._$update(n);this.instance.beforeRender(),this.elementBinding.update(this.instance.data,i),this.instance.afterRender()},t.destroy=function(e){this.elementBinding.destroy(!1),e&&wR.removeNode(this.customElement),this.instance._$destroy()},t.getStartAnchor=function(){return this.customElement},t.moveToAnchor=function(){wR.insertBefore(this.element,this.customElement,this.anchor)},ls(e,[{key:$R,get:function(){return!0}}]),e}(),uN={getParent:function(e){return e.logicalParentNode||e.parentNode||null},getChildren:function(e){return(e.isCustomComponent?e.logicalChildNodes:e.childNodes).filter((function(e){return"node"===e.type}))},getTagName:function(e){return e.tagName||""},getID:function(e){return e.id},getClassName:function(e){return e.originalClassName},isCustomComponent:function(e){return e.isCustomComponent},getShadowRoot:function(e){return e.shadowRoot},isShadowRoot:function(e){return"shadowroot"===e.tagName},getShadowRootHost:function(e){return e.host.element}};function lN(e,t){var n=e[t];Zg(n)?e[t]=Array.from(n):em(n)&&(e[t]=Object.assign({},n))}var fN,dN=function(e){var t=yw(e,this.rind.element.shadowRoot||this.rind.element,uN);return null!=t&&t.model?t.model.outerModel:null},hN=function(e){for(var t=bw(e,this.rind.element.shadowRoot||this.rind.element,uN),n=[],r=0;r<t.length;r++){var i=t[r].model;i&&n.push(i.outerModel)}return n},pN=function(e){function t(t){var n,r=Km().global.window.app[t.__route__];return(n=e.call(this,{template:null==r?void 0:r.nodes,data:Object.assign({},null==r?void 0:r.scope)})||this).outerModel=t,n.parent=null,n}hm(t,e);var n=t.prototype;return n._$create=function(t){this.element.model=this,e.prototype._$create.call(this,t)},n._$update=function(t){var n=e.prototype._$update.call(this,t);return delete t.__$$slots,n},n._$destroy=function(){this.element.model=null,e.prototype._$destroy.call(this)},n.beforeRender=function(){this.renderer.pushModel(this)},n.afterRender=function(){this.renderer.popModel()},n.beforeSlotRender=function(){this.renderer.pushModel(this.parent)},n.afterSlotRender=function(){this.renderer.popModel()},n.firstRender=function(){_R(this.renderer),this.mount(),this.renderer.flush()},n.render=function(t,n){this.renderer&&(!function(e,t){Object.keys(t).forEach((function(n){void 0===t[n]&&ps.error("setData field "+n+" to undefined not work");for(var r=bR(n),i=e,o={},a=0,s=r.length;a<s;a++){var c=r[a];Number(c)===c&&c%1==0?Zg(i)||(i=o[r[a-1]]=[]):em(i)||(i=o[r[a-1]]={}),a+1===s?i[c]=Yw(t[n]):(lN(i,c),o=i,i=i[c])}}))}(this.data,t),_R(this.renderer),e.prototype.render.call(this,t),this.renderer.flush(n))},n._$applyDataUpdate=function(e){var t={};return Object.keys(e).forEach((function(e){var n=bR(e);t[n[0]]=!0})),t},n._$processDataUpdate=function(t){return this.__nodeId__?jT(this.outerModel,t,!0):e.prototype._$processDataUpdate.call(this,t)},n.getContainer=function(){return Km().getContainer(Uw)},ls(t,[{key:"__webviewId__",get:function(){return this.outerModel.__webviewId__}},{key:"__route__",get:function(){return this.outerModel.__route__}},{key:"__nodeId__",get:function(){return this.outerModel.__nodeId__}},{key:"renderer",get:function(){return this.getContainer().getRenderer(this.outerModel.__webviewId__)}}]),t}(function(){function e(e){var t,n,r;void 0===e&&(e={}),this.data=void 0,this.template=void 0,this.element=void 0,this.anchor=void 0,this.binding=void 0,this.createdCallbacks=[],this.mountedCallbacks=[],this.updateCallbacks=[],this.destroyCallbacks=[],this.data=null!=(t=e.data)?t:{},this.template=null!=(n=e.template)?n:[],this.element=e.element,this.anchor=null!=(r=e.anchor)?r:null}var t=e.prototype;return t._$create=function(e){var t=this._$processDataUpdate(e);Object.assign(this.data,t),e.__$$slots&&(this.data.__$$slots=e.__$$slots),e.__$$slotName&&(this.data.__$$slotName=e.__$$slotName),this.createdCallbacks.forEach((function(e){return e()}))},t._$update=function(e){var t=this._$processDataUpdate(e),n=this._$applyDataUpdate(t);return e.__$$slots&&(this.data.__$$slots=e.__$$slots,n.__$$slots=!0),e.__$$slotName&&(this.data.__$$slotName=e.__$$slotName,n.__$$slotName=!0),n},t._$ready=function(){this.mountedCallbacks.forEach((function(e){return e()}))},t._$destroy=function(){this.destroyCallbacks.forEach((function(e){return e()}))},t.mount=function(e,t){var n,r;if(this.element=null!=(n=this.element)?n:e,this.anchor=null!=(r=this.anchor)?r:t,!this.element||!this.template)return null;var i=this.binding=new aN(this.element,this.anchor,this.template);return this.beforeRender(),i.create(this.data),this.afterRender(),i},t.beforeRender=function(){},t.afterRender=function(){},t.beforeSlotRender=function(){},t.afterSlotRender=function(){},t.render=function(e){var t=this._$applyDataUpdate(e);this.binding&&(this.beforeRender(),this.binding.update(this.data,t),this.afterRender())},t._$applyDataUpdate=function(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i]=!0,this.data[i]=e[i]}return t},t._$processDataUpdate=function(e){return e},ls(e)}()),vN=function(){function e(e,t){this.__webviewId__=e,this.__route__=t,this.route=void 0,this.__properties__=void 0,this.data={},this.options=void 0,this.rind=new pN(this)}var t=e.prototype;return t.setData=function(e,t){var n=this;if("Object"===rm(e)){var r=this.__webviewId__,i={page:Yk.getPagePath(r),webviewID:r};this.__nodeId__&&(i.component=this.__route__);var o=Yk.startParallel({category:Ub,name:this.__nodeId__?ik:rk,type:Ik,extra:i}),a=v_((function(e){if(Yk.endParallel(o),e){var r=e[0],a=e[1];Yk.addToStackTimeline("webview",{name:sk,type:Wk,start:r,end:a,extra:i})}if("function"==typeof t){var s=Yk.startStack({name:n.__nodeId__?ak:ok,type:Ak,extra:i});t.call(n),Yk.endStack(s)}}),{errMsg:"at setData callback",context:this});m_((function(){DO.call(n,e),n.rind.render(e,a)}),[],{errMsg:"at setData"})}},t.createSelectorQuery=function(){return new tT(this.__webviewId__)},t.selectComponent=function(e,t){var n=this;if("function"!=typeof t)return dN.call(this,e);setTimeout((function(){var r=dN.call(n,e),i=n.__nodeId__?"component":"page";r?r.attachedDeferred.promise.then((function(){p_(t,[r],{errMsg:"at selectComponent callback of the "+i+" "+n.__route__})})).catch((function(){})):p_(t,[r],{errMsg:"at selectComponent callback of the "+i+" "+n.__route__})}),0)},t.selectAllComponents=function(e,t){var n=this;if("function"!=typeof t)return hN.call(this,e);setTimeout((function(){var r=hN.call(n,e);Promise.all(r.map((function(e){return e.attachedDeferred.promise}))).then((function(){var e=n.__nodeId__?"component":"page";p_(t,[r],{errMsg:"at selectAllComponents callback of the "+e+" "+n.__route__})})).catch((function(){}))}),0)},t.createIntersectionObserver=function(e){return DA.call(this,this,e)},t.pageScrollTo=function(){},t.getContainer=function(){return Km().getContainer(Uw)},ls(e)}(),gN=function(e){var t=this.getContainer(),n=aR(t,this);if(n.isPageReload=e,n.newFramework=!0,"object"==typeof __allConfig__){var r=t.componentConfigStore.getPageContainComponents(this.__route__),i=r.componentConfigs,o=r.usingComponents,a=r.publicComponents;n.usingComponents=o,n.componentConfigs=i,n.publicComponents=a}var s={performanceEnabled:Yk.enabled,isFirstPage:t.openType===Fw.APP_LAUNCH,firstRender:!0,timestamp:Date.now()};this.rind.renderer.firstRenderInformation={ext:n,options:s},this.rind.firstRender()},mN=new(function(e){function t(){return e.apply(this,arguments)||this}hm(t,e);var n=t.prototype;return n.getRelationInformation=function(e){return e.model?e.model.outerModel:null},n.getParent=function(e){return"shadowroot"===e.tagName?null:e.logicalParentNode},n.getChildren=function(e){return e.isCustomComponent?e.logicalChildNodes:e.childNodes},n.isTravelable=function(e){return"node"===e.type},ls(t)}(kw)),yN=function(e,t){e.relationMap.parent&&bN(e,e.relationMap.parent,e.relationLinks.parent,!0,"attached"===t),e.relationMap.ancestor&&bN(e,e.relationMap.ancestor,e.relationLinks.ancestor,!1,"attached"===t)},bN=function(e,t,n,r,i){for(var o=0;o<t.length;o++){var a=t[o],s=null;i&&(s=mN.getNewParentNode(e.rind.element,a,r)),n[o]=s}},kN=ls((function(){var e=this;this.resolve=function(){},this.reject=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))})),wN=function(e){function t(t,n,r,i,o){var a;(a=e.call(this,n,r)||this).is=void 0,a.__nodeId__=void 0,a.__properties__=void 0,a.properties={},a.id="",a.dataset={},a.ancestors=void 0,a.relationMap=void 0,a.relationLinks=void 0,a.relations=void 0,a.attachedDeferred=new kN,OT.call(fm(a),t,o),a.rind.data=Object.assign(a.rind.data,Yw(a.data));var s=a.getContainer(),c=s.getRenderer(n);"body"===i?(a.rind.element=c.createElement(i),a.rind.element.host=a.rind,a.__nodeId__=0):(a.rind.element=c.createCustomElement(i,a.rind),a.__nodeId__=a.rind.element._id);var u=s.componentConfigStore.getComponentConfig(a.__route__);return mN.initializeRelation(fm(a),u),a}hm(t,e);var n=t.prototype;return n.setData=function(t,n){var r=rm(t);"Object"===r?e.prototype.setData.call(this,jT(this,t),n):ps.error("setData's first param must be object, you pass "+r)},n.hasBehavior=function(e){return RT(this,e)},n.createSelectorQuery=function(){return e.prototype.createSelectorQuery.call(this).in(this)},n.triggerEvent=function(e,t,n){var r=this;setTimeout(y_((function(){r._triggerEvent(e,t,n)}),{errMsg:"at triggerEvent",context:this}),0)},n._triggerEvent=function(e,t,n){var r=this.getContainer().getRenderer(this.__webviewId__);if(r)for(var i={id:this.rind.element.id,dataset:this.rind.element.dataset},o=this.rind.element;o;){var a={id:o.id,dataset:o.dataset};r.triggerEvent(this.rind.element._id,e,{type:e,detail:t,currentTarget:a,target:i,timeStamp:Date.now()}),o=null!=n&&n.bubbles?o.parentNode:null}},n.getRelationNodes=function(e,t){var n=mN.getRelations(e,this.rind.element),r=Array.isArray(n)?n.map((function(e){var t;return null==(t=e.model)?void 0:t.outerModel})):n;return"function"==typeof t&&t(r),r},ls(t)}(vN),_N=function(e){function t(t,n,r,i){var o;void 0===i&&(i={}),(o=e.call(this,n,r)||this).trace=i,o.onLoad=void 0,o.onReady=void 0,o.onShow=void 0,o.onHide=void 0,o.onUnload=void 0,o.onReload=void 0,MT.call(fm(o),t),o.rind.data=Object.assign(o.rind.data,Yw(o.data));var a=o.getContainer().getRenderer(n);return o.rind.element=a.createElement("body"),o.rind.element.host=o.rind,o}hm(t,e);var n=t.prototype;return n.getTraceInfo=function(){return new VA(this.trace)},n.setData=function(t,n){e.prototype.setData.call(this,t,n),this.getContainer().host.global.isRemoteDebug&&lR(this.getContainer().bridge)},ls(t)}(vN);!function(e){e[e.CreateElement=0]="CreateElement",e[e.CreateCustomElement=1]="CreateCustomElement",e[e.CreateText=2]="CreateText",e[e.CreateAnchor=3]="CreateAnchor",e[e.AppendChild=4]="AppendChild",e[e.InsertBefore=5]="InsertBefore",e[e.RemoveNode=6]="RemoveNode",e[e.SetText=7]="SetText",e[e.SetAttribute=8]="SetAttribute",e[e.AddEventListener=9]="AddEventListener",e[e.RemoveEventListener=10]="RemoveEventListener"}(fN||(fN={}));var SN=1,CN=function(e){for(var t=e.parentNode,n=e.host;t;){if(t.host===n)return t;t=t.host.element}return null},IN=function(e){return null==e?"":e.toString().replace(/\\r/g,"").replace(/\\n/g,"\n")},TN=function(){function e(t,n,r,i,o){this.host=t,this.model=n,this.type=r,this.tagName=i,this.text=o,this._id=SN++,this.id="",this.originalClassName="",this.shadowRoot=null,this.parentNode=null,this.childNodes=[],this.logicalParentNode=null,this.logicalChildNodes=[],this.dataset={},this.attributes=void 0,this.listeners={},n&&(this.shadowRoot=new e(n,null,"node","shadowroot"))}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes=this.attributes||{},this.attributes[e]=t},t.appendChild=function(e){var t,n;this.shadowRoot?this.shadowRoot.appendChild(e):(null==(t=e.parentNode)||t.removeChild(e),e.parentNode=this,this.childNodes.push(e),this.addToLogicalParent(e),(null==(n=e.model)?void 0:n.outerModel)instanceof wN&&yN(e.model.outerModel,"attached"))},t.insertBefore=function(e,t){if(this.shadowRoot)this.shadowRoot.insertBefore(e,t);else{var n,r,i=this.childNodes.indexOf(t);if(-1!==i)null==(n=e.parentNode)||n.removeChild(e),e.parentNode=this,this.childNodes.splice(i,0,e),this.addToLogicalParent(e),(null==(r=e.model)?void 0:r.outerModel)instanceof wN&&yN(e.model.outerModel,"attached")}},t.addToLogicalParent=function(e){var t;e.host===this.host?(e.logicalParentNode=this,this.isCustomComponent&&this.logicalChildNodes.push(e)):(t=CN(e))&&-1===t.logicalChildNodes.indexOf(e)&&(e.logicalParentNode=t,t.logicalChildNodes.push(e))},t.removeChild=function(e){if(this.shadowRoot)this.shadowRoot.removeChild(e);else{var t,n,r=this.childNodes.indexOf(e);if(-1!==r)if(e.parentNode=null,this.childNodes.splice(r,1),this.removeFromLogicalParent(e),(null==(t=e.model)?void 0:t.outerModel)instanceof wN)yN(null==(n=e.model)?void 0:n.outerModel,"detached")}},t.removeFromLogicalParent=function(e){var t;if(e.host===this.host){if(e.logicalParentNode=null,this.isCustomComponent){var n=this.logicalChildNodes.indexOf(e);-1!==n&&(e.logicalParentNode=null,this.logicalChildNodes.splice(n,1))}}else if(t=CN(e)){var r=t.logicalChildNodes.indexOf(e);-1!==r&&(e.logicalParentNode=null,t.logicalChildNodes.splice(r,1))}},ls(e,[{key:"isCustomComponent",get:function(){return!!this.model}}]),e}(),AN=function(){function e(){this._id=0,this.stringToID={},this.idToString={},this.diff={}}var t=e.prototype;return t.addTagName=function(e){if("number"!=typeof this.stringToID[e]){var t=this._id++;this.stringToID[e]=t,this.idToString[t]=e,this.diff[t]=e}return this.stringToID[e]},t.getAll=function(){return this.idToString},t.getDiff=function(){var e=this.diff;return this.diff={},e},ls(e)}(),EN=function(){function e(e,t){this.webviewID=e,this.container=t,this.firstRenderInformation=null,this.nodes=new Map,this.nodesToRelease=[],this.modelStack=[],this.commands=[],this.callbacks=[],this.nextRenders=[],this.timer=null,this.tagNameMap=new AN}var t=e.prototype;return t.createElement=function(e){var t=new TN(this.currentModel,null,"node",e);this.nodes.set(t._id,t);var n=this.currentModel?this.currentModel.element._id:0,r=this.tagNameMap.addTagName(e);return this.commands.push([fN.CreateElement,t._id,n,r]),t},t.createCustomElement=function(e,t){var n=new TN(this.currentModel,t,"node",e);this.nodes.set(n._id,n);var r=this.currentModel?this.currentModel.element._id:0,i=this.tagNameMap.addTagName(e);return this.commands.push([fN.CreateCustomElement,n._id,n.shadowRoot._id,r,i]),n},t.createText=function(e){e=IN(e);var t=new TN(this.currentModel,null,"text",void 0,e);this.nodes.set(t._id,t);var n=this.currentModel?this.currentModel.element._id:0;return this.commands.push([fN.CreateText,t._id,n,e]),t},t.createAnchor=function(e){var t=new TN(this.currentModel,null,"comment",void 0,e);this.nodes.set(t._id,t);var n=this.currentModel?this.currentModel.element._id:0;return this.commands.push([fN.CreateAnchor,t._id,n,e]),t},t.appendChild=function(e,t){var n;e.appendChild(t);var r=(null==(n=t.logicalParentNode)?void 0:n._id)||0;this.commands.push([fN.AppendChild,e._id,r,t._id])},t.insertBefore=function(e,t,n){if(n){var r;e.insertBefore(t,n);var i=(null==(r=t.logicalParentNode)?void 0:r._id)||0;this.commands.push([fN.InsertBefore,e._id,i,t._id,n._id])}else this.appendChild(e,t)},t.removeNode=function(e){var t=e.parentNode;if(t){var n,r=(null==(n=e.logicalParentNode)?void 0:n._id)||0;t.removeChild(e),this.nodesToRelease.push(e),this.commands.push([fN.RemoveNode,t._id,r,e._id])}},t.setText=function(e,t){t=IN(t),e.text=t,this.commands.push([fN.SetText,e._id,t])},t.setDataset=function(e,t,n){var r;(null==(r=e.model)?void 0:r.outerModel)instanceof wN&&(e.model.outerModel.dataset[t]=n),e.dataset[t]=n},t.setAttribute=function(e,t,n){if("slot"!==t){var r;if("id"===t)(null==(r=e.model)?void 0:r.outerModel)instanceof wN&&(e.model.outerModel.id=n),e.id=n;else"className"===t&&(e.originalClassName=n);this.commands.push([fN.SetAttribute,e._id,t,n])}},t.addEventListener=function(e,t,n,r){var i=e.listeners,o=r.capture,a=r.catch,s=o?"capture":"normal";if(i[t]||(i[t]={normal:null,capture:null}),n){var c=i[t][s];c?c.value=n:(this.commands.push([fN.AddEventListener,e._id,t,a?1:0]),i[t][s]={value:n,modifier:r})}else i[t][s]&&this.commands.push([fN.RemoveEventListener,e._id,t]),i[t][s]=null;"-data-custom-hidden"===t&&this.commands.push([fN.SetAttribute,e._id,"bind-data-custom-hidden",n])},t.isCustomTagName=function(e){var t=this.currentModel,n=t.getContainer().componentConfigStore.getUsingComponents(t.__route__)[e];return!(!n||!window.app[n])},t.createComponentModel=function(e){var t,n=this.currentModel,r=n.getContainer(),i=n.__webviewId__,o=r.componentConfigStore.getUsingComponents(n.__route__)[e];r.optionsStoredByRoute[o]instanceof dO?t=r.optionsStoredByRoute[o]:(ps.error("Component is not registered in "+o),t=hO(o));var a=new wN(t,i,o,e);return a.rind.parent=n,r.componentInstances[i]=r.componentInstances[i]||{},r.componentInstances[i][a.__nodeId__]={instance:a,route:o,webviewId:i,status:"attached"},NT(a,"setup"),a.rind},t.triggerEvent=function(e,t,n){var r,i,o,a,s=this.nodes.get(e);if(s){var c=(null==(r=s.listeners)||null==(i=r[t])?void 0:i.normal)||(null==(o=s.listeners)||null==(a=o[t])?void 0:a.capture);if(c&&s.host){var u=s.host.outerModel[c.value];"function"==typeof u&&u(n)}}},t.pushModel=function(e){this.modelStack.push(e)},t.popModel=function(){this.modelStack.pop()},t.restoreDataset=function(e){if(e&&"number"==typeof e.dataset){var t,n=e.dataset,r=null==(t=this.nodes.get(n))?void 0:t.dataset;e.dataset=r?Yw(r):{}}},t.getNode=function(e){return this.nodes.get(e)},t.flush=function(e){var t=this;e&&this.callbacks.push(e),null===this.timer&&(this.timer=setTimeout(y_((function(){if(t.timer=null,0===t.commands.length){var e=t.callbacks;return t.callbacks=[],void e.forEach((function(e){return e()}))}var n={commands:t.commands,tagNameMap:t.tagNameMap.getAll(),timeStamp:Date.now()};t.firstRenderInformation&&(Object.assign(n,t.firstRenderInformation),sR(py,t.firstRenderInformation.ext.route));var r=t.callbacks;t.callbacks=[],t.commands=[],t.firstRenderInformation=null,t.container.bridge.invokeWebviewMethod("render",n,t.webviewID,(function(e){r.forEach((function(t){return t(e)})),setTimeout((function(){for(var e=0;e<t.nodesToRelease.length;e++)for(var n=[t.nodesToRelease[e]];n.length;){var r=n.shift();t.nodes.delete(r._id);for(var i=0;i<r.childNodes.length;i++){var o=r.childNodes[i];n.push(o)}}}),0)})),t.nextRenders.forEach((function(e){return e()})),t.nextRenders=[]}),{context:this,errMsg:"at render flush"}),0))},t.nextRender=function(e){this.nextRenders.push(e)},ls(e,[{key:"pending",get:function(){return this.commands.length>0}},{key:"currentModel",get:function(){return this.modelStack[this.modelStack.length-1]}}]),e}();function MN(e,t){var n=e.componentInstances,r=n[t]||{};Object.entries(r).forEach((function(e){e[0];var t=e[1],n=t.instance;"attached"===t.status&&NT(n,"detached",{})})),delete n[t]}var xN=["onLaunch","onShow","onHide","onUnlaunch"],PN=["onError","onLaunch","onShow","onHide","onUnlaunch","onUnhandledRejection"];function ON(e,t,n){var r=e[t];r?p_(r,n,{errMsg:"at App."+t,context:e}):ps.warn("App."+t+" is not a function")}var RN=ls((function(e,t){var n=this;c_("app",this,e,xN,{route:"App"}),"function"==typeof e.onError&&t.emitter.on(jy,f_(e.onError,{errMsg:"at App.onError",context:this})),"function"==typeof(null==e?void 0:e.onThemeChange)&&(null==t.api.exports.onThemeChange||t.api.exports.onThemeChange((function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];p_(e.onThemeChange,r,{context:n,errMsg:"at App.onThemeChange"})})));var r=function(t){if(!PN.includes(t)){var r=e[t];e_(r)?n[t]=v_((function(){for(var e=Yk.startStack({name:pk(t),type:Dk}),n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=r.apply(this,i);return Yk.endStack(e),a}),{errMsg:"at App."+t,context:n}):n[t]=Yw(e[t])}};for(var i in e)r(i);t.emitter.on(Gw,(function(){var e;Lb(Gy,eb(fy,bm.trace)).flush(),t.isForeground=!1;var r=t.getPages();if(r.length){var i=r[r.length-1];xT(i,"onHide",[]),jS("onAppEnterBackground",{},[i.__webviewId__])}null==(e=t.api.instance.get(nE))||e._triggerHide(),Lb(Gy,eb(dy,bm.trace)).flush(),ON(n,"onHide",[]),Lb(Gy,eb(hy,bm.trace)).flush()}));var o=!0;t.emitter.on(Jw,(function(e){var r;void 0===e&&(e={}),Lb(Gy,eb(cy,bm.trace)).flush(),t.isForeground=!0,t.flushPagesToReload();var i=t.fWillRoute;if(o)return o=!1,void ps.log("onAppEnterForeground:firstColdLaunch");ps.log("onAppEnterForeground trigger App.onShow with",e,"willRoute:",i),null==(r=t.api.instance.get(nE))||r._triggerShow(e),Lb(Gy,eb(uy,bm.trace)).flush(),ON(n,"onShow",[e]),Lb(Gy,eb(ly,bm.trace)).flush();var a=t.getPages();if(!i&&a.length){var s=a[a.length-1];s.onShow(),jS("onAppEnterForeground",{},[s.__webviewId__])}if(a.length){var c,u,l=a[a.length-1].__route__;Lb(Zy,Rb).setPlatform("Tea").addMap({page_path:l,lifecycle_id:null==(c=t.host.agent.globalTrace)?void 0:c.traceId,application_id:null==(u=t.TMAConfig)?void 0:u.appId}).flush()}})),this.startApp=function(){var e=t.TMAConfig;if(e){var n,r,i,o=e.launch=tt.getLaunchOptionsSync(),a=null==o?void 0:o.mode,s=null==(r=e.tabBar)||null==(i=r.PCMode)?void 0:i.list;"window"!==a&&"appCenter"!==a||!s||t.tabs.init(s.map((function(e){return e.pagePath||""}))),sR(ay,e.launch.path),ON(this,"onLaunch",[e.launch]),sR(sy,e.launch.path),sR(uy,e.launch.path),ON(this,"onShow",[e.launch]),sR(ly,e.launch.path),null==(n=t.api.instance.get(nE))||n._triggerShow(e.launch)}else ps.error("App Launch Error: NO Configuration.")}}));FS("onDebugNativePerformanceData",(function(e){Array.isArray(e.data)&&e.data.forEach((function(e){Yk.addNativeData(e)}))})),FS("onDebugPerformanceAnalyzingStop",(function(){Yk.disable();for(var e=524288,t=JSON.stringify(Yk.output()),n=Math.ceil(t.length/e),r=0;r<n;r++)LS("sendDebugPerformanceData",{total:n,index:r,data:t.slice(r*e,(r+1)*e)})}));var NN="auto",jN="landscape",DN="portrait";var LN=function(){function e(e,t,n,r){this.model=e,this.size={pageWidth:0,pageHeight:0,windowWidth:0,windowHeight:0,screenWidth:0,screenHeight:0},this.orientation=void 0,this.orientationConfig=void 0,this.nextOri=void 0,this.nextSize=void 0,this.inited=!1,this.preOri=void 0,this._id=null,this.orientationConfig=t,this.orientation="auto"!==t?t:n,r&&(this.nextSize=Object.assign({},r))}var t=e.prototype;return t.updatePageSize=function(e){this.nextSize?Object.assign(this.nextSize,e.size):this.nextSize=Object.assign({},e.size),e.pageOrientation&&(this.nextOri=e.pageOrientation)},t.updateWindowSize=function(e){this.nextSize?Object.assign(this.nextSize,e.size):this.nextSize=Object.assign({},e.size),this.nextOri=e.pageOrientation},t.check=function(e){var t=this;null!=this.preOri||(this.preOri=e),this._id&&(clearTimeout(this._id),this._id=null),this._id=setTimeout((function(){return t._check()}),400)},t._check=function(){var e=this.orientationConfig,t=this.preOri,n=this.nextSize,r=this.nextOri,i=this.size,o=!1;n&&((n.windowWidth!==i.windowWidth||n.windowHeight!==i.windowHeight||n.pageWidth&&n.pageHeight&&(n.pageWidth!==i.pageWidth||n.pageHeight!==i.pageHeight))&&(Object.assign(i,n),o=!0),this.nextSize=void 0),r&&("auto"===e&&t&&t!==this.orientation&&(o=!0),this.orientation=r,this.nextOri=void 0),o&&(this.inited||"auto"===e&&t&&t!==this.orientation)&&this.trigger(),this.inited=!0,this.preOri=void 0},t.trigger=function(){var e=this.model,t=this.size,n=this.orientation;ps.info("Trigger onResize"),null==e.onResize||e.onResize({pageOrientation:n,size:{windowWidth:t.windowWidth,windowHeight:t.windowHeight,screenWidth:t.screenWidth,screenHeight:t.screenHeight}})},ls(e)}(),FN=function(){function e(){this.paths=[]}var t=e.prototype;return t.init=function(e){this.paths=e},t.add=function(e,t){this.paths.splice(e,0,t)},t.remove=function(e){var t=this.paths,n=t.indexOf(e);-1!==n&&t.splice(n,1)},t.has=function(e){return this.paths.includes(e)},ls(e)}(),BN=function(e){function t(){return e.apply(this,arguments)||this}return hm(t,e),t.prototype.assembleCallback=function(t,n,r){return e.prototype.assembleCallback.call(this,t,Object.assign({},n,{cancel:function(e){e.errMsg=e.errMsg.replace(t+":cancel",t+":fail cancel"),null==r.fail||r.fail(e),null==n.cancel||n.cancel(e)}}),r)},ls(t)}(function(e){function t(t){var n;return(n=e.call(this,t.appKey,t.host.ttJSBridge,t.host.isSupportArrayBuffer,t.host.agent.isSupportNewBridge)||this).container=t,n.callbackID=0,n.callbacks={},n}hm(t,e);var n=t.prototype;return n.clearCallbackMethods=function(){var e=this,t=getCurrentPages().map((function(e){return e.__webviewId__}));Object.keys(this.callbacks).forEach((function(n){var r=e.callbacks[n].webviewID;t.includes(r)||delete e.callbacks[n]}))},n.invokeWebviewMethod=function(e,t,n,r){var i;r&&(i=this.callbackID,this.callbacks[i]={callback:r,webviewID:n},this.callbackID+=1),this.publish("invokeWebviewMethod",{name:e,args:t,callbackID:i},n?[n]:[])},n.notifyWebviews=function(e,t,n){this.publish("invokeWebviewMethod",{name:e,args:t},n)},n.wrapSafeCall=function(e,t,n){return y_(e,{context:null,errMsg:"at event "+t+" with type "+n,data:this.container})},n.wrapApiCallback=function(e,t,n){return v_(n,{context:null,errMsg:"at "+e+" "+t+" callback",data:this.container})},ls(t)}(dw)),UN=function(){function e(e){this.container=e,this._usingComponents={},this._componentConfigs={},this._pageComponents={},this._pluginComponents={}}var t=e.prototype;return t.getUsingComponents=function(e,t){var n=this;if(!this._usingComponents[e]){var r;this._usingComponents[e]={};var i=null==(r=this.__allConfig__[e])?void 0:r.usingComponents,o=new RegExp("^"+t+"/"),a=t?e.replace(o,""):e;i&&Object.keys(i).forEach((function(r){var o=i[r],s=o.startsWith("/")?o.slice(1):sm(a,o);n._usingComponents[e][r.toLowerCase()]=t?t+"/"+s:s}))}return this._usingComponents[e]},t.getComponentConfig=function(e){var t=this.container.optionsStoredByRoute;if(!this._componentConfigs[e]){var n;t[e]instanceof dO?n=t[e]:(ps.error("Component is not registered in "+e),n=hO(e));var r={};Object.keys(n.standardizedProperties).forEach((function(e){r[e]={type:n.standardizedProperties[e].type,value:n.standardizedProperties[e].value}})),this._componentConfigs[e]={ancestors:n.ancestors.map((function(e){return e.is})),externalClasses:n.externalClasses,properties:r,data:n.data,relationMap:n.relationMap,options:n.options}}return this._componentConfigs[e]},t.getComponentConfigs=function(e,t,n,r){var i=this.__allConfig__[e];if(em(i)&&i.usingComponents&&em(i.usingComponents)){var o=this.getUsingComponents(e,r);for(var a in t[e]=o,o){var s=o[a];if(!n[s]){var c=this.getComponentConfig(s);n[s]=c,this.getComponentConfigs(s,t,n,r)}}}},t.getPageContainComponents=function(e){var t=this;if(!this._pageComponents[e]){var n={},r={};this.getComponentConfigs(e,n,r),this._pageComponents[e]={publicComponents:{},usingComponents:n,componentConfigs:r}}return Object.keys(this._pluginComponents).forEach((function(n){var r=t.pluginComponents[n],i=r.publicComponents,o=r.usingComponents,a=r.componentConfigs;Object.assign(t._pageComponents[e].publicComponents,i),Object.assign(t._pageComponents[e].usingComponents,o),Object.assign(t._pageComponents[e].componentConfigs,a)})),this._pageComponents[e]},t.addPlugin=function(e){var t=this,n=this.container.plugins[e].internalGlobal.__allConfig__;Object.keys(n).forEach((function(t){__allConfig__[e+"/"+t]=n[t]}));var r=this.container.plugins[e].internalGlobal.pluginConfig.publicComponents,i={},o={},a={};Object.keys(r).forEach((function(n){var s=e+"/"+n,c=e+"/"+r[n];t.container.publicPluginComponents[s]=c,i[s]=c,a[c]=t.getComponentConfig(c),t.getComponentConfigs(c,o,a,e)}));var s={publicComponents:i,usingComponents:o,componentConfigs:a};this._pluginComponents[e]=s;var c=getCurrentPages().map((function(e){return e.__webviewId__}));this.container.bridge.notifyWebviews("pluginConfigs",s,c)},ls(e,[{key:"pluginComponents",get:function(){return this._pluginComponents}},{key:"__allConfig__",get:function(){return __allConfig__}}]),e}(),qN=function(e){function t(){var t;return(t=e.call(this,Uw,Km())||this).bridge=new BN(fm(t)),t.componentInstances={},t.componentConfigStore=new UN(fm(t)),t.pageStack=[],t.fWillRoute=!0,t.detectUserInteraction=null,t.currentPage=void 0,t.openType=void 0,t.webViewInfo={dataStack:[],currentPageInstance:null,target:null,eventName:""},t.api=new ZS(fm(t),XP),t.renderers={},t.isForeground=!1,t.pagesToReload=[],t.tabs=new FN,t.pluginsLoading={},t.plugins={},t.publicPluginComponents={},t.performance=Yk,t.appInstance=void 0,t.shareMenuConfig={withShareTicket:!1},t.sizeCache={},t.appCopyable=void 0,t.onAppRoute=Kw(qw,t.onAppRoute.bind(fm(t))),t.onPageReload=Kw(Ww,t.onPageReload.bind(fm(t))),t.onPullDownRefresh=Kw(Vw,t.onPullDownRefresh.bind(fm(t))),t.onShareAppMessage=Kw(zw,t.onShareAppMessage.bind(fm(t))),t.onSaveExitState=Kw(Hw,t.onSaveExitState.bind(fm(t))),t}hm(t,e);var n=t.prototype;return n.setup=function(){e.prototype.setup.call(this),function(e){var t=e.bridge.on;t("onMetaUpdated",(function(t){var n=e.getApp();null==n||null==n.onMetaUpdated||n.onMetaUpdated(t)})),t("onTabbarDoubleTap",(function(t){void 0===t&&(t={});var n=e.getPages();0!==n.length?xT(n[n.length-1],"onTabbarDoubleTap",[t],!0):ps.error("There is no page ready when onTabbarDoubleTap triggered")})),t("onTabItemTap",(function(t){void 0===t&&(t={});var n=e.getPages();0!==n.length?xT(n[n.length-1],"onTabItemTap",[t],!0):ps.error("There is no page ready when onTabItemTap triggered")}))}(this),this.webviewEventInit(),this.emitter.on(Ww,this.onPageReload),this.emitter.on(Vw,this.onPullDownRefresh),this.emitter.on(zw,this.onShareAppMessage),this.emitter.on(Hw,this.onSaveExitState)},n.onAppRoute=function(e){var t,n,r,i,o,a=e.path,s=e.webviewId,c=e.query,u=void 0===c?{}:c,l=e.openType,f=e.trace;if(ps.log("On app route",a,s,u,l,l,f),Yk.mark({name:Hb,type:Lk,extra:{page:a,webviewID:s,type:l}}),l!==Fw.NAVIGATE_BACK&&sR(my,a),this.openType=l,l===Fw.NAVIGATE_TO)i=null==(o=this.pageStack[this.pageStack.length-1])?void 0:o.size.orientation,function(e,t,n,r,i){var o=e.currentPage,a=e.C;o&&hR(o),a.hasOwnProperty(n)?ps.error("onAppRoute: navigateTo with an already exist webviewId "+n):e.createPage(t,n,r,i)}(this,a,s,u,f);else if(l===Fw.REDIRECT_TO)!function(e,t,n,r,i){var o=e.currentPage,a=e.C;o&&pR(e,o),a.hasOwnProperty(n)?ps.error("onAppRoute: redirectTo with an already exist webviewId "+n):e.createPage(t,n,r,i)}(this,a,s,u,f);else if(l===Fw.NAVIGATE_BACK){var d;i=null==(d=function(e,t,n,r){var i=e.pageStack,o=e.host;bO(e,"navigateBack",{route:t});for(var a=!1,s=[],c=i.length-1;c>=0;--c){var u=i[c];if(u.webviewId===n){a=!0,e.currentPage=u,o.agent.isPC&&(u.page.onShareAppMessage&&"function"==typeof u.page.onShareAppMessage?o.ttJSBridge.invoke("showShareMenu"):o.ttJSBridge.invoke("hideShareMenu")),u.page.onShow();break}pR(e,u),s.unshift(u)}return a||ps.error("onAppRoute: navigateBack with an unexist webviewId "+n),s}(this,a,s)[0])?void 0:d.size.orientation}else l===Fw.SWITCH_TAB?function(e,t,n,r,i){var o=e.C,a=e.pageStack,s=!0;if(0!==a.length){for(;a.length>1;)pR(e,a[a.length-1]),s=!1;if(a[0].webviewId===n)return e.currentPage=a[0],void(s||e.currentPage.page.onShow());if(e.tabs.has(a[0].route)?s&&hR(a[0]):pR(e,a[0]),o.hasOwnProperty(n)){var c=o[n];e.currentPage=c,e.pageStack=[e.currentPage],c.page.onShow()}else e.pageStack=[],e.createPage(t,n,r,i)}else ps.warn("onAppRoute: switchTab before pages are registered.")}(this,a,s,u,f):l===Fw.APP_LAUNCH?function(e,t,n,r,i){e.C.hasOwnProperty(n)?ps.error("onAppRoute: appLaunch with an already exist webviewId "+n):e.createPage(t,n,r,i)}(this,a,s,u,f):l===Fw.RE_LAUNCH||l===Fw.AUTO_RELAUNCH?function(e,t,n,r,i){for(var o=e.pageStack;o.length>0;)pR(e,o[o.length-1]);e.createPage(t,n,r,i)}(this,a,s,u,f):l===Fw.REFRESH?function(e,t,n,r,i){var o=e.pageStack;pR(e,o[o.length-1]),e.optionsStoredByRoute[t]&&delete e.optionsStoredByRoute[t],e.createPage(t,n,r,i)}(this,a,s,u,f):ps.error("onAppRoute: Illegal open type: "+l);null==(t=this.pageStack[this.pageStack.length-1])||t.size.check(i),this.host.global.isRemoteDebug&&function(e,t,n){e.invoke("IDE.RouteChange",{route:t,webviewId:n})}(this.bridge,a,s),Lb(Zy,Rb).setPlatform("Tea").addMap({page_path:a,lifecycle_id:null==(n=this.host.agent.globalTrace)?void 0:n.traceId,application_id:null==(r=this.host.global.TMAConfig)?void 0:r.appId}).flush()},n.onEnterForeground=function(t){e.prototype.onEnterForeground.call(this,t),this.fWillRoute=!1},n.webviewEventInit=function(){var e=this,t=this;this.bridge.subscribe("PAGE_EVENT",(function(e,n){BT(t,Object.assign({webviewId:n},e))})),this.bridge.subscribe("COMPONENT_EVENT",(function(e,n){vR(t,e,n)})),this.bridge.subscribe("COMPONENT_DATA_CHANGE",(function(e,n){gR(t,e,n)})),this.bridge.subscribe("componentRelationChange",(function(e,n){mR(t,e,n)})),this.bridge.subscribe("vdomChange",Kw("onVDOMChange",yR)),this.bridge.on(_y,(function(t,n){n=n||t.webViewId,ps.log("onPageResize triggered",t,n);var r=e.C[n];r?(r.size.updatePageSize(t),r===e.pageStack[e.pageStack.length-1]&&r.size.check()):e.sizeCache[n]=t.size,e.bridge.publish(_y,t,[n])})),this.bridge.on(Sy,(function(t){ps.log("onWindowResize triggered",t);for(var n=0,r=Object.values(e.C);n<r.length;n++){r[n].size.updateWindowSize(t)}e.pageStack[e.pageStack.length-1]&&e.pageStack[e.pageStack.length-1].size.check(),e.emitter.emit(Sy,t)})),this.bridge.subscribe("sendBackPerformance",(function(e,t){e.data.forEach((function(e){var n=e[0],r=e[1],i=e[2],o=Yk.getPagePath(t);Yk.addToStackTimeline("webview",{name:n===Hk?ck:uk,type:n===Hk?Wk:Vk,start:r,end:i,extra:{page:o,webviewID:t}})}))})),function(e){var t=e.bridge,n=e.webViewInfo,r=t.subscribe;r(Ry.inserted,(function(t){if(mO(e),null!=t&&t.bindmessage){var r=o_(),i=r.length;0!==i&&(n.eventName=t.bindmessage,n.target=t.target,n.currentPageInstance=r[i-1],i>1&&(n.prePageRoute=r[i-2].__route__))}})),r(Ry.removed,(function(){yO(e),mO(e)}))}(this)},n.firstRender=function(e,t){this.host.newFramework?gN.call(e,t):uR.call(e,t)},n.createPage=function(e,t,n,r){var i,o,a,s,c,u,l,f={webviewID:t,page:e},d=Yk.startStack({name:tk,type:Lk,extra:f});if(ps.log("creating_page ==> route: ",e," wvid: ",t," query: ",n," trace: ",r),sR(vy,e),!this.optionsStoredByRoute.hasOwnProperty(e)){var h=Yk.startStack({name:Yb,type:Ok,extra:{script:e+"-service.js"}});try{var p,v,g=e+"-service.js";if(null!=(p=this.host.global)&&p.hasDefine(g))null==(v=this.host.global)||v.require(g);else this.host.loadScript(g)}catch(e){Lb(Hy,ib).setPlatform("TeaSlardar").addMap({errMsg:JSON.stringify(e)||""}).flush()}Yk.endStack(h)}this.optionsStoredByRoute.hasOwnProperty(e)?l=this.optionsStoredByRoute[e]:(ps.warn("Page route éè¯¯: Page["+e+"] not found. May be caused by: 1. Forgot to add page route in app.json. 2. Invoking Page() in async task."),l={}),this.host.newFramework&&(this.renderers[t]=new EN(t,this));var m=Yw(n),y=this.getInstance(l,t,e,r,m),b=this.sizeCache[t];delete this.sizeCache[t];var k,w,_={page:y,webviewId:t,route:e,size:new LN(y,(k=null==(i=this.TMAConfig.global.window)?void 0:i.pageOrientation,w=null==(o=this.allConfigs)||null==(a=o[e])?void 0:a.pageOrientation,w===jN||w===NN||w===DN?w:k===jN||k===NN?k:DN),null!=(s=null==(c=this.pageStack[this.pageStack.length-1])||null==(u=c.size)?void 0:u.orientation)?s:"portrait",b)};this.currentPage=_,this.pageStack.push(_),y.options=m,this.firstRender(y,!1),y.onShareAppMessage&&"function"==typeof y.onShareAppMessage?this.host.agent.isPC&&this.host.ttJSBridge.invoke("showShareMenu"):this.bridge.invokeMethod("hideShareMenu"),this.C[t]=_,y.onLoad(n),y.onShow(),sR(gy,e),Yk.endStack(d)},n.getInstance=function(e,t,n,r,i){var o;return e instanceof dO?(ps.log("component as page",n),function(e){var t=function(t){if(e_(e[t])&&TT.includes(t)){var n=e[t];e[t]=function(r){var i=void 0,o=void 0;"onShow"===t?(i=yy,o=by):"onHide"===t&&(i=ky,o=wy),IO(e,t,r),i&&Lb(Gy,eb(i,bm.trace)).addMap({page_path:e.__route__,webview_id:e.__webviewId__}).flush(),n.apply(e,Array.from(arguments)),o&&Lb(Gy,eb(o,bm.trace)).addMap({page_path:e.__route__,webview_id:e.__webviewId__}).flush()}}};for(var n in e)t(n)}(o=this.host.newFramework?new wN(e,t,n,"body",i):new dR(e,t,n,0,i))):o=this.host.newFramework?new _N(e,t,n,r):new fR(e,t,n,r),o},n.deletePage=function(e){MN(this,e),delete this.pluginsLoading[e],delete this.renderers[e],delete this.C[e]},n.onPageReload=function(e){var t=e.webviewId;if(ps.info("On page reload"),this.isForeground)if(this.C.hasOwnProperty(t)){var n=this.C[t].page;if(MN(this,t),this.host.newFramework){var r=this.renderers[t]=new EN(t,this);n.rind.element=r.createElement("body"),n.rind.element.host=n}this.firstRender(n,!0),n.onReload()}else ps.error("onPageReload: Can not find webviewId "+t);else this.pagesToReload.push(e)},n.flushPagesToReload=function(){var e=this;this.pagesToReload.forEach((function(t){return e.onPageReload(t)})),this.pagesToReload=[]},n.onPullDownRefresh=function(e){if(this.C.hasOwnProperty(e)){var t=this.C[e],n=t.page;ps.info("Invoke event onPullDownRefresh in page: "+t.route),xT(n,"onPullDownRefresh",[],!0)}},n.onShareAppMessage=function(e){var t=e.options,n=void 0===t?{}:t,r=e.webviewId;if(bO(this,"shareAppMessage",{}),null===n&&(n={}),r||(r=this.pageStack[this.pageStack.length-1].webviewId),this.C[r]){var i=function(e,t,n){"object"==typeof t&&null!==t||(t={});var r=e.C[n],i=r.page,o="onShareAppMessage",a=Object.assign({},t);if(s_(i,o)){var s,c={from:t.from||"menu",target:t.target,channel:t.channel,webViewUrl:t.webViewUrl},u=null!=(s=xT(i,o,[c],!0))?s:{};a=Object.assign(a,u)}if("string"==typeof a.path&&""!==a.path)a.path.startsWith("/")&&(a.path=a.path.substr(1)),a.path=encodeURIComponent(nS(a.path)||"");else{var l=r.route;Object.keys(i.options).length>0&&(l+="?"+Object.keys(i.options).map((function(e){return e+"="+encodeURIComponent(i.options[e])})).join("&")),a.path=encodeURIComponent(l)}return"string"==typeof a.PCPath&&""!==a.PCPath&&(a.PCPath.startsWith("/")&&(a.PCPath=a.PCPath.substr(1)),a.PCPath=encodeURIComponent(a.PCPath)),ps.log("CUSTOM_SHARE_RESULT",a),a}(this,n,r),o=this.shareMenuConfig;"channel"in n&&(i.channel=n.channel);var a,s=i.fail;i.path||i.PCPath||(a={errMsg:"shareAppMessage:fail option.path or option.PCPath is required"}),i.PCPath&&!i.PCMode&&(a={errMsg:"shareAppMessage:fail option.PCMode is required"}),!i.PCPath&&i.PCMode&&(a={errMsg:"shareAppMessage:fail option.PCPath is required"}),a?s&&s(a):this.bridge.invokeMethod("shareAppMessageDirectly",Object.assign({},i,o),{beforeAll:function(e){e.errMsg=e.errMsg.replace("shareAppMessageDirectly","shareAppMessage"),e.errMsg.startsWith("shareAppMessage:cancel")&&(e.errMsg="shareAppMessage:fail cancel")}})}},n.onSaveExitState=function(e){var t=e.event,n=e.webviewId;if(n||(n=this.pageStack[this.pageStack.length-1].webviewId),this.C[n]){var r=this.C[n].page,i=r.__route__,o="onSaveExitState",a=(t||{}).type,s=void 0===a?"":a;if(s_(r,o)){var c,u=null!=(c=xT(r,o,[{}],!0))?c:{},l=Object.keys(r.options).filter((function(e){return"exitState"!==e})).map((function(e){return e+"="+encodeURIComponent(r.options[e])})).join("&");this.bridge.invokeMethod("saveExitAppState",{exitState:u,path:i,type:s,query:l})}else this.bridge.invokeMethod("saveExitAppState",{})}},n.getAllPageWebviewIds=function(){return Object.values(this.C).map((function(e){return e.webviewId}))},n.getPages=function(){return this.pageStack.map((function(e){return e.page}))},n.getComponent=function(e,t){var n;return null==(n=this.componentInstances[e][t])?void 0:n.instance},n.getConfig=function(e){return this.allConfigs[e]},n.getRenderer=function(e){return this.renderers[e]},n.createApp=function(e){var t,n,r,i;this.appInstance||(this.tabs.init(null!=(t=null==(n=this.TMAConfig)||null==(r=n.tabBar)||null==(i=r.list)||null==i.map?void 0:i.map((function(e){return e.pagePath||""})))?t:[]),this.appInstance=new RN(e,this),this.host.global.snapshotLaunch||this.appInstance.startApp());return this.appInstance},n.getApp=function(){return this.appInstance},n.checkUrlInConfig=function(e){var t=e.replace(/\.html\?.*|\.html$/,"").replace(/\?.*$/,"");return this.TMAConfig.pages.includes(t)},n.dispatchUnhandledRejectionEvent=function(e){var t=this.getApp(),n=!1;return t&&"function"==typeof t.onUnhandledRejection&&(t.onUnhandledRejection(e),n=!0),n||(n=this.emitter.size(Ny)>0),this.emitter.emit(Ny,e),n},n.updateShareMenu=function(e){Object.assign(this.shareMenuConfig,e)},n.setAppCopyable=function(e){this.appCopyable=e},ls(t,[{key:"TMAConfig",get:function(){return this.host.global.TMAConfig}},{key:"allConfigs",get:function(){return this.host.global.__allConfig__}},{key:"isSSBModel",get:function(){return!!this.host.global.isSSBModel}},{key:"isSnapshotLaunch",get:function(){return!!this.host.global.snapshotLaunch}}]),t}(_O),WN=function(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var r in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(""+e.getFullYear()).substr(4-RegExp.$1.length))),n)if(new RegExp("("+r+")").test(t)){var i=n[r];t=t.replace(RegExp.$1,""+(1===RegExp.$1.length?i:("00"+i).substr((""+i).length)))}return t};function VN(e){var t,n=function(e){var t={};for(var n in e)t[n]=e[n];return t}(console),r=e.global,i=e.onContainerEvent,o=r.TMAConfig,a="pc"===o.platform,s="android"===o.platform,c=0;function u(r){void 0===r&&(r=!0);var i={cmd:"log",payload:{}},o=function(o){"function"==typeof console[o]&&(console[o]=function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];if(r){for(var f,d="",h=us(c);!(f=h()).done;){var p=f.value;d+="string"==typeof p?p+" ":JSON.stringify(p)+" "}d.length>0&&(d=d.substr(0,d.length-1));var v=WN(new Date,"yyyy-MM-dd hh:mm:ss:S");if(i.payload={content:d,level:o,timestamp:v},a){var g=l(i);t.send(JSON.stringify(g))}else e.getContainer().bridge.invokeMethod("consoleLogOutput",i)}n[o].apply(n,c)})};for(var s in console)o(s)}function l(e){return e.mid=""+ ++c,e.payload=Object.assign(e.payload,{layer:"app",appId:o.appId||"",appMode:o.mode||"",appName:o.appName||""}),e}if(a||i("onOpenLogStateChanged",(function(e,t){u(t.allowLog)})),o&&"object"==typeof o&&o.hostConfig&&("object"==typeof o.hostConfig||"string"==typeof o.hostConfig))if(s)try{var f=JSON.parse(o.hostConfig);null!=f&&f.openLog&&u()}catch(e){}else o.hostConfig.openLog&&(a?function(e){if(e&&"string"==typeof e){var n=new URL(e).origin+"?from=device&phone_brand="+o.platform+"&app_id="+o.appId+"&app_name="+o.appName;(t=new WebSocket(n)).onopen=function(e){u()},t.onmessage=function(e){},t.onerror=function(e){u(!1),t.close()},t.onclose=function(e){u(!1)}}}(o.websocketInfo):u())}var zN=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).mockTTMethod={},t}hm(t,e);var n=t.prototype;return n.setup=function(){var t=this;e.prototype.setup.call(this),Nb.init({maxCacheCount:20,maxCacheTime:4e3});var n={__element:MR,__pair:PR,__ifPair:OR,__forPair:RR,__tplPair:NR,__slot:DR,__customElement:jR};this.global.window?Object.assign(this.global.window,Object.assign({},n)):Object.assign(this.global,{window:n}),Object.assign(this.global,Object.assign({},n)),this.setContainer(new qN),VN(this),SO(this),function(e){var t=e.global,n=[];"object"==typeof t.TMAConfig&&null!==t.TMAConfig&&(t.TMAConfig.onReady=function(e){e(t.TMAConfig)},t.TMAConfig.onRealReady=function(e){"function"==typeof e&&n.push(e)},t.TMAConfig.ready=function(){n.forEach((function(e){e(t.TMAConfig)}))})}(this),this.global.metaReady=function(){return t.metaReady()},"kernel"===this.runningSpace&&(Object.defineProperty(this.global,"mockTTMethod",{enumerable:!1,configurable:!0,writable:!1,value:new Proxy(this.mockTTMethod,{set:function(e,t,n){return e[t]=n,!0},ownKeys:function(){return[]}})}),Object.defineProperty(this.global,"getCurrentPageComponent",{enumerable:!1,configurable:!0,writable:!1,value:function(e){var n=t.getContainer();if(n.currentPage)return n.getComponent(n.currentPage.webviewId,e)}}))},n.getContainer=function(){return e.prototype.getContainer.call(this,Uw)},n.injectToGlobal=function(t){e.prototype.injectToGlobal.call(this,t)},n.metaReady=function(){var e=pO().whiteList;e&&-1!==e.indexOf("eval")&&(this.global.eval=this._eval),this.global.metaReady=void 0},ls(t,[{key:"newFramework",get:function(){var e,t;return!(null==(e=this.global)||null==(t=e.window)||!t.app)||void 0!==this.global.FRAMEWORK_VERSION}}]),t}(iO);function HN(e){if("Object"===rm(e)){var t=new dO(e,"/"+globPageRegistPath);Lw(Uw).optionsStoredByRoute[globPageRegistPath]=t}else ps.warn("Component's option must be an object, see "+globPageRegistPath+".js")}var GN=function(){ps.warn("Page is not supported in plugin")},JN=0,KN=0;var $N=function(e){return function t(n){if("string"!=typeof n)throw new TypeError("require args must be type of string. Received type "+typeof n);var r=Km().getContainer(),i=r.plugins[e];if(void 0===i||"loaded"!==i.state)throw Lb(Qy,Pb).setPlatform("TeaSlardar").addMap({plugin_id:e,plugin_state:i?i.state:"unstarted",plugin_version:i?i.version:"",plugin_file_path:n,errMsg:"not loaded"}).flush(),new Error("plugin "+e+" is not loaded");var o=e+"/"+n,a=Rw[o];if(!a){var s=Date.now();try{Gg.loadPluginScript(e,i.version,n)}catch(t){Lb(Qy,Pb).setPlatform("TeaSlardar").addMap({plugin_id:e,plugin_version:i.version,plugin_file_path:n,errMsg:JSON.stringify(t)||""}).flush(),ps.error(t)}finally{JN+=Date.now()-s,KN++}a=Rw[o]}if(!Rw[o])throw new Error("plugin "+e+' module "'+n+'" is not defined');if(!a.runed){var c,u=a.factory,l={exports:{}};if(a.runed=!0,a.exports=l.exports,"function"==typeof u){var f=Nw(n,t);"plugin-service.js"===n?(c=u(f,l,l.exports,i.internalGlobal),r.componentConfigStore.addPlugin(e)):c=u(f,l,l.exports,i.globalThis,tt,void 0,void 0,GN,HN,sO),a.exports=l.exports||c}}return a.exports}};Gg.requirePlugin=function(e){if(JN=0,KN=0,"string"!=typeof e)throw new TypeError("requirePlugin args must be type of string. Received type "+typeof e);var t,n=Km().getContainer().plugins[e],r=$N(e);try{t=r("plugin-service.js")}catch(t){var i;null==(i=Km())||i.dispatchUnhandledError(new Aw("run plugin '"+e+"' error",{cause:t})),ps.error(t)}finally{Lb(Qy,xb).setPlatform("TeaSlardar").addMap({plugin_id:e,plugin_state:n?n.state:"unstarted",plugin_version:n?n.version:"",require_plugin_time:JN,require_plugin_file_count:KN}).flush()}return t};var YN=Kw("Initializing",(function(e){Lw(Uw).createApp(e)}));var QN,XN=new zN;QN=XN,Vm&&ps.warn("Host already exists"),Vm=QN,function(){try{Hm(Vm);for(var e,t=us(Jm);!(e=t()).done;){(0,e.value)(Vm)}}catch(e){ps.error(e)}}();var ZN=["getUpdateManager","getNfcAdapter","createCanvasContext","createSelectorQuery","IntersectionObserver","getCustomizedInput","createIntersectionObserver","createInnerAudioContext","reportAnalytics","opmonitor"],ej={},tj=Object.assign({},ZP,XN.getContainer().api.exports),nj=function(e){var t=tj[e];if("function"==typeof t)if("kernel"===XN.runningSpace){var n=e.endsWith("Sync")||ZN.includes(e),r=e.startsWith("on")||e.startsWith("off");ej[e]=function(i){for(var o,a=null==(o=XN.mockTTMethod)?void 0:o[e],s=function(t){var n,r=Object.assign({errMsg:e+":ok"},t);return null!=(n=r.errMsg)&&null!=n.endsWith&&n.endsWith(":ok")?"function"==typeof(null==i?void 0:i.success)&&(null==i||i.success(r)):"function"==typeof(null==i?void 0:i.fail)&&(null==i||i.fail(r)),"function"==typeof(null==i?void 0:i.complete)&&(null==i||i.complete(r)),t},c=arguments.length,u=new Array(c>1?c-1:0),l=1;l<c;l++)u[l-1]=arguments[l];if("function"!=typeof a)return a?n?a:void s(a):t.apply(void 0,[i].concat(u));var f=a([i].concat(u),{origin:t,method:e});if(n)return f;r||Promise.resolve(f).then(s).catch((function(t){"function"==typeof(null==i?void 0:i.fail)&&(null==i||i.fail({errMsg:e+":fail",error:t}))}))}}else ej[e]=aS(t,"at tt."+e);else ej[e]=t};for(var rj in tj)nj(rj);return t.App=YN,t.Behavior=sO,t.Component=HN,t.Page=function(e){if(!globPageRegistering)throw new Pw("Can not declare more than one Page in same js file, otherwise will be ignore. see "+globPageRegistPath+".js");if(globPageRegistering=!1,!function(e){if(!TMAConfig.pages||!Array.isArray(TMAConfig.pages))return!1;for(var t=0;t<TMAConfig.pages.length;t++)if(TMAConfig.pages[t]===e)return!0;return!1}(globPageRegistPath))throw new Pw("Invalid path: "+globPageRegistPath+", it doesn't declared in app.json's pages attribue.");if("Object"!==rm(e))throw new xw("Page's option must be an object, see "+globPageRegistPath+".js");Lw(Uw).optionsStoredByRoute[globPageRegistPath]=e},t.getApp=function(){return Lw(Uw).getApp()},t.getCurrentPages=o_,t.tt=ej,Object.defineProperty(t,"__esModule",{value:!0}),t}({});e.tt=e.wx=t.tt,e.App=t.App,e.Page=t.Page,e.getApp=t.getApp,e.Component=t.Component,e.Behavior=t.Behavior,e.getCurrentPages=t.getCurrentPages}("undefined"==typeof globalThis?this:globalThis);
